
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Reference materials and information for chickenstats.evolving_hockey.stats">
      
      
        <meta name="author" content="Chicken and Stats">
      
      
        <link rel="canonical" href="https://chickenstats.com/1.7/reference/evolving_hockey/stats/">
      
      
        <link rel="prev" href="../../chicken_nhl/scrape/">
      
      
        <link rel="next" href="../../../xg_model/xg_model/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/site_images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34+insiders-4.53.13">
    
    
      
        <title>stats - chickenstats</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.52c0e027.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


  
  
    
    
      
    
    
  
    
    
      
    
    
  
    
    
      
    
    
  
    
    
      
    
    
  
    
    
      
    
    
  
  
  <style>.md-tag.md-tag--chickenstats{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.16 12.73A6.27 6.27 0 0 0 19.09 3c-2.01-1.33-4.7-1.34-6.73-.03-1.76 1.13-2.73 2.89-2.9 4.71-.13 1.32-.63 2.55-1.55 3.47l-.03.03c-1.16 1.16-1.16 2.93-.07 4.01l.99.99a2.794 2.794 0 0 0 3.95 0c.97-.97 2.25-1.5 3.64-1.65 1.37-.15 2.71-.75 3.77-1.8m-13.9 7.13c.27.56.18 1.24-.29 1.7a1.49 1.49 0 0 1-2.55-.98 1.49 1.49 0 0 1-.98-2.55c.46-.46 1.15-.56 1.7-.29l2.48-2.43c.14.19.3.41.48.59l.99.99c.21.2.41.37.67.52z"/></svg>');}.md-tag.md-tag--chicken-nhl{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.68 4H14.3l-1.74 4c-.03.04-.11.22-.25.5s-.25.54-.31.69L9.7 4H6.32l4.09 8.84c.09.22.32.75.7 1.59.39.85.67 1.48.89 1.92l1.41 3.09c.19.34.48.51.89.51L19 20v-4h-4l-1.4-3.16zm2.35 12v4H22v-3c0-.27-.09-.5-.28-.72-.19-.2-.42-.28-.72-.28zM5 16v4l4.7-.05c.41 0 .7-.17.89-.51l.85-1.94-1.6-3.44L9 16zm-3 4h1.97v-4H3c-.3 0-.53.08-.72.28-.19.22-.28.45-.28.72z"/></svg>');}.md-tag.md-tag--evolving-hockey{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5C6.5 5 2 6.57 2 8.5S6.5 12 12 12s10-1.57 10-3.5S17.5 5 12 5M2 11.76v4.74C2 18.43 6.5 20 12 20s10-1.57 10-3.5v-4.74c-.67.46-1.42.81-2.27 1.1C17.62 13.6 14.95 14 12 14s-5.62-.4-7.73-1.14c-.85-.29-1.6-.64-2.27-1.1"/></svg>');}.md-tag.md-tag--hockey{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5C6.5 5 2 6.57 2 8.5S6.5 12 12 12s10-1.57 10-3.5S17.5 5 12 5M2 11.76v4.74C2 18.43 6.5 20 12 20s10-1.57 10-3.5v-4.74c-.67.46-1.42.81-2.27 1.1C17.62 13.6 14.95 14 12 14s-5.62-.4-7.73-1.14c-.85-.29-1.6-.64-2.27-1.1"/></svg>');}.md-tag.md-tag--xg-model{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.86 4.39v15c0 1.67 1.14 2.61 2.39 2.61 1.14 0 2.39-.79 2.39-2.61V4.5c0-1.54-1.14-2.5-2.39-2.5s-2.39 1.06-2.39 2.39M9.61 12v7.39C9.61 21.07 10.77 22 12 22c1.14 0 2.39-.79 2.39-2.61v-7.28c0-1.54-1.14-2.5-2.39-2.5S9.61 10.67 9.61 12m-3.86 5.23c1.32 0 2.39 1.07 2.39 2.38a2.39 2.39 0 1 1-4.78 0c0-1.31 1.07-2.38 2.39-2.38"/></svg>');}</style>

    
    
      
    
    
      
        
        
        
        <link rel="stylesheet" href="../../../assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-S4K9S6V8XX"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-S4K9S6V8XX",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-S4K9S6V8XX",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
  
<meta property="og:type" content="website" />
<meta property="og:title" content="stats - chickenstats" />
<meta property="og:description" content="Reference materials and information for chickenstats.evolving_hockey.stats" />
<meta property="og:image" content="https://chickenstats.com/1.7/assets/images/social/reference/evolving_hockey/stats.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:url" content="https://chickenstats.com/1.7/reference/evolving_hockey/stats/" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="stats - chickenstats" />
<meta property="twitter:description" content="Reference materials and information for chickenstats.evolving_hockey.stats" />
<meta property="twitter:image" content="https://chickenstats.com/1.7/assets/images/social/reference/evolving_hockey/stats.png" />
 <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stats" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
  For updates follow <a href="https://twitter.com/chickenandstats">
    <strong>@chickenandstats</strong>
  </a> on
  <a href="https://twitter.com/chickenandstats">
    <span class="twemoji twitter">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </span>
    <strong>Twitter</strong>
  </a>

          </div>
          
        </aside>
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../../../..">
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="chickenstats" class="md-header__button md-logo" aria-label="chickenstats" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.16 12.73A6.27 6.27 0 0 0 19.09 3c-2.01-1.33-4.7-1.34-6.73-.03-1.76 1.13-2.73 2.89-2.9 4.71-.13 1.32-.63 2.55-1.55 3.47l-.03.03c-1.16 1.16-1.16 2.93-.07 4.01l.99.99a2.794 2.794 0 0 0 3.95 0c.97-.97 2.25-1.5 3.64-1.65 1.37-.15 2.71-.75 3.77-1.8m-13.9 7.13c.27.56.18 1.24-.29 1.7a1.49 1.49 0 0 1-2.55-.98 1.49 1.49 0 0 1-.98-2.55c.46-.46 1.15-.56 1.7-.29l2.48-2.43c.14.19.3.41.48.59l.99.99c.21.2.41.37.67.52z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            chickenstats
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              stats
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/chickenandstats/chickenstats" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../guide/guide/" class="md-tabs__link">
          
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../reference/" class="md-tabs__link">
          
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../xg_model/xg_model/" class="md-tabs__link">
          
  
  xG Model

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../blog/" class="md-tabs__link">
          
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../contribute/contribute/" class="md-tabs__link">
          
  
  Contribute

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="chickenstats" class="md-nav__button md-logo" aria-label="chickenstats" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.16 12.73A6.27 6.27 0 0 0 19.09 3c-2.01-1.33-4.7-1.34-6.73-.03-1.76 1.13-2.73 2.89-2.9 4.71-.13 1.32-.63 2.55-1.55 3.47l-.03.03c-1.16 1.16-1.16 2.93-.07 4.01l.99.99a2.794 2.794 0 0 0 3.95 0c.97-.97 2.25-1.5 3.64-1.65 1.37-.15 2.71-.75 3.77-1.8m-13.9 7.13c.27.56.18 1.24-.29 1.7a1.49 1.49 0 0 1-2.55-.98 1.49 1.49 0 0 1-.98-2.55c.46-.46 1.15-.56 1.7-.29l2.48-2.43c.14.19.3.41.48.59l.99.99c.21.2.41.37.67.52z"/></svg>

    </a>
    chickenstats
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/chickenandstats/chickenstats" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../guide/guide/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 3v15h3V3zm3 2 4 13 3-1-4-13zM5 5v13h3V5zM3 19v2h18v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    
  
    chicken_nhl
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    chicken_nhl
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chicken_nhl/scrape/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 20h14v-2H5m14-9h-4V3H9v6H5l7 7z"/></svg>
  
  <span class="md-ellipsis">
    
  
    scrape
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    
  
    evolving_hockey
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    evolving_hockey
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5C6.5 5 2 6.57 2 8.5S6.5 12 12 12s10-1.57 10-3.5S17.5 5 12 5M2 11.76v4.74C2 18.43 6.5 20 12 20s10-1.57 10-3.5v-4.74c-.67.46-1.42.81-2.27 1.1C17.62 13.6 14.95 14 12 14s-5.62-.4-7.73-1.14c-.85-.29-1.6-.64-2.27-1.1"/></svg>
  
  <span class="md-ellipsis">
    
  
    stats
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5C6.5 5 2 6.57 2 8.5S6.5 12 12 12s10-1.57 10-3.5S17.5 5 12 5M2 11.76v4.74C2 18.43 6.5 20 12 20s10-1.57 10-3.5v-4.74c-.67.46-1.42.81-2.27 1.1C17.62 13.6 14.95 14 12 14s-5.62-.4-7.73-1.14c-.85-.29-1.6-.64-2.27-1.1"/></svg>
  
  <span class="md-ellipsis">
    
  
    stats
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#evolving_hockey.stats.prep_pbp" class="md-nav__link">
    <span class="md-ellipsis">
      
        prep_pbp
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evolving_hockey.stats.prep_stats" class="md-nav__link">
    <span class="md-ellipsis">
      
        prep_stats
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evolving_hockey.stats.prep_lines" class="md-nav__link">
    <span class="md-ellipsis">
      
        prep_lines
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evolving_hockey.stats.prep_team" class="md-nav__link">
    <span class="md-ellipsis">
      
        prep_team
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../xg_model/xg_model/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    xG Model
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../blog/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Blog
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../contribute/contribute/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Contribute
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
        
  
    <li class="md-path__item">
      <a href="../../.." class="md-path__link">
        
  <span class="md-ellipsis">
    Home
  </span>

      </a>
    </li>
  

      
      
        
  
    
    
      <li class="md-path__item">
        <a href="../../reference/" class="md-path__link">
          
  <span class="md-ellipsis">
    Reference
  </span>

        </a>
      </li>
    
  

      
        
  
    
    
      <li class="md-path__item">
        <a href="./" class="md-path__link">
          
  <span class="md-ellipsis">
    evolving_hockey
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="stats"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5C6.5 5 2 6.57 2 8.5S6.5 12 12 12s10-1.57 10-3.5S17.5 5 12 5M2 11.76v4.74C2 18.43 6.5 20 12 20s10-1.57 10-3.5v-4.74c-.67.46-1.42.81-2.27 1.1C17.62 13.6 14.95 14 12 14s-5.62-.4-7.73-1.14c-.85-.29-1.6-.64-2.27-1.1"/></svg></span> <strong>stats</strong></h1>
<p>Reference materials for <code>chickenstats.evolving_hockey.stats</code>.</p>
<p>For more detailed walk-throughs or examples, please consult the <strong><a href="../../../guide/guide/"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3 1 9l11 6 9-4.91V17h2V9M5 13.18v4L12 21l7-3.82v-4L12 17z"/></svg></span> User Guide</a></strong></p>


<div class="doc doc-object doc-function">


<h2 id="evolving_hockey.stats.prep_pbp" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">prep_pbp</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">prep_pbp</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">pbp</span><span class="p">,</span> <span class="n">shifts</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s2">&quot;full&quot;</span><span class="p">,</span> <span class="n">disable_progress_bar</span><span class="o">=</span><span class="kc">False</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Prepares a play-by-play dataframe using EvolvingHockey data, but with additional stats and information.</p>
<p>Columns keyword argument determines information returned. Used in later aggregation
functions. Returns a DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>pbp</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Pandas DataFrame of CSV file downloaded from play-by-play query tool at evolving-hockey.com</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>shifts</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Pandas DataFrame of CSV file downloaded from shifts query tool at evolving-hockey.com</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>columns</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to return additional columns or more sparse play-by-play dataframe</p>
              </div>
            </td>
            <td>
                  <code>&#39;full&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>disable_progress_bar</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to disable progress bar</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>season</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>8-digit season code, e.g., 20192020</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>session</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Regular season or playoffs, e.g., R</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>game_id</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>10-digit game identifier, e.g., 2019020684</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>game_date</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Date of game in Eastern time-zone, e.g., 2020-01-09</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_index</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unique index number of event, in chronological order, e.g.,</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>game_period</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Game period, e.g., 3</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>game_seconds</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Game time elapsed in seconds, e.g., 3578</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>period_seconds</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Period time elapsed in seconds, e.g., 1178</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>clock_time</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Time shown on clock, e.g., 0:22</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>strength_state</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Strength state from the perspective of the event team, e.g., 5vE</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>score_state</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Score state from the perspective of the event team, e.g., 5v2</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_type</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the event, e.g., GOAL</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_description</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Description of the event, e.g., NSH #35 RINNE(1), WRIST, DEF. ZONE, 185 FT.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_detail</code></td>            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional information about the event, e.g., Wrist</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_zone</code></td>            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Zone location of event, e.g., DEF</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_team</code></td>            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>3-letter abbreviation of the team for the event, e.g., NSH</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_team</code></td>            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>3-letter abbreviation of the opposing team for the event, e.g., CHI</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>is_home</code></td>            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to signify whether event team is home team, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>coords_x</code></td>            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>X coordinates of event, e.g., -96</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>coords_y</code></td>            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Y coordinates of event, e.g., 11</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_player_1</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the first event player, e.g., PEKKA.RINNE</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_player_1_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier that can be used to match with Evolving Hockey data, e.g., PEKKA.RINNE</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_player_1_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Player's position for the game, may differ from primary position, e.g., G</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_player_2</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the second event player</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_player_2_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier that can be used to match with Evolving Hockey data</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_player_2_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Player's position for the game, may differ from primary position</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_player_3</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the third event player</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_player_3_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier that can be used to match with Evolving Hockey data</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_player_3_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Player's position for the game, may differ from primary position</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_length</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Length of time elapsed in seconds since previous event, e.g., 5</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>high_danger</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether shot event is from high-danger area, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>danger</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether shot event is from danger area,
exclusive of high-danger area, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pbp_distance</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Distance from opponent net, in feet, according to play-by-play description, e.g., 185.0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_distance</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Distance from opponent net, in feet, e.g., 185.326738</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_angle</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Angle of opponent's net from puck, in degrees, e.g., 57.528808</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_strength_state</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Strength state from the perspective of the opposing team, e.g., Ev5</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_score_state</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Score state from the perspective of the opposing team, e.g., 2v5</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_f</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the event team's forwards that are on the ice during the event,
e.g., NICK BONINO, CALLE JARNKROK, MIKAEL GRANLUND</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_f_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH IDs of the event team's forwards that are on the ice during the event,
e.g., NICK.BONINO, CALLE.JARNKROK, MIKAEL.GRANLUND</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_d</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the event team's defensemen that are on the ice during the event,
e.g., MATTIAS EKHOLM, ROMAN JOSI</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_d_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH IDs of the event team's defensemen that are on the ice during the event,
e.g., MATTIAS.EKHOLM, ROMAN.JOSI</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_g</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the goalie for the event team, e.g., PEKKA RINNE</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_g_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier for the event team goalie that can be used to match with Evolving Hockey data, e.g., PEKKA.RINNE</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_1</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of one the event team's players that are on the ice during the event,
e.g., CALLE.JARNKROK</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_1_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH ID of one the event team's players that are on the ice during the event,
e.g., CALLE.JARNKROK</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_1_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position of one the event team's players that are on the ice during the event,
e.g., C</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_2</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of one the event team's players that are on the ice during the event,
e.g., MATTIAS.EKHOLM</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_2_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH ID of one the event team's players that are on the ice during the event,
e.g., MATTIAS.EKHOLM</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_2_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position of one the event team's players that are on the ice during the event,
e.g., D</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_3</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of one the event team's players that are on the ice during the event,
e.g., MIKAEL.GRANLUND</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_3_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH ID of one the event team's players that are on the ice during the event,
e.g., MIKAEL.GRANLUND</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_3_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position of one the event team's players that are on the ice during the event,
e.g., C</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_4</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of one the event team's players that are on the ice during the event,
e.g., NICK.BONINO</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_4_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH ID of one the event team's players that are on the ice during the event,
e.g., NICK.BONINO</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_4_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position of one the event team's players that are on the ice during the event,
e.g., C</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_5</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of one the event team's players that are on the ice during the event,
e.g., PEKKA.RINNE</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_5_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH ID of one the event team's players that are on the ice during the event,
e.g., PEKKA.RINNE</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_5_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position of one the event team's players that are on the ice during the event,
e.g., G</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_6</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of one the event team's players that are on the ice during the event,
e.g., ROMAN.JOSI</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_6_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH ID of one the event team's players that are on the ice during the event,
e.g., ROMAN.JOSI</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_6_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position of one the event team's players that are on the ice during the event,
e.g., D</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_7</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of one the event team's players that are on the ice during the event,
e.g., NaN</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_7_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH ID of one the event team's players that are on the ice during the event,
e.g., NaN</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>event_on_7_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position of one the event team's players that are on the ice during the event,
e.g., NaN</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_f</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the opponent's forwards that are on the ice during the event,
e.g., ALEX DEBRINCAT, JONATHAN TOEWS, KIRBY DACH, PATRICK KANE</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_f_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH IDs of the event team's forwards that are on the ice during the event,
e.g., ALEX.DEBRINCAT, JONATHAN.TOEWS, KIRBY.DACH, PATRICK.KANE</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_d</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the opposing team's defensemen that are on the ice during the event,
e.g., DUNCAN KEITH, ERIK GUSTAFSSON</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_d_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH IDs of the opposing team's defensemen that are on the ice during the event,
e.g., DUNCAN.KEITH, ERIK.GUSTAFSSON2</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_g</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the opposing goalie for the event team, e.g., EMPTY NET</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_g_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier for the opposing goalie that can be used to match with Evolving Hockey data, e.g., EMPTY NET</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_1</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of one the opposing team's players that are on the ice during the event,
e.g., ALEX.DEBRINCAT</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_1_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH ID of one the opposing team's players that are on the ice during the event,
e.g., ALEX.DEBRINCAT</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_1_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position of one the opposing team's players that are on the ice during the event,
e.g., R</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_2</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of one the opposing team's players that are on the ice during the event,
e.g., DUNCAN.KEITH</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_2_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH ID of one the opposing team's players that are on the ice during the event,
e.g., DUNCAN.KEITH</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_2_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position of one the opposing team's players that are on the ice during the event,
e.g., D</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_3</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of one the opposing team's players that are on the ice during the event,
e.g., ERIK.GUSTAFSSON2</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_3_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH ID of one the opposing team's players that are on the ice during the event,
e.g., ERIK.GUSTAFSSON2</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_3_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position of one the opposing team's players that are on the ice during the event,
e.g., D</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_4</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of one the opposing team's players that are on the ice during the event,
e.g., JONATHAN.TOEWS</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_4_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH ID of one the opposing team's players that are on the ice during the event,
e.g., JONATHAN.TOEWS</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_4_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position of one the opposing team's players that are on the ice during the event,
e.g., C</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_5</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of one the opposing team's players that are on the ice during the event,
e.g., KIRBY.DACH</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_5_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH ID of one the opposing team's players that are on the ice during the event,
e.g., KIRBY.DACH</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_5_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position of one the opposing team's players that are on the ice during the event,
e.g., C</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_6</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of one the opposing team's players that are on the ice during the event,
e.g., PATRICK.KANE</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_6_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH ID of one the opposing team's players that are on the ice during the event,
e.g., PATRICK.KANE</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_6_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position of one the opposing team's players that are on the ice during the event,
e.g., R</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_7</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of one the opposing team's players that are on the ice during the event,
e.g., NaN</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_7_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH ID of one the opposing team's players that are on the ice during the event,
e.g., NaN</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_on_7_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position of one the opposing team's players that are on the ice during the event,
e.g., NaN</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>change</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a change, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>zone_start</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Zone where the changed, e.g., OFF or OTF</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>num_on</code></td>            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of players entering the ice, e.g., 6</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>num_off</code></td>            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of players exiting the ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>players_on</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of players on, in jersey order,
e.g., FILIP FORSBERG, ALEX CARRIER, ROMAN JOSI, MIKAEL GRANLUND, JUUSE SAROS, MATT DUCHENE</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>players_on_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Evolving Hockey IDs of players on, in jersey order,
e.g., FILIP.FORSBERG, ALEX.CARRIER, ROMAN.JOSI, MIKAEL.GRANLUND, JUUSE.SAROS, MATT.DUCHENE</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>players_on_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Positions of players on, in jersey order,
e.g., L, D, D, C, G, C</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>players_off</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of players off, in jersey order</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>players_off_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Evolving Hockey IDs of players off, in jersey order</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>players_off_pos</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Positions of players off, in jersey order</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>shot</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a shot, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>shot_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Score and venue-adjusted shot value, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>goal</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a goal, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>goal_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Score and venue-adjusted shot value, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pred_goal</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Predicted goal value (xG), e.g., 0.482589</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pred_goal_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Score and venue-adjusted predicted goal (xG) value, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>miss</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a missed shot, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>block</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a block, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>corsi</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a corsi event, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>corsi_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Score and venue-adjusted corsi value, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>fenwick</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a fenwick event, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>fenwick_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Score and venue-adjusted fenwick value, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hd_shot</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a high-danger shot event, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hd_goal</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a high-danger goal event, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hd_miss</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a high-danger miss event, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hd_fenwick</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a high-danger fenwick event, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>fac</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a faceoff, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hit</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a hit, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>give</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a giveaway, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>take</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a takeaway, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pen0</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a penalty with no minutes, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pen2</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a two-minute penalty, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pen4</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a four-minute penalty, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pen5</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a five-minute penalty, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pen10</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a ten-minute penalty, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>stop</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a stoppage, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ozf</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is an offensive zone faceoff e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>nzf</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a neutral zone faceoff, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>dzf</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether event is a defensive zone faceoff, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ozs</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether an event is an offensive zone change, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>nzs</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether an event is a neutral zone change, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>dzs</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether an event is an defensive zone change, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>otf</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dummy variable to indicate whether an event is an on-the-fly change, e.g., 0</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Play-by-play DataFrame</p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">shifts_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;./raw_shifts.csv&quot;</span><span class="p">)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pbp_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;./raw_pbp.csv&quot;</span><span class="p">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pbp</span> <span class="o">=</span> <span class="n">prep_pbp</span><span class="p">(</span><span class="n">pbp_raw</span><span class="p">,</span> <span class="n">shifts_raw</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/chickenstats/evolving_hockey/stats.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-0-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-0-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-0-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-0-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-0-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-0-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-0-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-0-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-0-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-0-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-0-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-0-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-0-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-0-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-0-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-0-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-0-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-0-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-0-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-0-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-0-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-0-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-0-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-0-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-0-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-0-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-0-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-0-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-0-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-0-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="k">def</span> <span class="nf">prep_pbp</span><span class="p">(</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a>    <span class="n">pbp</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">],</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a>    <span class="n">shifts</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">],</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a>    <span class="n">columns</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;light&quot;</span><span class="p">,</span> <span class="s2">&quot;full&quot;</span><span class="p">,</span> <span class="s2">&quot;all&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;full&quot;</span><span class="p">,</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a>    <span class="n">disable_progress_bar</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Prepares a play-by-play dataframe using EvolvingHockey data, but with additional stats and information.</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">    Columns keyword argument determines information returned. Used in later aggregation</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="sd">    functions. Returns a DataFrame.</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">    Parameters:</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="sd">        pbp (pd.DataFrame):</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="sd">            Pandas DataFrame of CSV file downloaded from play-by-play query tool at evolving-hockey.com</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">        shifts (pd.DataFrame):</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">            Pandas DataFrame of CSV file downloaded from shifts query tool at evolving-hockey.com</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="sd">        columns (str):</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">            Whether to return additional columns or more sparse play-by-play dataframe</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="sd">        disable_progress_bar (bool):</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="sd">            Whether to disable progress bar</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">        season (int):</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="sd">            8-digit season code, e.g., 20192020</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">        session (str):</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">            Regular season or playoffs, e.g., R</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="sd">        game_id (int):</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="sd">            10-digit game identifier, e.g., 2019020684</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="sd">        game_date (str):</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="sd">            Date of game in Eastern time-zone, e.g., 2020-01-09</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="sd">        event_index (int):</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="sd">            Unique index number of event, in chronological order, e.g.,</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="sd">        game_period (int):</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="sd">            Game period, e.g., 3</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="sd">        game_seconds (int):</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">            Game time elapsed in seconds, e.g., 3578</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="sd">        period_seconds (int):</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="sd">            Period time elapsed in seconds, e.g., 1178</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">        clock_time (str):</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="sd">            Time shown on clock, e.g., 0:22</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="sd">        strength_state (str):</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">            Strength state from the perspective of the event team, e.g., 5vE</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="sd">        score_state (str):</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">            Score state from the perspective of the event team, e.g., 5v2</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="sd">        event_type (str):</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">            Name of the event, e.g., GOAL</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="sd">        event_description (str):</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="sd">            Description of the event, e.g., NSH #35 RINNE(1), WRIST, DEF. ZONE, 185 FT.</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="sd">        event_detail (str | None):</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="sd">            Additional information about the event, e.g., Wrist</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="sd">        event_zone (str | None):</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">            Zone location of event, e.g., DEF</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="sd">        event_team (str | None):</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="sd">            3-letter abbreviation of the team for the event, e.g., NSH</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="sd">        opp_team (str | None):</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="sd">            3-letter abbreviation of the opposing team for the event, e.g., CHI</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">        is_home (int | None):</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="sd">            Dummy variable to signify whether event team is home team, e.g., 0</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="sd">        coords_x (int | None):</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="sd">            X coordinates of event, e.g., -96</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="sd">        coords_y (int | None):</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="sd">            Y coordinates of event, e.g., 11</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="sd">        event_player_1 (str):</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="sd">            Name of the first event player, e.g., PEKKA.RINNE</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="sd">        event_player_1_id (str):</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="sd">            Identifier that can be used to match with Evolving Hockey data, e.g., PEKKA.RINNE</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="sd">        event_player_1_pos (str):</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">            Player&#39;s position for the game, may differ from primary position, e.g., G</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="sd">        event_player_2 (str):</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">            Name of the second event player</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">        event_player_2_id (str):</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="sd">            Identifier that can be used to match with Evolving Hockey data</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="sd">        event_player_2_pos (str):</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">            Player&#39;s position for the game, may differ from primary position</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">        event_player_3 (str):</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">            Name of the third event player</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">        event_player_3_id (str):</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="sd">            Identifier that can be used to match with Evolving Hockey data</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a><span class="sd">        event_player_3_pos (str):</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a><span class="sd">            Player&#39;s position for the game, may differ from primary position</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="sd">        event_length (int):</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="sd">            Length of time elapsed in seconds since previous event, e.g., 5</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="sd">        high_danger (int):</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="sd">            Whether shot event is from high-danger area, e.g., 0</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a><span class="sd">        danger (int):</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">            Whether shot event is from danger area,</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="sd">            exclusive of high-danger area, e.g., 0</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">        pbp_distance (float):</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="sd">            Distance from opponent net, in feet, according to play-by-play description, e.g., 185.0</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a><span class="sd">        event_distance (float):</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">            Distance from opponent net, in feet, e.g., 185.326738</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="sd">        event_angle (float):</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="sd">            Angle of opponent&#39;s net from puck, in degrees, e.g., 57.528808</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="sd">        opp_strength_state (str):</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="sd">            Strength state from the perspective of the opposing team, e.g., Ev5</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="sd">        opp_score_state (str):</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="sd">            Score state from the perspective of the opposing team, e.g., 2v5</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">        event_on_f (str):</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="sd">            Names of the event team&#39;s forwards that are on the ice during the event,</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="sd">            e.g., NICK BONINO, CALLE JARNKROK, MIKAEL GRANLUND</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a><span class="sd">        event_on_f_id (str):</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="sd">            EH IDs of the event team&#39;s forwards that are on the ice during the event,</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a><span class="sd">            e.g., NICK.BONINO, CALLE.JARNKROK, MIKAEL.GRANLUND</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a><span class="sd">        event_on_d (str):</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a><span class="sd">            Names of the event team&#39;s defensemen that are on the ice during the event,</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="sd">            e.g., MATTIAS EKHOLM, ROMAN JOSI</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a><span class="sd">        event_on_d_id (str):</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a><span class="sd">            EH IDs of the event team&#39;s defensemen that are on the ice during the event,</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="sd">            e.g., MATTIAS.EKHOLM, ROMAN.JOSI</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a><span class="sd">        event_on_g (str):</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a><span class="sd">            Name of the goalie for the event team, e.g., PEKKA RINNE</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="sd">        event_on_g_id (str):</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="sd">            Identifier for the event team goalie that can be used to match with Evolving Hockey data, e.g., PEKKA.RINNE</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">        event_on_1 (str):</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a><span class="sd">            Name of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">            e.g., CALLE.JARNKROK</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">        event_on_1_id (str):</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a><span class="sd">            EH ID of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="sd">            e.g., CALLE.JARNKROK</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a><span class="sd">        event_on_1_pos (str):</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a><span class="sd">            Position of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a><span class="sd">            e.g., C</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a><span class="sd">        event_on_2 (str):</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a><span class="sd">            Name of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a><span class="sd">            e.g., MATTIAS.EKHOLM</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a><span class="sd">        event_on_2_id (str):</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a><span class="sd">            EH ID of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a><span class="sd">            e.g., MATTIAS.EKHOLM</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a><span class="sd">        event_on_2_pos (str):</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a><span class="sd">            Position of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a><span class="sd">            e.g., D</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a><span class="sd">        event_on_3 (str):</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a><span class="sd">            Name of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a><span class="sd">            e.g., MIKAEL.GRANLUND</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a><span class="sd">        event_on_3_id (str):</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">            EH ID of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="sd">            e.g., MIKAEL.GRANLUND</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">        event_on_3_pos (str):</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">            Position of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a><span class="sd">            e.g., C</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a><span class="sd">        event_on_4 (str):</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a><span class="sd">            Name of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a><span class="sd">            e.g., NICK.BONINO</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a><span class="sd">        event_on_4_id (str):</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a><span class="sd">            EH ID of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a><span class="sd">            e.g., NICK.BONINO</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a><span class="sd">        event_on_4_pos (str):</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a><span class="sd">            Position of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a><span class="sd">            e.g., C</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a><span class="sd">        event_on_5 (str):</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="sd">            Name of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a><span class="sd">            e.g., PEKKA.RINNE</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a><span class="sd">        event_on_5_id (str):</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a><span class="sd">            EH ID of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a><span class="sd">            e.g., PEKKA.RINNE</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a><span class="sd">        event_on_5_pos (str):</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a><span class="sd">            Position of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a><span class="sd">            e.g., G</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="sd">        event_on_6 (str):</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="sd">            Name of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a><span class="sd">            e.g., ROMAN.JOSI</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">        event_on_6_id (str):</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">            EH ID of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">            e.g., ROMAN.JOSI</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">        event_on_6_pos (str):</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">            Position of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a><span class="sd">            e.g., D</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a><span class="sd">        event_on_7 (str):</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a><span class="sd">            Name of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a><span class="sd">            e.g., NaN</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a><span class="sd">        event_on_7_id (str):</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a><span class="sd">            EH ID of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a><span class="sd">            e.g., NaN</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a><span class="sd">        event_on_7_pos (str):</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a><span class="sd">            Position of one the event team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a><span class="sd">            e.g., NaN</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a><span class="sd">        opp_on_f (str):</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a><span class="sd">            Names of the opponent&#39;s forwards that are on the ice during the event,</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a><span class="sd">            e.g., ALEX DEBRINCAT, JONATHAN TOEWS, KIRBY DACH, PATRICK KANE</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a><span class="sd">        opp_on_f_id (str):</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a><span class="sd">            EH IDs of the event team&#39;s forwards that are on the ice during the event,</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a><span class="sd">            e.g., ALEX.DEBRINCAT, JONATHAN.TOEWS, KIRBY.DACH, PATRICK.KANE</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a><span class="sd">        opp_on_d (str):</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a><span class="sd">            Names of the opposing team&#39;s defensemen that are on the ice during the event,</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a><span class="sd">            e.g., DUNCAN KEITH, ERIK GUSTAFSSON</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a><span class="sd">        opp_on_d_id (str):</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a><span class="sd">            EH IDs of the opposing team&#39;s defensemen that are on the ice during the event,</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a><span class="sd">            e.g., DUNCAN.KEITH, ERIK.GUSTAFSSON2</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a><span class="sd">        opp_on_g (str):</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a><span class="sd">            Name of the opposing goalie for the event team, e.g., EMPTY NET</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a><span class="sd">        opp_on_g_id (str):</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a><span class="sd">            Identifier for the opposing goalie that can be used to match with Evolving Hockey data, e.g., EMPTY NET</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a><span class="sd">        opp_on_1 (str):</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a><span class="sd">            Name of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a><span class="sd">            e.g., ALEX.DEBRINCAT</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a><span class="sd">        opp_on_1_id (str):</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a><span class="sd">            EH ID of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a><span class="sd">            e.g., ALEX.DEBRINCAT</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a><span class="sd">        opp_on_1_pos (str):</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a><span class="sd">            Position of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><span class="sd">            e.g., R</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a><span class="sd">        opp_on_2 (str):</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a><span class="sd">            Name of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a><span class="sd">            e.g., DUNCAN.KEITH</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a><span class="sd">        opp_on_2_id (str):</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a><span class="sd">            EH ID of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a><span class="sd">            e.g., DUNCAN.KEITH</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a><span class="sd">        opp_on_2_pos (str):</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a><span class="sd">            Position of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a><span class="sd">            e.g., D</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a><span class="sd">        opp_on_3 (str):</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a><span class="sd">            Name of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a><span class="sd">            e.g., ERIK.GUSTAFSSON2</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a><span class="sd">        opp_on_3_id (str):</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a><span class="sd">            EH ID of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a><span class="sd">            e.g., ERIK.GUSTAFSSON2</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a><span class="sd">        opp_on_3_pos (str):</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a><span class="sd">            Position of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a><span class="sd">            e.g., D</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a><span class="sd">        opp_on_4 (str):</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a><span class="sd">            Name of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a><span class="sd">            e.g., JONATHAN.TOEWS</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a><span class="sd">        opp_on_4_id (str):</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a><span class="sd">            EH ID of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a><span class="sd">            e.g., JONATHAN.TOEWS</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a><span class="sd">        opp_on_4_pos (str):</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a><span class="sd">            Position of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a><span class="sd">            e.g., C</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a><span class="sd">        opp_on_5 (str):</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a><span class="sd">            Name of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a><span class="sd">            e.g., KIRBY.DACH</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a><span class="sd">        opp_on_5_id (str):</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a><span class="sd">            EH ID of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a><span class="sd">            e.g., KIRBY.DACH</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a><span class="sd">        opp_on_5_pos (str):</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a><span class="sd">            Position of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a><span class="sd">            e.g., C</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a><span class="sd">        opp_on_6 (str):</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a><span class="sd">            Name of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a><span class="sd">            e.g., PATRICK.KANE</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a><span class="sd">        opp_on_6_id (str):</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a><span class="sd">            EH ID of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a><span class="sd">            e.g., PATRICK.KANE</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a><span class="sd">        opp_on_6_pos (str):</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a><span class="sd">            Position of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a><span class="sd">            e.g., R</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a><span class="sd">        opp_on_7 (str):</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a><span class="sd">            Name of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a><span class="sd">            e.g., NaN</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a><span class="sd">        opp_on_7_id (str):</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a><span class="sd">            EH ID of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a><span class="sd">            e.g., NaN</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a><span class="sd">        opp_on_7_pos (str):</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a><span class="sd">            Position of one the opposing team&#39;s players that are on the ice during the event,</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a><span class="sd">            e.g., NaN</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a><span class="sd">        change (int):</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a><span class="sd">            Dummy variable to indicate whether event is a change, e.g., 0</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a><span class="sd">        zone_start (str):</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a><span class="sd">            Zone where the changed, e.g., OFF or OTF</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a><span class="sd">        num_on (int | None):</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a><span class="sd">            Number of players entering the ice, e.g., 6</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a><span class="sd">        num_off (int | None):</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a><span class="sd">            Number of players exiting the ice, e.g., 0</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a><span class="sd">        players_on (str):</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a><span class="sd">            Names of players on, in jersey order,</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a><span class="sd">            e.g., FILIP FORSBERG, ALEX CARRIER, ROMAN JOSI, MIKAEL GRANLUND, JUUSE SAROS, MATT DUCHENE</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a><span class="sd">        players_on_id (str):</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a><span class="sd">            Evolving Hockey IDs of players on, in jersey order,</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a><span class="sd">            e.g., FILIP.FORSBERG, ALEX.CARRIER, ROMAN.JOSI, MIKAEL.GRANLUND, JUUSE.SAROS, MATT.DUCHENE</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a><span class="sd">        players_on_pos (str):</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a><span class="sd">            Positions of players on, in jersey order,</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a><span class="sd">            e.g., L, D, D, C, G, C</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a><span class="sd">        players_off (str):</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a><span class="sd">            Names of players off, in jersey order</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a><span class="sd">        players_off_id (str):</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a><span class="sd">            Evolving Hockey IDs of players off, in jersey order</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a><span class="sd">        players_off_pos (str):</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a><span class="sd">            Positions of players off, in jersey order</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a><span class="sd">        shot (int):</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a><span class="sd">            Dummy variable to indicate whether event is a shot, e.g., 1</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a><span class="sd">        shot_adj (float):</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a><span class="sd">            Score and venue-adjusted shot value, e.g., 0</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a><span class="sd">        goal (int):</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a><span class="sd">            Dummy variable to indicate whether event is a goal, e.g., 1</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a><span class="sd">        goal_adj (float):</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a><span class="sd">            Score and venue-adjusted shot value, e.g., 0</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a><span class="sd">        pred_goal (float):</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a><span class="sd">            Predicted goal value (xG), e.g., 0.482589</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a><span class="sd">        pred_goal_adj (float):</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a><span class="sd">            Score and venue-adjusted predicted goal (xG) value, e.g., 0</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a><span class="sd">        miss (int):</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a><span class="sd">            Dummy variable to indicate whether event is a missed shot, e.g., 0</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a><span class="sd">        block (int):</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a><span class="sd">            Dummy variable to indicate whether event is a block, e.g., 0</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a><span class="sd">        corsi (int):</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a><span class="sd">            Dummy variable to indicate whether event is a corsi event, e.g., 1</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a><span class="sd">        corsi_adj (float):</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="sd">            Score and venue-adjusted corsi value, e.g., 0</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a><span class="sd">        fenwick (int):</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a><span class="sd">            Dummy variable to indicate whether event is a fenwick event, e.g., 1</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a><span class="sd">        fenwick_adj (float):</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a><span class="sd">             Score and venue-adjusted fenwick value, e.g., 0</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a><span class="sd">        hd_shot (int):</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a><span class="sd">            Dummy variable to indicate whether event is a high-danger shot event, e.g., 0</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a><span class="sd">        hd_goal (int):</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a><span class="sd">            Dummy variable to indicate whether event is a high-danger goal event, e.g., 0</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a><span class="sd">        hd_miss (int):</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a><span class="sd">            Dummy variable to indicate whether event is a high-danger miss event, e.g., 0</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a><span class="sd">        hd_fenwick (int):</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a><span class="sd">            Dummy variable to indicate whether event is a high-danger fenwick event, e.g., 0</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a><span class="sd">        fac (int):</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a><span class="sd">            Dummy variable to indicate whether event is a faceoff, e.g., 0</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a><span class="sd">        hit (int):</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a><span class="sd">            Dummy variable to indicate whether event is a hit, e.g., 0</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a><span class="sd">        give (int):</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a><span class="sd">            Dummy variable to indicate whether event is a giveaway, e.g., 0</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a><span class="sd">        take (int):</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a><span class="sd">            Dummy variable to indicate whether event is a takeaway, e.g., 0</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a><span class="sd">        pen0 (int):</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a><span class="sd">            Dummy variable to indicate whether event is a penalty with no minutes, e.g., 0</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a><span class="sd">        pen2 (int):</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a><span class="sd">            Dummy variable to indicate whether event is a two-minute penalty, e.g., 0</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a><span class="sd">        pen4 (int):</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a><span class="sd">            Dummy variable to indicate whether event is a four-minute penalty, e.g., 0</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><span class="sd">        pen5 (int):</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a><span class="sd">            Dummy variable to indicate whether event is a five-minute penalty, e.g., 0</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a><span class="sd">        pen10 (int):</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a><span class="sd">            Dummy variable to indicate whether event is a ten-minute penalty, e.g., 0</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a><span class="sd">        stop (int):</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a><span class="sd">            Dummy variable to indicate whether event is a stoppage, e.g., 0</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a><span class="sd">        ozf (int):</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a><span class="sd">            Dummy variable to indicate whether event is an offensive zone faceoff e.g., 0</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a><span class="sd">        nzf (int):</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a><span class="sd">            Dummy variable to indicate whether event is a neutral zone faceoff, e.g., 0</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a><span class="sd">        dzf (int):</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a><span class="sd">            Dummy variable to indicate whether event is a defensive zone faceoff, e.g., 0</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a><span class="sd">        ozs (int):</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a><span class="sd">            Dummy variable to indicate whether an event is an offensive zone change, e.g., 0</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a><span class="sd">        nzs (int):</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a><span class="sd">            Dummy variable to indicate whether an event is a neutral zone change, e.g., 0</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a><span class="sd">        dzs (int):</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a><span class="sd">            Dummy variable to indicate whether an event is an defensive zone change, e.g., 0</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a><span class="sd">        otf (int):</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a><span class="sd">            Dummy variable to indicate whether an event is an on-the-fly change, e.g., 0</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a><span class="sd">        Play-by-play DataFrame</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a><span class="sd">        &gt;&gt;&gt; shifts_raw = pd.read_csv(&quot;./raw_shifts.csv&quot;)</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a><span class="sd">        &gt;&gt;&gt; pbp_raw = pd.read_csv(&quot;./raw_pbp.csv&quot;)</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a><span class="sd">        &gt;&gt;&gt; pbp = prep_pbp(pbp_raw, shifts_raw)</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>    <span class="k">with</span> <span class="n">ChickenProgress</span><span class="p">(</span><span class="n">disable</span><span class="o">=</span><span class="n">disable_progress_bar</span><span class="p">)</span> <span class="k">as</span> <span class="n">progress</span><span class="p">:</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pbp</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>            <span class="n">progress_total</span> <span class="o">=</span> <span class="mi">1</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>            <span class="n">pbp</span> <span class="o">=</span> <span class="p">[</span><span class="n">pbp</span><span class="p">]</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pbp</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>            <span class="n">progress_total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pbp</span><span class="p">)</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">shifts</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>            <span class="n">shifts</span> <span class="o">=</span> <span class="p">[</span><span class="n">shifts</span><span class="p">]</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pbp</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">shifts</span><span class="p">):</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Number of play-by-play and shift CSV files does not match&quot;</span><span class="p">)</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>        <span class="n">pbar_message</span> <span class="o">=</span> <span class="s2">&quot;Prepping play-by-play data...&quot;</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>        <span class="n">csv_task</span> <span class="o">=</span> <span class="n">progress</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">pbar_message</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="n">progress_total</span><span class="p">)</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>        <span class="n">pbp_concat</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="n">pbp_raw</span><span class="p">,</span> <span class="n">shifts_raw</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">pbp</span><span class="p">,</span> <span class="n">shifts</span><span class="p">)):</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>            <span class="n">rosters</span> <span class="o">=</span> <span class="n">munge_rosters</span><span class="p">(</span><span class="n">shifts_raw</span><span class="p">)</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>            <span class="n">pbp_clean</span> <span class="o">=</span> <span class="n">munge_pbp</span><span class="p">(</span><span class="n">pbp_raw</span><span class="p">)</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>            <span class="n">pbp_clean</span> <span class="o">=</span> <span class="n">add_positions</span><span class="p">(</span><span class="n">pbp_clean</span><span class="p">,</span> <span class="n">rosters</span><span class="p">)</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>            <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>                <span class="s2">&quot;id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>                <span class="s2">&quot;season&quot;</span><span class="p">,</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>                <span class="s2">&quot;session&quot;</span><span class="p">,</span>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>                <span class="s2">&quot;game_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>                <span class="s2">&quot;game_date&quot;</span><span class="p">,</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>                <span class="s2">&quot;event_index&quot;</span><span class="p">,</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>                <span class="s2">&quot;game_period&quot;</span><span class="p">,</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>                <span class="s2">&quot;game_seconds&quot;</span><span class="p">,</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>                <span class="s2">&quot;period_seconds&quot;</span><span class="p">,</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>                <span class="s2">&quot;clock_time&quot;</span><span class="p">,</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>                <span class="s2">&quot;strength_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>                <span class="s2">&quot;score_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>                <span class="s2">&quot;event_type&quot;</span><span class="p">,</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>                <span class="s2">&quot;event_description&quot;</span><span class="p">,</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>                <span class="s2">&quot;event_detail&quot;</span><span class="p">,</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>                <span class="s2">&quot;event_zone&quot;</span><span class="p">,</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>                <span class="s2">&quot;event_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>                <span class="s2">&quot;opp_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>                <span class="s2">&quot;is_home&quot;</span><span class="p">,</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>                <span class="s2">&quot;coords_x&quot;</span><span class="p">,</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>                <span class="s2">&quot;coords_y&quot;</span><span class="p">,</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>                <span class="s2">&quot;event_player_1&quot;</span><span class="p">,</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>                <span class="s2">&quot;event_player_1_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>                <span class="s2">&quot;event_player_1_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>                <span class="s2">&quot;event_player_2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>                <span class="s2">&quot;event_player_2_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>                <span class="s2">&quot;event_player_2_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>                <span class="s2">&quot;event_player_3&quot;</span><span class="p">,</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>                <span class="s2">&quot;event_player_3_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>                <span class="s2">&quot;event_player_3_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>                <span class="s2">&quot;event_length&quot;</span><span class="p">,</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>                <span class="s2">&quot;high_danger&quot;</span><span class="p">,</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>                <span class="s2">&quot;danger&quot;</span><span class="p">,</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>                <span class="s2">&quot;pbp_distance&quot;</span><span class="p">,</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>                <span class="s2">&quot;event_distance&quot;</span><span class="p">,</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>                <span class="s2">&quot;event_angle&quot;</span><span class="p">,</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>                <span class="s2">&quot;event_on_f&quot;</span><span class="p">,</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>                <span class="s2">&quot;event_on_f_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>                <span class="s2">&quot;event_on_d&quot;</span><span class="p">,</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>                <span class="s2">&quot;event_on_d_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>                <span class="s2">&quot;event_on_g&quot;</span><span class="p">,</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>                <span class="s2">&quot;event_on_g_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>                <span class="s2">&quot;opp_on_f&quot;</span><span class="p">,</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>                <span class="s2">&quot;opp_on_f_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>                <span class="s2">&quot;opp_on_d&quot;</span><span class="p">,</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>                <span class="s2">&quot;opp_on_d_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>                <span class="s2">&quot;opp_on_g&quot;</span><span class="p">,</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>                <span class="s2">&quot;opp_on_g_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>                <span class="s2">&quot;change&quot;</span><span class="p">,</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>                <span class="s2">&quot;zone_start&quot;</span><span class="p">,</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>                <span class="s2">&quot;num_on&quot;</span><span class="p">,</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>                <span class="s2">&quot;num_off&quot;</span><span class="p">,</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>                <span class="s2">&quot;players_on&quot;</span><span class="p">,</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>                <span class="s2">&quot;players_on_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>                <span class="s2">&quot;players_on_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>                <span class="s2">&quot;players_off&quot;</span><span class="p">,</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>                <span class="s2">&quot;players_off_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>                <span class="s2">&quot;players_off_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>                <span class="s2">&quot;shot&quot;</span><span class="p">,</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>                <span class="s2">&quot;shot_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>                <span class="s2">&quot;goal&quot;</span><span class="p">,</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>                <span class="s2">&quot;goal_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>                <span class="s2">&quot;pred_goal&quot;</span><span class="p">,</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>                <span class="s2">&quot;pred_goal_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a>                <span class="s2">&quot;miss&quot;</span><span class="p">,</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>                <span class="s2">&quot;block&quot;</span><span class="p">,</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>                <span class="s2">&quot;corsi&quot;</span><span class="p">,</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>                <span class="s2">&quot;corsi_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>                <span class="s2">&quot;fenwick&quot;</span><span class="p">,</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>                <span class="s2">&quot;fenwick_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>                <span class="s2">&quot;hd_shot&quot;</span><span class="p">,</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>                <span class="s2">&quot;hd_goal&quot;</span><span class="p">,</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>                <span class="s2">&quot;hd_miss&quot;</span><span class="p">,</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a>                <span class="s2">&quot;hd_fenwick&quot;</span><span class="p">,</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>                <span class="s2">&quot;fac&quot;</span><span class="p">,</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>                <span class="s2">&quot;hit&quot;</span><span class="p">,</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a>                <span class="s2">&quot;give&quot;</span><span class="p">,</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>                <span class="s2">&quot;take&quot;</span><span class="p">,</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>                <span class="s2">&quot;pen0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>                <span class="s2">&quot;pen2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>                <span class="s2">&quot;pen4&quot;</span><span class="p">,</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>                <span class="s2">&quot;pen5&quot;</span><span class="p">,</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>                <span class="s2">&quot;pen10&quot;</span><span class="p">,</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>                <span class="s2">&quot;stop&quot;</span><span class="p">,</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>                <span class="s2">&quot;ozf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a>                <span class="s2">&quot;nzf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>                <span class="s2">&quot;dzf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>                <span class="s2">&quot;ozs&quot;</span><span class="p">,</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>                <span class="s2">&quot;nzs&quot;</span><span class="p">,</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>                <span class="s2">&quot;dzs&quot;</span><span class="p">,</span>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>                <span class="s2">&quot;otf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>            <span class="p">]</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>            <span class="k">if</span> <span class="n">columns</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;full&quot;</span><span class="p">,</span> <span class="s2">&quot;all&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>                <span class="n">event_cols</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>                    <span class="s2">&quot;event_on_1&quot;</span><span class="p">,</span>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>                    <span class="s2">&quot;event_on_1_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>                    <span class="s2">&quot;event_on_1_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>                    <span class="s2">&quot;event_on_2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>                    <span class="s2">&quot;event_on_2_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>                    <span class="s2">&quot;event_on_2_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>                    <span class="s2">&quot;event_on_3&quot;</span><span class="p">,</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>                    <span class="s2">&quot;event_on_3_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>                    <span class="s2">&quot;event_on_3_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>                    <span class="s2">&quot;event_on_4&quot;</span><span class="p">,</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>                    <span class="s2">&quot;event_on_4_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>                    <span class="s2">&quot;event_on_4_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>                    <span class="s2">&quot;event_on_5&quot;</span><span class="p">,</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>                    <span class="s2">&quot;event_on_5_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>                    <span class="s2">&quot;event_on_5_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>                    <span class="s2">&quot;event_on_6&quot;</span><span class="p">,</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>                    <span class="s2">&quot;event_on_6_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>                    <span class="s2">&quot;event_on_6_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>                    <span class="s2">&quot;event_on_7&quot;</span><span class="p">,</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>                    <span class="s2">&quot;event_on_7_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>                    <span class="s2">&quot;event_on_7_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a>                <span class="p">]</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>                <span class="n">event_pos</span> <span class="o">=</span> <span class="n">cols</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;event_on_g_id&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a>                <span class="n">cols</span><span class="p">[</span><span class="n">event_pos</span><span class="p">:</span><span class="n">event_pos</span><span class="p">]</span> <span class="o">=</span> <span class="n">event_cols</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>                <span class="n">opp_cols</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>                    <span class="s2">&quot;opp_on_1&quot;</span><span class="p">,</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>                    <span class="s2">&quot;opp_on_1_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>                    <span class="s2">&quot;opp_on_1_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>                    <span class="s2">&quot;opp_on_2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>                    <span class="s2">&quot;opp_on_2_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>                    <span class="s2">&quot;opp_on_2_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>                    <span class="s2">&quot;opp_on_3&quot;</span><span class="p">,</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>                    <span class="s2">&quot;opp_on_3_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>                    <span class="s2">&quot;opp_on_3_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>                    <span class="s2">&quot;opp_on_4&quot;</span><span class="p">,</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>                    <span class="s2">&quot;opp_on_4_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>                    <span class="s2">&quot;opp_on_4_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>                    <span class="s2">&quot;opp_on_5&quot;</span><span class="p">,</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>                    <span class="s2">&quot;opp_on_5_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>                    <span class="s2">&quot;opp_on_5_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>                    <span class="s2">&quot;opp_on_6&quot;</span><span class="p">,</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>                    <span class="s2">&quot;opp_on_6_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>                    <span class="s2">&quot;opp_on_6_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>                    <span class="s2">&quot;opp_on_7&quot;</span><span class="p">,</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>                    <span class="s2">&quot;opp_on_7_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>                    <span class="s2">&quot;opp_on_7_pos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>                <span class="p">]</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>                <span class="n">opp_pos</span> <span class="o">=</span> <span class="n">cols</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;opp_on_g_id&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a>                <span class="n">cols</span><span class="p">[</span><span class="n">opp_pos</span><span class="p">:</span><span class="n">opp_pos</span><span class="p">]</span> <span class="o">=</span> <span class="n">opp_cols</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a>                <span class="n">other_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;opp_strength_state&quot;</span><span class="p">,</span> <span class="s2">&quot;opp_score_state&quot;</span><span class="p">]</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a>                <span class="n">other_pos</span> <span class="o">=</span> <span class="n">cols</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;event_angle&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a>                <span class="n">cols</span><span class="p">[</span><span class="n">other_pos</span><span class="p">:</span><span class="n">other_pos</span><span class="p">]</span> <span class="o">=</span> <span class="n">other_cols</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a>            <span class="k">if</span> <span class="n">columns</span> <span class="o">==</span> <span class="s2">&quot;all&quot;</span><span class="p">:</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a>                <span class="n">more_cols</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a>                    <span class="s2">&quot;home_zone&quot;</span><span class="p">,</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a>                    <span class="s2">&quot;home_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>                    <span class="s2">&quot;away_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>                    <span class="s2">&quot;home_goalie&quot;</span><span class="p">,</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>                    <span class="s2">&quot;away_goalie&quot;</span><span class="p">,</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>                    <span class="s2">&quot;home_skaters&quot;</span><span class="p">,</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>                    <span class="s2">&quot;away_skaters&quot;</span><span class="p">,</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>                    <span class="s2">&quot;home_score&quot;</span><span class="p">,</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>                    <span class="s2">&quot;away_score&quot;</span><span class="p">,</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>                    <span class="s2">&quot;home_zonestart&quot;</span><span class="p">,</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a>                    <span class="s2">&quot;face_index&quot;</span><span class="p">,</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a>                    <span class="s2">&quot;pen_index&quot;</span><span class="p">,</span>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a>                    <span class="s2">&quot;shift_index&quot;</span><span class="p">,</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a>                    <span class="s2">&quot;game_score_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a>                    <span class="s2">&quot;game_strength_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a>                <span class="p">]</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>                <span class="n">pos</span> <span class="o">=</span> <span class="n">cols</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;is_home&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>                <span class="n">cols</span><span class="p">[</span><span class="n">pos</span><span class="p">:</span><span class="n">pos</span><span class="p">]</span> <span class="o">=</span> <span class="n">more_cols</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>            <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">cols</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">pbp_clean</span><span class="p">]</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>            <span class="n">pbp_clean</span> <span class="o">=</span> <span class="n">pbp_clean</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>            <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">PBPSchema</span><span class="o">.</span><span class="n">dtypes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">pbp_clean</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>            <span class="n">pbp_clean</span> <span class="o">=</span> <span class="n">PBPSchema</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">pbp_clean</span><span class="p">[</span><span class="n">cols</span><span class="p">])</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>            <span class="n">pbp_concat</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pbp_clean</span><span class="p">)</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>            <span class="k">if</span> <span class="n">progress_total</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">==</span> <span class="n">progress_total</span><span class="p">:</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>                <span class="n">pbp_clean</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">pbp_concat</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>                <span class="n">pbar_message</span> <span class="o">=</span> <span class="s2">&quot;Finished loading play-by-play data&quot;</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>            <span class="n">progress</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">csv_task</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">pbar_message</span><span class="p">,</span> <span class="n">advance</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">refresh</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>    <span class="k">return</span> <span class="n">pbp_clean</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="evolving_hockey.stats.prep_stats" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">prep_stats</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">prep_stats</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">pbp</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">level</span><span class="o">=</span><span class="s2">&quot;game&quot;</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">score</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">teammates</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">opposition</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">disable_progress_bar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Prepares an individual and on-ice stats dataframe using EvolvingHockey data.</p>
<p>Aggregates to desired level. Capable of returning cuts that account for strength state,
period, score state, teammates, and opposition.</p>
<p>Returns a Pandas DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>pbp</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dataframe from the prep_pbp function with the default columns argument</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>level</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level to aggregate stats, e.g., 'game'</p>
              </div>
            </td>
            <td>
                  <code>&#39;game&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>score</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to aggregate to score state level</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>teammates</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to account for teammates when aggregating</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>opposition</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to account for opposition when aggregating</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>disable_progress_bar</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to disable progress bar</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>season</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>8-digit season code, e.g., 20232024</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>session</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Regular season or playoffs, e.g., R</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>game_id</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>10-digit game identifier, e.g., 2023020015</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>game_date</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Date of game in Eastern time-zone, e.g., 2023-10-12</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>player</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the player, e.g., FILIP.FORSBERG</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>player_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Player EH ID, e.g., FILIP.FORSBERG</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>position</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Player's position, e.g., L</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>team</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>3-letter abbreviation of the player's team, e.g., NSH</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_team</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>object
3-letter abbreviation of the opposing team, e.g., SEA</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>strength_state</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Strength state from the perspective of the event team, e.g., 5v5</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>score_state</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Score state from the perspective of the event team, e.g., 0v0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>game_period</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Game period, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>forwards</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the event team's forwards that are on the ice during the event,
e.g., FILIP.FORSBERG, JUUSO.PARSSINEN, RYAN.O'REILLY</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>forwards_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH IDs of the event team's forwards that are on the ice during the event,
e.g., FILIP.FORSBERG, JUUSO.PARSSINEN, RYAN.O'REILLY</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>defense</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the event team's defensemen that are on the ice during the event,
e.g., ALEX.CARRIER, RYAN.MCDONAGH</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>defense_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH IDs of the event team's defensemen that are on the ice during the event,
e.g., ALEX.CARRIER, RYAN.MCDONAGH</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>own_goalie</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the goalie for the event team, e.g., JUUSE.SAROS</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>own_goalie_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier for the event team goalie that can be used to match with Evolving Hockey data, e.g., JUUSE.SAROS</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_forwards</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the opponent's forwards that are on the ice during the event,
e.g., JARED.MCCANN, JORDAN.EBERLE, MATTY.BENIERS</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_forwards_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH IDs of the event team's forwards that are on the ice during the event,
e.g., JARED.MCCANN, JORDAN.EBERLE, MATTY.BENIERS</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_defense</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the opposing team's defensemen that are on the ice during the event,
e.g., JAMIE.OLEKSIAK, WILLIAM.BORGEN</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_defense_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH IDs of the opposing team's defensemen that are on the ice during the event,
e.g., JAMIE.OLEKSIAK, WILLIAM.BORGEN</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_goalie</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the opposing goalie for the event team, e.g., PHILIPP.GRUBAUER</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_goalie_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier for the opposing goalie that can be used to match with Evolving Hockey data,
e.g., PHILIPP.GRUBAUER</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>toi</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Time on-ice in minutes, e.g., 1.616667</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>g</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of individual goals scored, e.g, 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>a1</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of primary assists, e.g, 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>a2</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of secondary assists, e.g, 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>isf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of indiviudal shots registered, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>iff</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of indiviudal fenwick events registered, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>icf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of indiviudal corsi events registered, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ixg</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum value of individual predicted goals (xG), e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>gax</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum value of goals scored above expected, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ihdg</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum value of individual high-danger goals scored, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ihdf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum value of individual high-danger fenwick events registered, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ihdsf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum value of individual high-danger shots taken, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ihdm</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum value of individual high-danger shots missed, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>imsf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum value of individual missed shots, 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>isb</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum value of shots taken that were ultimately blocked, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ibs</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum value of opponent shots taken that the player ultimately blocked, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>igive</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual giveaways, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>itake</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual takeaways, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ihf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual hits for, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>iht</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual hits taken, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ifow</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual faceoffs won, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ifol</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual faceoffs lost, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>iozfw</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual faceoffs won in offensive zone, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>iozfl</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual faceoffs lost in offensive zone, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>inzfw</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual faceoffs won in neutral zone, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>inzfl</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual faceoffs lost in neutral zone, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>idzfw</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual faceoffs won in defensive zone, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>idzfl</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual faceoffs lost in defensive zone, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>a1_xg</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of xG from primary assists, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>a2_xg</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of xG from secondary assists, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ipent0</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 0-minute penalties taken, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ipent2</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 2-minute penalties taken, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ipent4</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 4-minute penalties taken, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ipent5</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 5-minute penalties taken, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ipent10</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 10-minute penalties taken, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ipend0</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 0-minute penalties drawn, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ipend2</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 2-minute penalties drawn, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ipend4</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 4-minute penalties drawn, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ipend5</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 5-minute penalties drawn, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ipend10</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 10-minute penalties drawn, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ozs</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of changes with offensive zone starts, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>nzs</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of changes with neutral zone starts, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>dzs</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of changes with defensive zone starts, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>otf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of changes on-the-fly, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>gf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of goals scored while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>gf_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted goals scored while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdgf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger goals scored while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ga</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of goals allowed while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ga_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted goals allowed while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdga</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger goals allowed while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>xgf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of expected goals generated while player is on-ice, e.g., 0.017266</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>xgf_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted expected goals generated while player is on-ice, e.g., 0.016472</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>xga</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of expected goals allowed while player is on-ice, e.g., 0.123475</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>xga_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted expected goals allowed while player is on-ice, e.g., 0.129772</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>sf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots taken while player is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>sf_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted shots taken while player is on-ice, e.g., .972</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdsf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger shots taken while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>sa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots allowed while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>sa_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted shots allowed while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdsa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger shots allowed while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ff</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of fenwick events generated while player is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ff_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted fenwick events generated while player is on-ice, e.g., 0.968</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdff</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger fenwick events generated while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>fa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of fenwick events allowed while player is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>fa_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted fenwick events allowed while player is on-ice, e.g., 1.034</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdfa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger fenwick events allowed while player is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>cf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of corsi events generated while player is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>cf_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted corsi events generated while player is on-ice, e.g., 0.970</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ca</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of corsi events allowed while player is on-ice, e.g., 2</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ca_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted corsi events allowed while player is on-ice, e.g., 2.064</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>bsf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots taken that were ultimately blocked while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>bsa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots allowed that were ultimately blocked while player is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>msf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots taken that missed net while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdmsf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger shots taken that missed net while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>msa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots allowed that missed net while player is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdmsa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger shots allowed that missed net while player is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of hits dished out while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ht</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of hits taken while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ozf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of offensive zone faceoffs that occur while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>nzf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of neutral zone faceoffs that occur while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>dzf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of defensive zone faceoffs that occur while player is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>fow</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of faceoffs won while player is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>fol</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of faceoffs lost while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ozfw</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of offensive zone faceoffs won while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ozfl</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of offensive zone faceoffs lost while player is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>nzfw</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of neutral zone faceoffs won while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>nzfl</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of neutral zone faceoffs lost while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>dzfw</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of defensive zone faceoffs won while player is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>dzfl</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of defensive zone faceoffs lost while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pent0</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 0-minute penalties taken while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pent2</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 2-minute penalties taken while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pent4</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 4-minute penalties taken while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pent5</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 5-minute penalties taken while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pent10</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 10-minute penalties taken while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pend0</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 0-minute penalties drawn while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pend2</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 2-minute penalties drawn while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pend4</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 4-minute penalties drawn while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pend5</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 5-minute penalties drawn while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pend10</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 10-minute penalties drawn while player is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic play-by-play DataFrame</p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">shifts_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;./raw_shifts.csv&quot;</span><span class="p">)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pbp_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;./raw_pbp.csv&quot;</span><span class="p">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pbp</span> <span class="o">=</span> <span class="n">prep_pbp</span><span class="p">(</span><span class="n">pbp_raw</span><span class="p">,</span> <span class="n">shifts_raw</span><span class="p">)</span>
</code></pre></div>
    <p>Basic game-level stats, with no teammates or opposition</p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">prep_stats</span><span class="p">(</span><span class="n">pbp</span><span class="p">)</span>
</code></pre></div>
    <p>Period-level stats, grouped by teammates</p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">prep_stats</span><span class="p">(</span><span class="n">pbp</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;period&quot;</span><span class="p">,</span> <span class="n">teammates</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
    <p>Session-level (e.g., regular seasion) stats, grouped by teammates and opposition</p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">prep_stats</span><span class="p">(</span><span class="n">pbp</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">,</span> <span class="n">teammates</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">opposition</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/chickenstats/evolving_hockey/stats.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span>
<span class="normal"><a href="#__codelineno-0-615">615</a></span>
<span class="normal"><a href="#__codelineno-0-616">616</a></span>
<span class="normal"><a href="#__codelineno-0-617">617</a></span>
<span class="normal"><a href="#__codelineno-0-618">618</a></span>
<span class="normal"><a href="#__codelineno-0-619">619</a></span>
<span class="normal"><a href="#__codelineno-0-620">620</a></span>
<span class="normal"><a href="#__codelineno-0-621">621</a></span>
<span class="normal"><a href="#__codelineno-0-622">622</a></span>
<span class="normal"><a href="#__codelineno-0-623">623</a></span>
<span class="normal"><a href="#__codelineno-0-624">624</a></span>
<span class="normal"><a href="#__codelineno-0-625">625</a></span>
<span class="normal"><a href="#__codelineno-0-626">626</a></span>
<span class="normal"><a href="#__codelineno-0-627">627</a></span>
<span class="normal"><a href="#__codelineno-0-628">628</a></span>
<span class="normal"><a href="#__codelineno-0-629">629</a></span>
<span class="normal"><a href="#__codelineno-0-630">630</a></span>
<span class="normal"><a href="#__codelineno-0-631">631</a></span>
<span class="normal"><a href="#__codelineno-0-632">632</a></span>
<span class="normal"><a href="#__codelineno-0-633">633</a></span>
<span class="normal"><a href="#__codelineno-0-634">634</a></span>
<span class="normal"><a href="#__codelineno-0-635">635</a></span>
<span class="normal"><a href="#__codelineno-0-636">636</a></span>
<span class="normal"><a href="#__codelineno-0-637">637</a></span>
<span class="normal"><a href="#__codelineno-0-638">638</a></span>
<span class="normal"><a href="#__codelineno-0-639">639</a></span>
<span class="normal"><a href="#__codelineno-0-640">640</a></span>
<span class="normal"><a href="#__codelineno-0-641">641</a></span>
<span class="normal"><a href="#__codelineno-0-642">642</a></span>
<span class="normal"><a href="#__codelineno-0-643">643</a></span>
<span class="normal"><a href="#__codelineno-0-644">644</a></span>
<span class="normal"><a href="#__codelineno-0-645">645</a></span>
<span class="normal"><a href="#__codelineno-0-646">646</a></span>
<span class="normal"><a href="#__codelineno-0-647">647</a></span>
<span class="normal"><a href="#__codelineno-0-648">648</a></span>
<span class="normal"><a href="#__codelineno-0-649">649</a></span>
<span class="normal"><a href="#__codelineno-0-650">650</a></span>
<span class="normal"><a href="#__codelineno-0-651">651</a></span>
<span class="normal"><a href="#__codelineno-0-652">652</a></span>
<span class="normal"><a href="#__codelineno-0-653">653</a></span>
<span class="normal"><a href="#__codelineno-0-654">654</a></span>
<span class="normal"><a href="#__codelineno-0-655">655</a></span>
<span class="normal"><a href="#__codelineno-0-656">656</a></span>
<span class="normal"><a href="#__codelineno-0-657">657</a></span>
<span class="normal"><a href="#__codelineno-0-658">658</a></span>
<span class="normal"><a href="#__codelineno-0-659">659</a></span>
<span class="normal"><a href="#__codelineno-0-660">660</a></span>
<span class="normal"><a href="#__codelineno-0-661">661</a></span>
<span class="normal"><a href="#__codelineno-0-662">662</a></span>
<span class="normal"><a href="#__codelineno-0-663">663</a></span>
<span class="normal"><a href="#__codelineno-0-664">664</a></span>
<span class="normal"><a href="#__codelineno-0-665">665</a></span>
<span class="normal"><a href="#__codelineno-0-666">666</a></span>
<span class="normal"><a href="#__codelineno-0-667">667</a></span>
<span class="normal"><a href="#__codelineno-0-668">668</a></span>
<span class="normal"><a href="#__codelineno-0-669">669</a></span>
<span class="normal"><a href="#__codelineno-0-670">670</a></span>
<span class="normal"><a href="#__codelineno-0-671">671</a></span>
<span class="normal"><a href="#__codelineno-0-672">672</a></span>
<span class="normal"><a href="#__codelineno-0-673">673</a></span>
<span class="normal"><a href="#__codelineno-0-674">674</a></span>
<span class="normal"><a href="#__codelineno-0-675">675</a></span>
<span class="normal"><a href="#__codelineno-0-676">676</a></span>
<span class="normal"><a href="#__codelineno-0-677">677</a></span>
<span class="normal"><a href="#__codelineno-0-678">678</a></span>
<span class="normal"><a href="#__codelineno-0-679">679</a></span>
<span class="normal"><a href="#__codelineno-0-680">680</a></span>
<span class="normal"><a href="#__codelineno-0-681">681</a></span>
<span class="normal"><a href="#__codelineno-0-682">682</a></span>
<span class="normal"><a href="#__codelineno-0-683">683</a></span>
<span class="normal"><a href="#__codelineno-0-684">684</a></span>
<span class="normal"><a href="#__codelineno-0-685">685</a></span>
<span class="normal"><a href="#__codelineno-0-686">686</a></span>
<span class="normal"><a href="#__codelineno-0-687">687</a></span>
<span class="normal"><a href="#__codelineno-0-688">688</a></span>
<span class="normal"><a href="#__codelineno-0-689">689</a></span>
<span class="normal"><a href="#__codelineno-0-690">690</a></span>
<span class="normal"><a href="#__codelineno-0-691">691</a></span>
<span class="normal"><a href="#__codelineno-0-692">692</a></span>
<span class="normal"><a href="#__codelineno-0-693">693</a></span>
<span class="normal"><a href="#__codelineno-0-694">694</a></span>
<span class="normal"><a href="#__codelineno-0-695">695</a></span>
<span class="normal"><a href="#__codelineno-0-696">696</a></span>
<span class="normal"><a href="#__codelineno-0-697">697</a></span>
<span class="normal"><a href="#__codelineno-0-698">698</a></span>
<span class="normal"><a href="#__codelineno-0-699">699</a></span>
<span class="normal"><a href="#__codelineno-0-700">700</a></span>
<span class="normal"><a href="#__codelineno-0-701">701</a></span>
<span class="normal"><a href="#__codelineno-0-702">702</a></span>
<span class="normal"><a href="#__codelineno-0-703">703</a></span>
<span class="normal"><a href="#__codelineno-0-704">704</a></span>
<span class="normal"><a href="#__codelineno-0-705">705</a></span>
<span class="normal"><a href="#__codelineno-0-706">706</a></span>
<span class="normal"><a href="#__codelineno-0-707">707</a></span>
<span class="normal"><a href="#__codelineno-0-708">708</a></span>
<span class="normal"><a href="#__codelineno-0-709">709</a></span>
<span class="normal"><a href="#__codelineno-0-710">710</a></span>
<span class="normal"><a href="#__codelineno-0-711">711</a></span>
<span class="normal"><a href="#__codelineno-0-712">712</a></span>
<span class="normal"><a href="#__codelineno-0-713">713</a></span>
<span class="normal"><a href="#__codelineno-0-714">714</a></span>
<span class="normal"><a href="#__codelineno-0-715">715</a></span>
<span class="normal"><a href="#__codelineno-0-716">716</a></span>
<span class="normal"><a href="#__codelineno-0-717">717</a></span>
<span class="normal"><a href="#__codelineno-0-718">718</a></span>
<span class="normal"><a href="#__codelineno-0-719">719</a></span>
<span class="normal"><a href="#__codelineno-0-720">720</a></span>
<span class="normal"><a href="#__codelineno-0-721">721</a></span>
<span class="normal"><a href="#__codelineno-0-722">722</a></span>
<span class="normal"><a href="#__codelineno-0-723">723</a></span>
<span class="normal"><a href="#__codelineno-0-724">724</a></span>
<span class="normal"><a href="#__codelineno-0-725">725</a></span>
<span class="normal"><a href="#__codelineno-0-726">726</a></span>
<span class="normal"><a href="#__codelineno-0-727">727</a></span>
<span class="normal"><a href="#__codelineno-0-728">728</a></span>
<span class="normal"><a href="#__codelineno-0-729">729</a></span>
<span class="normal"><a href="#__codelineno-0-730">730</a></span>
<span class="normal"><a href="#__codelineno-0-731">731</a></span>
<span class="normal"><a href="#__codelineno-0-732">732</a></span>
<span class="normal"><a href="#__codelineno-0-733">733</a></span>
<span class="normal"><a href="#__codelineno-0-734">734</a></span>
<span class="normal"><a href="#__codelineno-0-735">735</a></span>
<span class="normal"><a href="#__codelineno-0-736">736</a></span>
<span class="normal"><a href="#__codelineno-0-737">737</a></span>
<span class="normal"><a href="#__codelineno-0-738">738</a></span>
<span class="normal"><a href="#__codelineno-0-739">739</a></span>
<span class="normal"><a href="#__codelineno-0-740">740</a></span>
<span class="normal"><a href="#__codelineno-0-741">741</a></span>
<span class="normal"><a href="#__codelineno-0-742">742</a></span>
<span class="normal"><a href="#__codelineno-0-743">743</a></span>
<span class="normal"><a href="#__codelineno-0-744">744</a></span>
<span class="normal"><a href="#__codelineno-0-745">745</a></span>
<span class="normal"><a href="#__codelineno-0-746">746</a></span>
<span class="normal"><a href="#__codelineno-0-747">747</a></span>
<span class="normal"><a href="#__codelineno-0-748">748</a></span>
<span class="normal"><a href="#__codelineno-0-749">749</a></span>
<span class="normal"><a href="#__codelineno-0-750">750</a></span>
<span class="normal"><a href="#__codelineno-0-751">751</a></span>
<span class="normal"><a href="#__codelineno-0-752">752</a></span>
<span class="normal"><a href="#__codelineno-0-753">753</a></span>
<span class="normal"><a href="#__codelineno-0-754">754</a></span>
<span class="normal"><a href="#__codelineno-0-755">755</a></span>
<span class="normal"><a href="#__codelineno-0-756">756</a></span>
<span class="normal"><a href="#__codelineno-0-757">757</a></span>
<span class="normal"><a href="#__codelineno-0-758">758</a></span>
<span class="normal"><a href="#__codelineno-0-759">759</a></span>
<span class="normal"><a href="#__codelineno-0-760">760</a></span>
<span class="normal"><a href="#__codelineno-0-761">761</a></span>
<span class="normal"><a href="#__codelineno-0-762">762</a></span>
<span class="normal"><a href="#__codelineno-0-763">763</a></span>
<span class="normal"><a href="#__codelineno-0-764">764</a></span>
<span class="normal"><a href="#__codelineno-0-765">765</a></span>
<span class="normal"><a href="#__codelineno-0-766">766</a></span>
<span class="normal"><a href="#__codelineno-0-767">767</a></span>
<span class="normal"><a href="#__codelineno-0-768">768</a></span>
<span class="normal"><a href="#__codelineno-0-769">769</a></span>
<span class="normal"><a href="#__codelineno-0-770">770</a></span>
<span class="normal"><a href="#__codelineno-0-771">771</a></span>
<span class="normal"><a href="#__codelineno-0-772">772</a></span>
<span class="normal"><a href="#__codelineno-0-773">773</a></span>
<span class="normal"><a href="#__codelineno-0-774">774</a></span>
<span class="normal"><a href="#__codelineno-0-775">775</a></span>
<span class="normal"><a href="#__codelineno-0-776">776</a></span>
<span class="normal"><a href="#__codelineno-0-777">777</a></span>
<span class="normal"><a href="#__codelineno-0-778">778</a></span>
<span class="normal"><a href="#__codelineno-0-779">779</a></span>
<span class="normal"><a href="#__codelineno-0-780">780</a></span>
<span class="normal"><a href="#__codelineno-0-781">781</a></span>
<span class="normal"><a href="#__codelineno-0-782">782</a></span>
<span class="normal"><a href="#__codelineno-0-783">783</a></span>
<span class="normal"><a href="#__codelineno-0-784">784</a></span>
<span class="normal"><a href="#__codelineno-0-785">785</a></span>
<span class="normal"><a href="#__codelineno-0-786">786</a></span>
<span class="normal"><a href="#__codelineno-0-787">787</a></span>
<span class="normal"><a href="#__codelineno-0-788">788</a></span>
<span class="normal"><a href="#__codelineno-0-789">789</a></span>
<span class="normal"><a href="#__codelineno-0-790">790</a></span>
<span class="normal"><a href="#__codelineno-0-791">791</a></span>
<span class="normal"><a href="#__codelineno-0-792">792</a></span>
<span class="normal"><a href="#__codelineno-0-793">793</a></span>
<span class="normal"><a href="#__codelineno-0-794">794</a></span>
<span class="normal"><a href="#__codelineno-0-795">795</a></span>
<span class="normal"><a href="#__codelineno-0-796">796</a></span>
<span class="normal"><a href="#__codelineno-0-797">797</a></span>
<span class="normal"><a href="#__codelineno-0-798">798</a></span>
<span class="normal"><a href="#__codelineno-0-799">799</a></span>
<span class="normal"><a href="#__codelineno-0-800">800</a></span>
<span class="normal"><a href="#__codelineno-0-801">801</a></span>
<span class="normal"><a href="#__codelineno-0-802">802</a></span>
<span class="normal"><a href="#__codelineno-0-803">803</a></span>
<span class="normal"><a href="#__codelineno-0-804">804</a></span>
<span class="normal"><a href="#__codelineno-0-805">805</a></span>
<span class="normal"><a href="#__codelineno-0-806">806</a></span>
<span class="normal"><a href="#__codelineno-0-807">807</a></span>
<span class="normal"><a href="#__codelineno-0-808">808</a></span>
<span class="normal"><a href="#__codelineno-0-809">809</a></span>
<span class="normal"><a href="#__codelineno-0-810">810</a></span>
<span class="normal"><a href="#__codelineno-0-811">811</a></span>
<span class="normal"><a href="#__codelineno-0-812">812</a></span>
<span class="normal"><a href="#__codelineno-0-813">813</a></span>
<span class="normal"><a href="#__codelineno-0-814">814</a></span>
<span class="normal"><a href="#__codelineno-0-815">815</a></span>
<span class="normal"><a href="#__codelineno-0-816">816</a></span>
<span class="normal"><a href="#__codelineno-0-817">817</a></span>
<span class="normal"><a href="#__codelineno-0-818">818</a></span>
<span class="normal"><a href="#__codelineno-0-819">819</a></span>
<span class="normal"><a href="#__codelineno-0-820">820</a></span>
<span class="normal"><a href="#__codelineno-0-821">821</a></span>
<span class="normal"><a href="#__codelineno-0-822">822</a></span>
<span class="normal"><a href="#__codelineno-0-823">823</a></span>
<span class="normal"><a href="#__codelineno-0-824">824</a></span>
<span class="normal"><a href="#__codelineno-0-825">825</a></span>
<span class="normal"><a href="#__codelineno-0-826">826</a></span>
<span class="normal"><a href="#__codelineno-0-827">827</a></span>
<span class="normal"><a href="#__codelineno-0-828">828</a></span>
<span class="normal"><a href="#__codelineno-0-829">829</a></span>
<span class="normal"><a href="#__codelineno-0-830">830</a></span>
<span class="normal"><a href="#__codelineno-0-831">831</a></span>
<span class="normal"><a href="#__codelineno-0-832">832</a></span>
<span class="normal"><a href="#__codelineno-0-833">833</a></span>
<span class="normal"><a href="#__codelineno-0-834">834</a></span>
<span class="normal"><a href="#__codelineno-0-835">835</a></span>
<span class="normal"><a href="#__codelineno-0-836">836</a></span>
<span class="normal"><a href="#__codelineno-0-837">837</a></span>
<span class="normal"><a href="#__codelineno-0-838">838</a></span>
<span class="normal"><a href="#__codelineno-0-839">839</a></span>
<span class="normal"><a href="#__codelineno-0-840">840</a></span>
<span class="normal"><a href="#__codelineno-0-841">841</a></span>
<span class="normal"><a href="#__codelineno-0-842">842</a></span>
<span class="normal"><a href="#__codelineno-0-843">843</a></span>
<span class="normal"><a href="#__codelineno-0-844">844</a></span>
<span class="normal"><a href="#__codelineno-0-845">845</a></span>
<span class="normal"><a href="#__codelineno-0-846">846</a></span>
<span class="normal"><a href="#__codelineno-0-847">847</a></span>
<span class="normal"><a href="#__codelineno-0-848">848</a></span>
<span class="normal"><a href="#__codelineno-0-849">849</a></span>
<span class="normal"><a href="#__codelineno-0-850">850</a></span>
<span class="normal"><a href="#__codelineno-0-851">851</a></span>
<span class="normal"><a href="#__codelineno-0-852">852</a></span>
<span class="normal"><a href="#__codelineno-0-853">853</a></span>
<span class="normal"><a href="#__codelineno-0-854">854</a></span>
<span class="normal"><a href="#__codelineno-0-855">855</a></span>
<span class="normal"><a href="#__codelineno-0-856">856</a></span>
<span class="normal"><a href="#__codelineno-0-857">857</a></span>
<span class="normal"><a href="#__codelineno-0-858">858</a></span>
<span class="normal"><a href="#__codelineno-0-859">859</a></span>
<span class="normal"><a href="#__codelineno-0-860">860</a></span>
<span class="normal"><a href="#__codelineno-0-861">861</a></span>
<span class="normal"><a href="#__codelineno-0-862">862</a></span>
<span class="normal"><a href="#__codelineno-0-863">863</a></span>
<span class="normal"><a href="#__codelineno-0-864">864</a></span>
<span class="normal"><a href="#__codelineno-0-865">865</a></span>
<span class="normal"><a href="#__codelineno-0-866">866</a></span>
<span class="normal"><a href="#__codelineno-0-867">867</a></span>
<span class="normal"><a href="#__codelineno-0-868">868</a></span>
<span class="normal"><a href="#__codelineno-0-869">869</a></span>
<span class="normal"><a href="#__codelineno-0-870">870</a></span>
<span class="normal"><a href="#__codelineno-0-871">871</a></span>
<span class="normal"><a href="#__codelineno-0-872">872</a></span>
<span class="normal"><a href="#__codelineno-0-873">873</a></span>
<span class="normal"><a href="#__codelineno-0-874">874</a></span>
<span class="normal"><a href="#__codelineno-0-875">875</a></span>
<span class="normal"><a href="#__codelineno-0-876">876</a></span>
<span class="normal"><a href="#__codelineno-0-877">877</a></span>
<span class="normal"><a href="#__codelineno-0-878">878</a></span>
<span class="normal"><a href="#__codelineno-0-879">879</a></span>
<span class="normal"><a href="#__codelineno-0-880">880</a></span>
<span class="normal"><a href="#__codelineno-0-881">881</a></span>
<span class="normal"><a href="#__codelineno-0-882">882</a></span>
<span class="normal"><a href="#__codelineno-0-883">883</a></span>
<span class="normal"><a href="#__codelineno-0-884">884</a></span>
<span class="normal"><a href="#__codelineno-0-885">885</a></span>
<span class="normal"><a href="#__codelineno-0-886">886</a></span>
<span class="normal"><a href="#__codelineno-0-887">887</a></span>
<span class="normal"><a href="#__codelineno-0-888">888</a></span>
<span class="normal"><a href="#__codelineno-0-889">889</a></span>
<span class="normal"><a href="#__codelineno-0-890">890</a></span>
<span class="normal"><a href="#__codelineno-0-891">891</a></span>
<span class="normal"><a href="#__codelineno-0-892">892</a></span>
<span class="normal"><a href="#__codelineno-0-893">893</a></span>
<span class="normal"><a href="#__codelineno-0-894">894</a></span>
<span class="normal"><a href="#__codelineno-0-895">895</a></span>
<span class="normal"><a href="#__codelineno-0-896">896</a></span>
<span class="normal"><a href="#__codelineno-0-897">897</a></span>
<span class="normal"><a href="#__codelineno-0-898">898</a></span>
<span class="normal"><a href="#__codelineno-0-899">899</a></span>
<span class="normal"><a href="#__codelineno-0-900">900</a></span>
<span class="normal"><a href="#__codelineno-0-901">901</a></span>
<span class="normal"><a href="#__codelineno-0-902">902</a></span>
<span class="normal"><a href="#__codelineno-0-903">903</a></span>
<span class="normal"><a href="#__codelineno-0-904">904</a></span>
<span class="normal"><a href="#__codelineno-0-905">905</a></span>
<span class="normal"><a href="#__codelineno-0-906">906</a></span>
<span class="normal"><a href="#__codelineno-0-907">907</a></span>
<span class="normal"><a href="#__codelineno-0-908">908</a></span>
<span class="normal"><a href="#__codelineno-0-909">909</a></span>
<span class="normal"><a href="#__codelineno-0-910">910</a></span>
<span class="normal"><a href="#__codelineno-0-911">911</a></span>
<span class="normal"><a href="#__codelineno-0-912">912</a></span>
<span class="normal"><a href="#__codelineno-0-913">913</a></span>
<span class="normal"><a href="#__codelineno-0-914">914</a></span>
<span class="normal"><a href="#__codelineno-0-915">915</a></span>
<span class="normal"><a href="#__codelineno-0-916">916</a></span>
<span class="normal"><a href="#__codelineno-0-917">917</a></span>
<span class="normal"><a href="#__codelineno-0-918">918</a></span>
<span class="normal"><a href="#__codelineno-0-919">919</a></span>
<span class="normal"><a href="#__codelineno-0-920">920</a></span>
<span class="normal"><a href="#__codelineno-0-921">921</a></span>
<span class="normal"><a href="#__codelineno-0-922">922</a></span>
<span class="normal"><a href="#__codelineno-0-923">923</a></span>
<span class="normal"><a href="#__codelineno-0-924">924</a></span>
<span class="normal"><a href="#__codelineno-0-925">925</a></span>
<span class="normal"><a href="#__codelineno-0-926">926</a></span>
<span class="normal"><a href="#__codelineno-0-927">927</a></span>
<span class="normal"><a href="#__codelineno-0-928">928</a></span>
<span class="normal"><a href="#__codelineno-0-929">929</a></span>
<span class="normal"><a href="#__codelineno-0-930">930</a></span>
<span class="normal"><a href="#__codelineno-0-931">931</a></span>
<span class="normal"><a href="#__codelineno-0-932">932</a></span>
<span class="normal"><a href="#__codelineno-0-933">933</a></span>
<span class="normal"><a href="#__codelineno-0-934">934</a></span>
<span class="normal"><a href="#__codelineno-0-935">935</a></span>
<span class="normal"><a href="#__codelineno-0-936">936</a></span>
<span class="normal"><a href="#__codelineno-0-937">937</a></span>
<span class="normal"><a href="#__codelineno-0-938">938</a></span>
<span class="normal"><a href="#__codelineno-0-939">939</a></span>
<span class="normal"><a href="#__codelineno-0-940">940</a></span>
<span class="normal"><a href="#__codelineno-0-941">941</a></span>
<span class="normal"><a href="#__codelineno-0-942">942</a></span>
<span class="normal"><a href="#__codelineno-0-943">943</a></span>
<span class="normal"><a href="#__codelineno-0-944">944</a></span>
<span class="normal"><a href="#__codelineno-0-945">945</a></span>
<span class="normal"><a href="#__codelineno-0-946">946</a></span>
<span class="normal"><a href="#__codelineno-0-947">947</a></span>
<span class="normal"><a href="#__codelineno-0-948">948</a></span>
<span class="normal"><a href="#__codelineno-0-949">949</a></span>
<span class="normal"><a href="#__codelineno-0-950">950</a></span>
<span class="normal"><a href="#__codelineno-0-951">951</a></span>
<span class="normal"><a href="#__codelineno-0-952">952</a></span>
<span class="normal"><a href="#__codelineno-0-953">953</a></span>
<span class="normal"><a href="#__codelineno-0-954">954</a></span>
<span class="normal"><a href="#__codelineno-0-955">955</a></span>
<span class="normal"><a href="#__codelineno-0-956">956</a></span>
<span class="normal"><a href="#__codelineno-0-957">957</a></span>
<span class="normal"><a href="#__codelineno-0-958">958</a></span>
<span class="normal"><a href="#__codelineno-0-959">959</a></span>
<span class="normal"><a href="#__codelineno-0-960">960</a></span>
<span class="normal"><a href="#__codelineno-0-961">961</a></span>
<span class="normal"><a href="#__codelineno-0-962">962</a></span>
<span class="normal"><a href="#__codelineno-0-963">963</a></span>
<span class="normal"><a href="#__codelineno-0-964">964</a></span>
<span class="normal"><a href="#__codelineno-0-965">965</a></span>
<span class="normal"><a href="#__codelineno-0-966">966</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-602" name="__codelineno-0-602"></a><span class="k">def</span> <span class="nf">prep_stats</span><span class="p">(</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a>    <span class="n">pbp</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a>    <span class="n">level</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;period&quot;</span><span class="p">,</span> <span class="s2">&quot;game&quot;</span><span class="p">,</span> <span class="s2">&quot;session&quot;</span><span class="p">,</span> <span class="s2">&quot;season&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;game&quot;</span><span class="p">,</span>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>    <span class="n">score</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a>    <span class="n">teammates</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a>    <span class="n">opposition</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a>    <span class="n">disable_progress_bar</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Prepares an individual and on-ice stats dataframe using EvolvingHockey data.</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a><span class="sd">    Aggregates to desired level. Capable of returning cuts that account for strength state,</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a><span class="sd">    period, score state, teammates, and opposition.</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>
<a id="__codelineno-0-615" name="__codelineno-0-615"></a><span class="sd">    Returns a Pandas DataFrame.</span>
<a id="__codelineno-0-616" name="__codelineno-0-616"></a>
<a id="__codelineno-0-617" name="__codelineno-0-617"></a><span class="sd">    Parameters:</span>
<a id="__codelineno-0-618" name="__codelineno-0-618"></a><span class="sd">        pbp (pd.DataFrame):</span>
<a id="__codelineno-0-619" name="__codelineno-0-619"></a><span class="sd">            Dataframe from the prep_pbp function with the default columns argument</span>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a><span class="sd">        level (str):</span>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a><span class="sd">            Level to aggregate stats, e.g., &#39;game&#39;</span>
<a id="__codelineno-0-622" name="__codelineno-0-622"></a><span class="sd">        score (bool):</span>
<a id="__codelineno-0-623" name="__codelineno-0-623"></a><span class="sd">            Whether to aggregate to score state level</span>
<a id="__codelineno-0-624" name="__codelineno-0-624"></a><span class="sd">        teammates (bool):</span>
<a id="__codelineno-0-625" name="__codelineno-0-625"></a><span class="sd">            Whether to account for teammates when aggregating</span>
<a id="__codelineno-0-626" name="__codelineno-0-626"></a><span class="sd">        opposition (bool):</span>
<a id="__codelineno-0-627" name="__codelineno-0-627"></a><span class="sd">            Whether to account for opposition when aggregating</span>
<a id="__codelineno-0-628" name="__codelineno-0-628"></a><span class="sd">        disable_progress_bar (bool):</span>
<a id="__codelineno-0-629" name="__codelineno-0-629"></a><span class="sd">            Whether to disable progress bar</span>
<a id="__codelineno-0-630" name="__codelineno-0-630"></a>
<a id="__codelineno-0-631" name="__codelineno-0-631"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-632" name="__codelineno-0-632"></a><span class="sd">        season (int):</span>
<a id="__codelineno-0-633" name="__codelineno-0-633"></a><span class="sd">            8-digit season code, e.g., 20232024</span>
<a id="__codelineno-0-634" name="__codelineno-0-634"></a><span class="sd">        session (str):</span>
<a id="__codelineno-0-635" name="__codelineno-0-635"></a><span class="sd">            Regular season or playoffs, e.g., R</span>
<a id="__codelineno-0-636" name="__codelineno-0-636"></a><span class="sd">        game_id (int):</span>
<a id="__codelineno-0-637" name="__codelineno-0-637"></a><span class="sd">            10-digit game identifier, e.g., 2023020015</span>
<a id="__codelineno-0-638" name="__codelineno-0-638"></a><span class="sd">        game_date (str):</span>
<a id="__codelineno-0-639" name="__codelineno-0-639"></a><span class="sd">            Date of game in Eastern time-zone, e.g., 2023-10-12</span>
<a id="__codelineno-0-640" name="__codelineno-0-640"></a><span class="sd">        player (str):</span>
<a id="__codelineno-0-641" name="__codelineno-0-641"></a><span class="sd">            Name of the player, e.g., FILIP.FORSBERG</span>
<a id="__codelineno-0-642" name="__codelineno-0-642"></a><span class="sd">        player_id (str):</span>
<a id="__codelineno-0-643" name="__codelineno-0-643"></a><span class="sd">            Player EH ID, e.g., FILIP.FORSBERG</span>
<a id="__codelineno-0-644" name="__codelineno-0-644"></a><span class="sd">        position (str):</span>
<a id="__codelineno-0-645" name="__codelineno-0-645"></a><span class="sd">            Player&#39;s position, e.g., L</span>
<a id="__codelineno-0-646" name="__codelineno-0-646"></a><span class="sd">        team (str):</span>
<a id="__codelineno-0-647" name="__codelineno-0-647"></a><span class="sd">            3-letter abbreviation of the player&#39;s team, e.g., NSH</span>
<a id="__codelineno-0-648" name="__codelineno-0-648"></a><span class="sd">        opp_team: object</span>
<a id="__codelineno-0-649" name="__codelineno-0-649"></a><span class="sd">            3-letter abbreviation of the opposing team, e.g., SEA</span>
<a id="__codelineno-0-650" name="__codelineno-0-650"></a><span class="sd">        strength_state (str):</span>
<a id="__codelineno-0-651" name="__codelineno-0-651"></a><span class="sd">            Strength state from the perspective of the event team, e.g., 5v5</span>
<a id="__codelineno-0-652" name="__codelineno-0-652"></a><span class="sd">        score_state (str):</span>
<a id="__codelineno-0-653" name="__codelineno-0-653"></a><span class="sd">            Score state from the perspective of the event team, e.g., 0v0</span>
<a id="__codelineno-0-654" name="__codelineno-0-654"></a><span class="sd">        game_period (int):</span>
<a id="__codelineno-0-655" name="__codelineno-0-655"></a><span class="sd">            Game period, e.g., 1</span>
<a id="__codelineno-0-656" name="__codelineno-0-656"></a><span class="sd">        forwards (str):</span>
<a id="__codelineno-0-657" name="__codelineno-0-657"></a><span class="sd">            Names of the event team&#39;s forwards that are on the ice during the event,</span>
<a id="__codelineno-0-658" name="__codelineno-0-658"></a><span class="sd">            e.g., FILIP.FORSBERG, JUUSO.PARSSINEN, RYAN.O&#39;REILLY</span>
<a id="__codelineno-0-659" name="__codelineno-0-659"></a><span class="sd">        forwards_id (str):</span>
<a id="__codelineno-0-660" name="__codelineno-0-660"></a><span class="sd">            EH IDs of the event team&#39;s forwards that are on the ice during the event,</span>
<a id="__codelineno-0-661" name="__codelineno-0-661"></a><span class="sd">            e.g., FILIP.FORSBERG, JUUSO.PARSSINEN, RYAN.O&#39;REILLY</span>
<a id="__codelineno-0-662" name="__codelineno-0-662"></a><span class="sd">        defense (str):</span>
<a id="__codelineno-0-663" name="__codelineno-0-663"></a><span class="sd">            Names of the event team&#39;s defensemen that are on the ice during the event,</span>
<a id="__codelineno-0-664" name="__codelineno-0-664"></a><span class="sd">            e.g., ALEX.CARRIER, RYAN.MCDONAGH</span>
<a id="__codelineno-0-665" name="__codelineno-0-665"></a><span class="sd">        defense_id (str):</span>
<a id="__codelineno-0-666" name="__codelineno-0-666"></a><span class="sd">            EH IDs of the event team&#39;s defensemen that are on the ice during the event,</span>
<a id="__codelineno-0-667" name="__codelineno-0-667"></a><span class="sd">            e.g., ALEX.CARRIER, RYAN.MCDONAGH</span>
<a id="__codelineno-0-668" name="__codelineno-0-668"></a><span class="sd">        own_goalie (str):</span>
<a id="__codelineno-0-669" name="__codelineno-0-669"></a><span class="sd">            Name of the goalie for the event team, e.g., JUUSE.SAROS</span>
<a id="__codelineno-0-670" name="__codelineno-0-670"></a><span class="sd">        own_goalie_id (str):</span>
<a id="__codelineno-0-671" name="__codelineno-0-671"></a><span class="sd">            Identifier for the event team goalie that can be used to match with Evolving Hockey data, e.g., JUUSE.SAROS</span>
<a id="__codelineno-0-672" name="__codelineno-0-672"></a><span class="sd">        opp_forwards (str):</span>
<a id="__codelineno-0-673" name="__codelineno-0-673"></a><span class="sd">            Names of the opponent&#39;s forwards that are on the ice during the event,</span>
<a id="__codelineno-0-674" name="__codelineno-0-674"></a><span class="sd">            e.g., JARED.MCCANN, JORDAN.EBERLE, MATTY.BENIERS</span>
<a id="__codelineno-0-675" name="__codelineno-0-675"></a><span class="sd">        opp_forwards_id (str):</span>
<a id="__codelineno-0-676" name="__codelineno-0-676"></a><span class="sd">            EH IDs of the event team&#39;s forwards that are on the ice during the event,</span>
<a id="__codelineno-0-677" name="__codelineno-0-677"></a><span class="sd">            e.g., JARED.MCCANN, JORDAN.EBERLE, MATTY.BENIERS</span>
<a id="__codelineno-0-678" name="__codelineno-0-678"></a><span class="sd">        opp_defense(str):</span>
<a id="__codelineno-0-679" name="__codelineno-0-679"></a><span class="sd">            Names of the opposing team&#39;s defensemen that are on the ice during the event,</span>
<a id="__codelineno-0-680" name="__codelineno-0-680"></a><span class="sd">            e.g., JAMIE.OLEKSIAK, WILLIAM.BORGEN</span>
<a id="__codelineno-0-681" name="__codelineno-0-681"></a><span class="sd">        opp_defense_id (str):</span>
<a id="__codelineno-0-682" name="__codelineno-0-682"></a><span class="sd">            EH IDs of the opposing team&#39;s defensemen that are on the ice during the event,</span>
<a id="__codelineno-0-683" name="__codelineno-0-683"></a><span class="sd">            e.g., JAMIE.OLEKSIAK, WILLIAM.BORGEN</span>
<a id="__codelineno-0-684" name="__codelineno-0-684"></a><span class="sd">        opp_goalie (str):</span>
<a id="__codelineno-0-685" name="__codelineno-0-685"></a><span class="sd">            Name of the opposing goalie for the event team, e.g., PHILIPP.GRUBAUER</span>
<a id="__codelineno-0-686" name="__codelineno-0-686"></a><span class="sd">        opp_goalie_id (str):</span>
<a id="__codelineno-0-687" name="__codelineno-0-687"></a><span class="sd">            Identifier for the opposing goalie that can be used to match with Evolving Hockey data,</span>
<a id="__codelineno-0-688" name="__codelineno-0-688"></a><span class="sd">            e.g., PHILIPP.GRUBAUER</span>
<a id="__codelineno-0-689" name="__codelineno-0-689"></a><span class="sd">        toi (float):</span>
<a id="__codelineno-0-690" name="__codelineno-0-690"></a><span class="sd">            Time on-ice in minutes, e.g., 1.616667</span>
<a id="__codelineno-0-691" name="__codelineno-0-691"></a><span class="sd">        g (float):</span>
<a id="__codelineno-0-692" name="__codelineno-0-692"></a><span class="sd">            Number of individual goals scored, e.g, 0</span>
<a id="__codelineno-0-693" name="__codelineno-0-693"></a><span class="sd">        a1 (float):</span>
<a id="__codelineno-0-694" name="__codelineno-0-694"></a><span class="sd">            Number of primary assists, e.g, 0</span>
<a id="__codelineno-0-695" name="__codelineno-0-695"></a><span class="sd">        a2 (float):</span>
<a id="__codelineno-0-696" name="__codelineno-0-696"></a><span class="sd">            Number of secondary assists, e.g, 0</span>
<a id="__codelineno-0-697" name="__codelineno-0-697"></a><span class="sd">        isf (float):</span>
<a id="__codelineno-0-698" name="__codelineno-0-698"></a><span class="sd">            Number of indiviudal shots registered, e.g., 0</span>
<a id="__codelineno-0-699" name="__codelineno-0-699"></a><span class="sd">        iff (float):</span>
<a id="__codelineno-0-700" name="__codelineno-0-700"></a><span class="sd">            Number of indiviudal fenwick events registered, e.g., 0</span>
<a id="__codelineno-0-701" name="__codelineno-0-701"></a><span class="sd">        icf (float):</span>
<a id="__codelineno-0-702" name="__codelineno-0-702"></a><span class="sd">            Number of indiviudal corsi events registered, e.g., 0</span>
<a id="__codelineno-0-703" name="__codelineno-0-703"></a><span class="sd">        ixg (float):</span>
<a id="__codelineno-0-704" name="__codelineno-0-704"></a><span class="sd">            Sum value of individual predicted goals (xG), e.g., 0</span>
<a id="__codelineno-0-705" name="__codelineno-0-705"></a><span class="sd">        gax (float):</span>
<a id="__codelineno-0-706" name="__codelineno-0-706"></a><span class="sd">            Sum value of goals scored above expected, e.g., 0</span>
<a id="__codelineno-0-707" name="__codelineno-0-707"></a><span class="sd">        ihdg (float):</span>
<a id="__codelineno-0-708" name="__codelineno-0-708"></a><span class="sd">            Sum value of individual high-danger goals scored, e.g., 0</span>
<a id="__codelineno-0-709" name="__codelineno-0-709"></a><span class="sd">        ihdf (float):</span>
<a id="__codelineno-0-710" name="__codelineno-0-710"></a><span class="sd">            Sum value of individual high-danger fenwick events registered, e.g., 0</span>
<a id="__codelineno-0-711" name="__codelineno-0-711"></a><span class="sd">        ihdsf (float):</span>
<a id="__codelineno-0-712" name="__codelineno-0-712"></a><span class="sd">            Sum value of individual high-danger shots taken, e.g., 0</span>
<a id="__codelineno-0-713" name="__codelineno-0-713"></a><span class="sd">        ihdm (float):</span>
<a id="__codelineno-0-714" name="__codelineno-0-714"></a><span class="sd">            Sum value of individual high-danger shots missed, e.g., 0</span>
<a id="__codelineno-0-715" name="__codelineno-0-715"></a><span class="sd">        imsf (float):</span>
<a id="__codelineno-0-716" name="__codelineno-0-716"></a><span class="sd">            Sum value of individual missed shots, 0</span>
<a id="__codelineno-0-717" name="__codelineno-0-717"></a><span class="sd">        isb (float):</span>
<a id="__codelineno-0-718" name="__codelineno-0-718"></a><span class="sd">            Sum value of shots taken that were ultimately blocked, e.g., 0</span>
<a id="__codelineno-0-719" name="__codelineno-0-719"></a><span class="sd">        ibs (float):</span>
<a id="__codelineno-0-720" name="__codelineno-0-720"></a><span class="sd">            Sum value of opponent shots taken that the player ultimately blocked, e.g., 0</span>
<a id="__codelineno-0-721" name="__codelineno-0-721"></a><span class="sd">        igive (float):</span>
<a id="__codelineno-0-722" name="__codelineno-0-722"></a><span class="sd">            Sum of individual giveaways, e.g., 0</span>
<a id="__codelineno-0-723" name="__codelineno-0-723"></a><span class="sd">        itake (float):</span>
<a id="__codelineno-0-724" name="__codelineno-0-724"></a><span class="sd">            Sum of individual takeaways, e.g., 0</span>
<a id="__codelineno-0-725" name="__codelineno-0-725"></a><span class="sd">        ihf (float):</span>
<a id="__codelineno-0-726" name="__codelineno-0-726"></a><span class="sd">            Sum of individual hits for, e.g., 0</span>
<a id="__codelineno-0-727" name="__codelineno-0-727"></a><span class="sd">        iht (float):</span>
<a id="__codelineno-0-728" name="__codelineno-0-728"></a><span class="sd">            Sum of individual hits taken, e.g., 0</span>
<a id="__codelineno-0-729" name="__codelineno-0-729"></a><span class="sd">        ifow (float):</span>
<a id="__codelineno-0-730" name="__codelineno-0-730"></a><span class="sd">            Sum of individual faceoffs won, e.g., 0</span>
<a id="__codelineno-0-731" name="__codelineno-0-731"></a><span class="sd">        ifol (float):</span>
<a id="__codelineno-0-732" name="__codelineno-0-732"></a><span class="sd">            Sum of individual faceoffs lost, e.g., 0</span>
<a id="__codelineno-0-733" name="__codelineno-0-733"></a><span class="sd">        iozfw (float):</span>
<a id="__codelineno-0-734" name="__codelineno-0-734"></a><span class="sd">            Sum of individual faceoffs won in offensive zone, e.g., 0</span>
<a id="__codelineno-0-735" name="__codelineno-0-735"></a><span class="sd">        iozfl (float):</span>
<a id="__codelineno-0-736" name="__codelineno-0-736"></a><span class="sd">            Sum of individual faceoffs lost in offensive zone, e.g., 0</span>
<a id="__codelineno-0-737" name="__codelineno-0-737"></a><span class="sd">        inzfw (float):</span>
<a id="__codelineno-0-738" name="__codelineno-0-738"></a><span class="sd">            Sum of individual faceoffs won in neutral zone, e.g., 0</span>
<a id="__codelineno-0-739" name="__codelineno-0-739"></a><span class="sd">        inzfl (float):</span>
<a id="__codelineno-0-740" name="__codelineno-0-740"></a><span class="sd">            Sum of individual faceoffs lost in neutral zone, e.g., 0</span>
<a id="__codelineno-0-741" name="__codelineno-0-741"></a><span class="sd">        idzfw (float):</span>
<a id="__codelineno-0-742" name="__codelineno-0-742"></a><span class="sd">            Sum of individual faceoffs won in defensive zone, e.g., 0</span>
<a id="__codelineno-0-743" name="__codelineno-0-743"></a><span class="sd">        idzfl (float):</span>
<a id="__codelineno-0-744" name="__codelineno-0-744"></a><span class="sd">            Sum of individual faceoffs lost in defensive zone, e.g., 0</span>
<a id="__codelineno-0-745" name="__codelineno-0-745"></a><span class="sd">        a1_xg (float):</span>
<a id="__codelineno-0-746" name="__codelineno-0-746"></a><span class="sd">            Sum of xG from primary assists, e.g., 0</span>
<a id="__codelineno-0-747" name="__codelineno-0-747"></a><span class="sd">        a2_xg (float):</span>
<a id="__codelineno-0-748" name="__codelineno-0-748"></a><span class="sd">            Sum of xG from secondary assists, e.g., 0</span>
<a id="__codelineno-0-749" name="__codelineno-0-749"></a><span class="sd">        ipent0 (float):</span>
<a id="__codelineno-0-750" name="__codelineno-0-750"></a><span class="sd">            Sum of individual 0-minute penalties taken, e.g., 0</span>
<a id="__codelineno-0-751" name="__codelineno-0-751"></a><span class="sd">        ipent2 (float):</span>
<a id="__codelineno-0-752" name="__codelineno-0-752"></a><span class="sd">            Sum of individual 2-minute penalties taken, e.g., 0</span>
<a id="__codelineno-0-753" name="__codelineno-0-753"></a><span class="sd">        ipent4 (float):</span>
<a id="__codelineno-0-754" name="__codelineno-0-754"></a><span class="sd">            Sum of individual 4-minute penalties taken, e.g., 0</span>
<a id="__codelineno-0-755" name="__codelineno-0-755"></a><span class="sd">        ipent5 (float):</span>
<a id="__codelineno-0-756" name="__codelineno-0-756"></a><span class="sd">            Sum of individual 5-minute penalties taken, e.g., 0</span>
<a id="__codelineno-0-757" name="__codelineno-0-757"></a><span class="sd">        ipent10 (float):</span>
<a id="__codelineno-0-758" name="__codelineno-0-758"></a><span class="sd">            Sum of individual 10-minute penalties taken, e.g., 0</span>
<a id="__codelineno-0-759" name="__codelineno-0-759"></a><span class="sd">        ipend0 (float):</span>
<a id="__codelineno-0-760" name="__codelineno-0-760"></a><span class="sd">            Sum of individual 0-minute penalties drawn, e.g., 0</span>
<a id="__codelineno-0-761" name="__codelineno-0-761"></a><span class="sd">        ipend2 (float):</span>
<a id="__codelineno-0-762" name="__codelineno-0-762"></a><span class="sd">            Sum of individual 2-minute penalties drawn, e.g., 0</span>
<a id="__codelineno-0-763" name="__codelineno-0-763"></a><span class="sd">        ipend4 (float):</span>
<a id="__codelineno-0-764" name="__codelineno-0-764"></a><span class="sd">            Sum of individual 4-minute penalties drawn, e.g., 0</span>
<a id="__codelineno-0-765" name="__codelineno-0-765"></a><span class="sd">        ipend5 (float):</span>
<a id="__codelineno-0-766" name="__codelineno-0-766"></a><span class="sd">            Sum of individual 5-minute penalties drawn, e.g., 0</span>
<a id="__codelineno-0-767" name="__codelineno-0-767"></a><span class="sd">        ipend10 (float):</span>
<a id="__codelineno-0-768" name="__codelineno-0-768"></a><span class="sd">            Sum of individual 10-minute penalties drawn, e.g., 0</span>
<a id="__codelineno-0-769" name="__codelineno-0-769"></a><span class="sd">        ozs (float):</span>
<a id="__codelineno-0-770" name="__codelineno-0-770"></a><span class="sd">            Sum of changes with offensive zone starts, e.g., 0</span>
<a id="__codelineno-0-771" name="__codelineno-0-771"></a><span class="sd">        nzs (float):</span>
<a id="__codelineno-0-772" name="__codelineno-0-772"></a><span class="sd">            Sum of changes with neutral zone starts, e.g., 0</span>
<a id="__codelineno-0-773" name="__codelineno-0-773"></a><span class="sd">        dzs (float):</span>
<a id="__codelineno-0-774" name="__codelineno-0-774"></a><span class="sd">            Sum of changes with defensive zone starts, e.g., 1</span>
<a id="__codelineno-0-775" name="__codelineno-0-775"></a><span class="sd">        otf (float):</span>
<a id="__codelineno-0-776" name="__codelineno-0-776"></a><span class="sd">            Sum of changes on-the-fly, e.g., 0</span>
<a id="__codelineno-0-777" name="__codelineno-0-777"></a><span class="sd">        gf (float):</span>
<a id="__codelineno-0-778" name="__codelineno-0-778"></a><span class="sd">            Sum of goals scored while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-779" name="__codelineno-0-779"></a><span class="sd">        gf_adj (float):</span>
<a id="__codelineno-0-780" name="__codelineno-0-780"></a><span class="sd">            Sum of venue- and score-adjusted goals scored while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-781" name="__codelineno-0-781"></a><span class="sd">        hdgf (float):</span>
<a id="__codelineno-0-782" name="__codelineno-0-782"></a><span class="sd">            Sum of high-danger goals scored while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-783" name="__codelineno-0-783"></a><span class="sd">        ga (float):</span>
<a id="__codelineno-0-784" name="__codelineno-0-784"></a><span class="sd">            Sum of goals allowed while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-785" name="__codelineno-0-785"></a><span class="sd">        ga_adj (float):</span>
<a id="__codelineno-0-786" name="__codelineno-0-786"></a><span class="sd">            Sum of venue- and score-adjusted goals allowed while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-787" name="__codelineno-0-787"></a><span class="sd">        hdga (float):</span>
<a id="__codelineno-0-788" name="__codelineno-0-788"></a><span class="sd">            Sum of high-danger goals allowed while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-789" name="__codelineno-0-789"></a><span class="sd">        xgf (float):</span>
<a id="__codelineno-0-790" name="__codelineno-0-790"></a><span class="sd">            Sum of expected goals generated while player is on-ice, e.g., 0.017266</span>
<a id="__codelineno-0-791" name="__codelineno-0-791"></a><span class="sd">        xgf_adj (float):</span>
<a id="__codelineno-0-792" name="__codelineno-0-792"></a><span class="sd">            Sum of venue- and score-adjusted expected goals generated while player is on-ice, e.g., 0.016472</span>
<a id="__codelineno-0-793" name="__codelineno-0-793"></a><span class="sd">        xga (float):</span>
<a id="__codelineno-0-794" name="__codelineno-0-794"></a><span class="sd">            Sum of expected goals allowed while player is on-ice, e.g., 0.123475</span>
<a id="__codelineno-0-795" name="__codelineno-0-795"></a><span class="sd">        xga_adj (float):</span>
<a id="__codelineno-0-796" name="__codelineno-0-796"></a><span class="sd">            Sum of venue- and score-adjusted expected goals allowed while player is on-ice, e.g., 0.129772</span>
<a id="__codelineno-0-797" name="__codelineno-0-797"></a><span class="sd">        sf (float):</span>
<a id="__codelineno-0-798" name="__codelineno-0-798"></a><span class="sd">            Sum of shots taken while player is on-ice, e.g., 1</span>
<a id="__codelineno-0-799" name="__codelineno-0-799"></a><span class="sd">        sf_adj (float):</span>
<a id="__codelineno-0-800" name="__codelineno-0-800"></a><span class="sd">            Sum of venue- and score-adjusted shots taken while player is on-ice, e.g., .972</span>
<a id="__codelineno-0-801" name="__codelineno-0-801"></a><span class="sd">        hdsf (float):</span>
<a id="__codelineno-0-802" name="__codelineno-0-802"></a><span class="sd">            Sum of high-danger shots taken while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-803" name="__codelineno-0-803"></a><span class="sd">        sa (float):</span>
<a id="__codelineno-0-804" name="__codelineno-0-804"></a><span class="sd">            Sum of shots allowed while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-805" name="__codelineno-0-805"></a><span class="sd">        sa_adj (float):</span>
<a id="__codelineno-0-806" name="__codelineno-0-806"></a><span class="sd">            Sum of venue- and score-adjusted shots allowed while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-807" name="__codelineno-0-807"></a><span class="sd">        hdsa (float):</span>
<a id="__codelineno-0-808" name="__codelineno-0-808"></a><span class="sd">            Sum of high-danger shots allowed while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-809" name="__codelineno-0-809"></a><span class="sd">        ff (float):</span>
<a id="__codelineno-0-810" name="__codelineno-0-810"></a><span class="sd">            Sum of fenwick events generated while player is on-ice, e.g., 1</span>
<a id="__codelineno-0-811" name="__codelineno-0-811"></a><span class="sd">        ff_adj (float):</span>
<a id="__codelineno-0-812" name="__codelineno-0-812"></a><span class="sd">            Sum of venue- and score-adjusted fenwick events generated while player is on-ice, e.g., 0.968</span>
<a id="__codelineno-0-813" name="__codelineno-0-813"></a><span class="sd">        hdff (float):</span>
<a id="__codelineno-0-814" name="__codelineno-0-814"></a><span class="sd">            Sum of high-danger fenwick events generated while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-815" name="__codelineno-0-815"></a><span class="sd">        fa (float):</span>
<a id="__codelineno-0-816" name="__codelineno-0-816"></a><span class="sd">            Sum of fenwick events allowed while player is on-ice, e.g., 1</span>
<a id="__codelineno-0-817" name="__codelineno-0-817"></a><span class="sd">        fa_adj (float):</span>
<a id="__codelineno-0-818" name="__codelineno-0-818"></a><span class="sd">            Sum of venue- and score-adjusted fenwick events allowed while player is on-ice, e.g., 1.034</span>
<a id="__codelineno-0-819" name="__codelineno-0-819"></a><span class="sd">        hdfa (float):</span>
<a id="__codelineno-0-820" name="__codelineno-0-820"></a><span class="sd">            Sum of high-danger fenwick events allowed while player is on-ice, e.g., 1</span>
<a id="__codelineno-0-821" name="__codelineno-0-821"></a><span class="sd">        cf (float):</span>
<a id="__codelineno-0-822" name="__codelineno-0-822"></a><span class="sd">            Sum of corsi events generated while player is on-ice, e.g., 1</span>
<a id="__codelineno-0-823" name="__codelineno-0-823"></a><span class="sd">        cf_adj (float):</span>
<a id="__codelineno-0-824" name="__codelineno-0-824"></a><span class="sd">            Sum of venue- and score-adjusted corsi events generated while player is on-ice, e.g., 0.970</span>
<a id="__codelineno-0-825" name="__codelineno-0-825"></a><span class="sd">        ca (float):</span>
<a id="__codelineno-0-826" name="__codelineno-0-826"></a><span class="sd">            Sum of corsi events allowed while player is on-ice, e.g., 2</span>
<a id="__codelineno-0-827" name="__codelineno-0-827"></a><span class="sd">        ca_adj (float):</span>
<a id="__codelineno-0-828" name="__codelineno-0-828"></a><span class="sd">            Sum of venue- and score-adjusted corsi events allowed while player is on-ice, e.g., 2.064</span>
<a id="__codelineno-0-829" name="__codelineno-0-829"></a><span class="sd">        bsf (float):</span>
<a id="__codelineno-0-830" name="__codelineno-0-830"></a><span class="sd">            Sum of shots taken that were ultimately blocked while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-831" name="__codelineno-0-831"></a><span class="sd">        bsa (float):</span>
<a id="__codelineno-0-832" name="__codelineno-0-832"></a><span class="sd">            Sum of shots allowed that were ultimately blocked while player is on-ice, e.g., 1</span>
<a id="__codelineno-0-833" name="__codelineno-0-833"></a><span class="sd">        msf (float):</span>
<a id="__codelineno-0-834" name="__codelineno-0-834"></a><span class="sd">            Sum of shots taken that missed net while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-835" name="__codelineno-0-835"></a><span class="sd">        hdmsf (float):</span>
<a id="__codelineno-0-836" name="__codelineno-0-836"></a><span class="sd">            Sum of high-danger shots taken that missed net while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-837" name="__codelineno-0-837"></a><span class="sd">        msa (float):</span>
<a id="__codelineno-0-838" name="__codelineno-0-838"></a><span class="sd">            Sum of shots allowed that missed net while player is on-ice, e.g., 1</span>
<a id="__codelineno-0-839" name="__codelineno-0-839"></a><span class="sd">        hdmsa (float):</span>
<a id="__codelineno-0-840" name="__codelineno-0-840"></a><span class="sd">            Sum of high-danger shots allowed that missed net while player is on-ice, e.g., 1</span>
<a id="__codelineno-0-841" name="__codelineno-0-841"></a><span class="sd">        hf (float):</span>
<a id="__codelineno-0-842" name="__codelineno-0-842"></a><span class="sd">            Sum of hits dished out while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-843" name="__codelineno-0-843"></a><span class="sd">        ht (float):</span>
<a id="__codelineno-0-844" name="__codelineno-0-844"></a><span class="sd">            Sum of hits taken while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-845" name="__codelineno-0-845"></a><span class="sd">        ozf (float):</span>
<a id="__codelineno-0-846" name="__codelineno-0-846"></a><span class="sd">            Sum of offensive zone faceoffs that occur while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-847" name="__codelineno-0-847"></a><span class="sd">        nzf (float):</span>
<a id="__codelineno-0-848" name="__codelineno-0-848"></a><span class="sd">            Sum of neutral zone faceoffs that occur while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-849" name="__codelineno-0-849"></a><span class="sd">        dzf (float):</span>
<a id="__codelineno-0-850" name="__codelineno-0-850"></a><span class="sd">            Sum of defensive zone faceoffs that occur while player is on-ice, e.g., 1</span>
<a id="__codelineno-0-851" name="__codelineno-0-851"></a><span class="sd">        fow (float):</span>
<a id="__codelineno-0-852" name="__codelineno-0-852"></a><span class="sd">            Sum of faceoffs won while player is on-ice, e.g., 1</span>
<a id="__codelineno-0-853" name="__codelineno-0-853"></a><span class="sd">        fol (float):</span>
<a id="__codelineno-0-854" name="__codelineno-0-854"></a><span class="sd">            Sum of faceoffs lost while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-855" name="__codelineno-0-855"></a><span class="sd">        ozfw (float):</span>
<a id="__codelineno-0-856" name="__codelineno-0-856"></a><span class="sd">            Sum of offensive zone faceoffs won while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-857" name="__codelineno-0-857"></a><span class="sd">        ozfl (float):</span>
<a id="__codelineno-0-858" name="__codelineno-0-858"></a><span class="sd">            Sum of offensive zone faceoffs lost while player is on-ice, e.g., 1</span>
<a id="__codelineno-0-859" name="__codelineno-0-859"></a><span class="sd">        nzfw (float):</span>
<a id="__codelineno-0-860" name="__codelineno-0-860"></a><span class="sd">            Sum of neutral zone faceoffs won while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-861" name="__codelineno-0-861"></a><span class="sd">        nzfl (float):</span>
<a id="__codelineno-0-862" name="__codelineno-0-862"></a><span class="sd">            Sum of neutral zone faceoffs lost while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-863" name="__codelineno-0-863"></a><span class="sd">        dzfw (float):</span>
<a id="__codelineno-0-864" name="__codelineno-0-864"></a><span class="sd">            Sum of defensive zone faceoffs won while player is on-ice, e.g., 1</span>
<a id="__codelineno-0-865" name="__codelineno-0-865"></a><span class="sd">        dzfl (float):</span>
<a id="__codelineno-0-866" name="__codelineno-0-866"></a><span class="sd">            Sum of defensive zone faceoffs lost while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-867" name="__codelineno-0-867"></a><span class="sd">        pent0 (float):</span>
<a id="__codelineno-0-868" name="__codelineno-0-868"></a><span class="sd">            Sum of individual 0-minute penalties taken while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-869" name="__codelineno-0-869"></a><span class="sd">        pent2 (float):</span>
<a id="__codelineno-0-870" name="__codelineno-0-870"></a><span class="sd">            Sum of individual 2-minute penalties taken while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-871" name="__codelineno-0-871"></a><span class="sd">        pent4 (float):</span>
<a id="__codelineno-0-872" name="__codelineno-0-872"></a><span class="sd">            Sum of individual 4-minute penalties taken while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-873" name="__codelineno-0-873"></a><span class="sd">        pent5 (float):</span>
<a id="__codelineno-0-874" name="__codelineno-0-874"></a><span class="sd">            Sum of individual 5-minute penalties taken while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-875" name="__codelineno-0-875"></a><span class="sd">        pent10 (float):</span>
<a id="__codelineno-0-876" name="__codelineno-0-876"></a><span class="sd">            Sum of individual 10-minute penalties taken while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-877" name="__codelineno-0-877"></a><span class="sd">        pend0 (float):</span>
<a id="__codelineno-0-878" name="__codelineno-0-878"></a><span class="sd">            Sum of individual 0-minute penalties drawn while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-879" name="__codelineno-0-879"></a><span class="sd">        pend2 (float):</span>
<a id="__codelineno-0-880" name="__codelineno-0-880"></a><span class="sd">            Sum of individual 2-minute penalties drawn while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-881" name="__codelineno-0-881"></a><span class="sd">        pend4 (float):</span>
<a id="__codelineno-0-882" name="__codelineno-0-882"></a><span class="sd">            Sum of individual 4-minute penalties drawn while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-883" name="__codelineno-0-883"></a><span class="sd">        pend5 (float):</span>
<a id="__codelineno-0-884" name="__codelineno-0-884"></a><span class="sd">            Sum of individual 5-minute penalties drawn while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-885" name="__codelineno-0-885"></a><span class="sd">        pend10 (float):</span>
<a id="__codelineno-0-886" name="__codelineno-0-886"></a><span class="sd">            Sum of individual 10-minute penalties drawn while player is on-ice, e.g., 0</span>
<a id="__codelineno-0-887" name="__codelineno-0-887"></a>
<a id="__codelineno-0-888" name="__codelineno-0-888"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-889" name="__codelineno-0-889"></a><span class="sd">        Basic play-by-play DataFrame</span>
<a id="__codelineno-0-890" name="__codelineno-0-890"></a><span class="sd">        &gt;&gt;&gt; shifts_raw = pd.read_csv(&quot;./raw_shifts.csv&quot;)</span>
<a id="__codelineno-0-891" name="__codelineno-0-891"></a><span class="sd">        &gt;&gt;&gt; pbp_raw = pd.read_csv(&quot;./raw_pbp.csv&quot;)</span>
<a id="__codelineno-0-892" name="__codelineno-0-892"></a><span class="sd">        &gt;&gt;&gt; pbp = prep_pbp(pbp_raw, shifts_raw)</span>
<a id="__codelineno-0-893" name="__codelineno-0-893"></a>
<a id="__codelineno-0-894" name="__codelineno-0-894"></a><span class="sd">        Basic game-level stats, with no teammates or opposition</span>
<a id="__codelineno-0-895" name="__codelineno-0-895"></a><span class="sd">        &gt;&gt;&gt; stats = prep_stats(pbp)</span>
<a id="__codelineno-0-896" name="__codelineno-0-896"></a>
<a id="__codelineno-0-897" name="__codelineno-0-897"></a><span class="sd">        Period-level stats, grouped by teammates</span>
<a id="__codelineno-0-898" name="__codelineno-0-898"></a><span class="sd">        &gt;&gt;&gt; stats = prep_stats(pbp, level=&quot;period&quot;, teammates=True)</span>
<a id="__codelineno-0-899" name="__codelineno-0-899"></a>
<a id="__codelineno-0-900" name="__codelineno-0-900"></a><span class="sd">        Session-level (e.g., regular seasion) stats, grouped by teammates and opposition</span>
<a id="__codelineno-0-901" name="__codelineno-0-901"></a><span class="sd">        &gt;&gt;&gt; stats = prep_stats(pbp, level=&quot;session&quot;, teammates=True, opposition=True)</span>
<a id="__codelineno-0-902" name="__codelineno-0-902"></a>
<a id="__codelineno-0-903" name="__codelineno-0-903"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-904" name="__codelineno-0-904"></a>    <span class="k">with</span> <span class="n">ChickenProgress</span><span class="p">(</span><span class="n">disable</span><span class="o">=</span><span class="n">disable_progress_bar</span><span class="p">)</span> <span class="k">as</span> <span class="n">progress</span><span class="p">:</span>
<a id="__codelineno-0-905" name="__codelineno-0-905"></a>        <span class="n">pbar_message</span> <span class="o">=</span> <span class="s2">&quot;Prepping stats data...&quot;</span>
<a id="__codelineno-0-906" name="__codelineno-0-906"></a>
<a id="__codelineno-0-907" name="__codelineno-0-907"></a>        <span class="n">stats_task</span> <span class="o">=</span> <span class="n">progress</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">pbar_message</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-908" name="__codelineno-0-908"></a>
<a id="__codelineno-0-909" name="__codelineno-0-909"></a>        <span class="n">ind</span> <span class="o">=</span> <span class="n">prep_ind</span><span class="p">(</span><span class="n">pbp</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">teammates</span><span class="p">,</span> <span class="n">opposition</span><span class="p">)</span>
<a id="__codelineno-0-910" name="__codelineno-0-910"></a>
<a id="__codelineno-0-911" name="__codelineno-0-911"></a>        <span class="n">oi</span> <span class="o">=</span> <span class="n">prep_oi</span><span class="p">(</span><span class="n">pbp</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">teammates</span><span class="p">,</span> <span class="n">opposition</span><span class="p">)</span>
<a id="__codelineno-0-912" name="__codelineno-0-912"></a>
<a id="__codelineno-0-913" name="__codelineno-0-913"></a>        <span class="n">zones</span> <span class="o">=</span> <span class="n">prep_zones</span><span class="p">(</span><span class="n">pbp</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">teammates</span><span class="p">,</span> <span class="n">opposition</span><span class="p">)</span>
<a id="__codelineno-0-914" name="__codelineno-0-914"></a>
<a id="__codelineno-0-915" name="__codelineno-0-915"></a>        <span class="n">merge_cols</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-916" name="__codelineno-0-916"></a>            <span class="s2">&quot;season&quot;</span><span class="p">,</span>
<a id="__codelineno-0-917" name="__codelineno-0-917"></a>            <span class="s2">&quot;session&quot;</span><span class="p">,</span>
<a id="__codelineno-0-918" name="__codelineno-0-918"></a>            <span class="s2">&quot;game_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-919" name="__codelineno-0-919"></a>            <span class="s2">&quot;game_date&quot;</span><span class="p">,</span>
<a id="__codelineno-0-920" name="__codelineno-0-920"></a>            <span class="s2">&quot;player&quot;</span><span class="p">,</span>
<a id="__codelineno-0-921" name="__codelineno-0-921"></a>            <span class="s2">&quot;player_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-922" name="__codelineno-0-922"></a>            <span class="s2">&quot;position&quot;</span><span class="p">,</span>
<a id="__codelineno-0-923" name="__codelineno-0-923"></a>            <span class="s2">&quot;team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-924" name="__codelineno-0-924"></a>            <span class="s2">&quot;opp_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-925" name="__codelineno-0-925"></a>            <span class="s2">&quot;strength_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-926" name="__codelineno-0-926"></a>            <span class="s2">&quot;score_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-927" name="__codelineno-0-927"></a>            <span class="s2">&quot;game_period&quot;</span><span class="p">,</span>
<a id="__codelineno-0-928" name="__codelineno-0-928"></a>            <span class="s2">&quot;forwards&quot;</span><span class="p">,</span>
<a id="__codelineno-0-929" name="__codelineno-0-929"></a>            <span class="s2">&quot;forwards_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-930" name="__codelineno-0-930"></a>            <span class="s2">&quot;defense&quot;</span><span class="p">,</span>
<a id="__codelineno-0-931" name="__codelineno-0-931"></a>            <span class="s2">&quot;defense_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-932" name="__codelineno-0-932"></a>            <span class="s2">&quot;own_goalie&quot;</span><span class="p">,</span>
<a id="__codelineno-0-933" name="__codelineno-0-933"></a>            <span class="s2">&quot;own_goalie_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-934" name="__codelineno-0-934"></a>            <span class="s2">&quot;opp_forwards&quot;</span><span class="p">,</span>
<a id="__codelineno-0-935" name="__codelineno-0-935"></a>            <span class="s2">&quot;opp_forwards_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-936" name="__codelineno-0-936"></a>            <span class="s2">&quot;opp_defense&quot;</span><span class="p">,</span>
<a id="__codelineno-0-937" name="__codelineno-0-937"></a>            <span class="s2">&quot;opp_defense_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-938" name="__codelineno-0-938"></a>            <span class="s2">&quot;opp_goalie&quot;</span><span class="p">,</span>
<a id="__codelineno-0-939" name="__codelineno-0-939"></a>            <span class="s2">&quot;opp_goalie_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-940" name="__codelineno-0-940"></a>        <span class="p">]</span>
<a id="__codelineno-0-941" name="__codelineno-0-941"></a>
<a id="__codelineno-0-942" name="__codelineno-0-942"></a>        <span class="n">merge_cols</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-943" name="__codelineno-0-943"></a>            <span class="n">x</span>
<a id="__codelineno-0-944" name="__codelineno-0-944"></a>            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">merge_cols</span>
<a id="__codelineno-0-945" name="__codelineno-0-945"></a>            <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ind</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">oi</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">zones</span><span class="o">.</span><span class="n">columns</span>
<a id="__codelineno-0-946" name="__codelineno-0-946"></a>        <span class="p">]</span>
<a id="__codelineno-0-947" name="__codelineno-0-947"></a>
<a id="__codelineno-0-948" name="__codelineno-0-948"></a>        <span class="n">stats</span> <span class="o">=</span> <span class="n">oi</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
<a id="__codelineno-0-949" name="__codelineno-0-949"></a>            <span class="n">ind</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="n">merge_cols</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="n">merge_cols</span>
<a id="__codelineno-0-950" name="__codelineno-0-950"></a>        <span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-951" name="__codelineno-0-951"></a>
<a id="__codelineno-0-952" name="__codelineno-0-952"></a>        <span class="n">stats</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
<a id="__codelineno-0-953" name="__codelineno-0-953"></a>            <span class="n">zones</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="n">merge_cols</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="n">merge_cols</span>
<a id="__codelineno-0-954" name="__codelineno-0-954"></a>        <span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-955" name="__codelineno-0-955"></a>
<a id="__codelineno-0-956" name="__codelineno-0-956"></a>        <span class="n">stats</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">stats</span><span class="o">.</span><span class="n">toi</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-957" name="__codelineno-0-957"></a>
<a id="__codelineno-0-958" name="__codelineno-0-958"></a>        <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">StatSchema</span><span class="o">.</span><span class="n">dtypes</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">stats</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
<a id="__codelineno-0-959" name="__codelineno-0-959"></a>
<a id="__codelineno-0-960" name="__codelineno-0-960"></a>        <span class="n">stats</span> <span class="o">=</span> <span class="n">StatSchema</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">stats</span><span class="p">[</span><span class="n">columns</span><span class="p">])</span>
<a id="__codelineno-0-961" name="__codelineno-0-961"></a>
<a id="__codelineno-0-962" name="__codelineno-0-962"></a>        <span class="n">pbar_message</span> <span class="o">=</span> <span class="s2">&quot;Finished prepping stats data&quot;</span>
<a id="__codelineno-0-963" name="__codelineno-0-963"></a>
<a id="__codelineno-0-964" name="__codelineno-0-964"></a>        <span class="n">progress</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">stats_task</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">pbar_message</span><span class="p">,</span> <span class="n">advance</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">refresh</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-965" name="__codelineno-0-965"></a>
<a id="__codelineno-0-966" name="__codelineno-0-966"></a>    <span class="k">return</span> <span class="n">stats</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="evolving_hockey.stats.prep_lines" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">prep_lines</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">prep_lines</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">pbp</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">position</span><span class="o">=</span><span class="s2">&quot;f&quot;</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">level</span><span class="o">=</span><span class="s2">&quot;game&quot;</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">score</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">teammates</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">opposition</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n">disable_progress_bar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Prepares a line stats dataframe using EvolvingHockey data.</p>
<p>Aggregates to desired level. Capable of returning cuts that account for strength state,
period, score state, teammates, and opposition.</p>
<p>Returns a Pandas DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>pbp</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dataframe from the prep_pbp function with the default columns argument</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>position</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position to aggregate, forwards or defense, e.g., 'f'</p>
              </div>
            </td>
            <td>
                  <code>&#39;f&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>level</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level to aggregate stats, e.g., 'game'</p>
              </div>
            </td>
            <td>
                  <code>&#39;game&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>score</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to aggregate to score state level</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>teammates</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to account for teammates when aggregating</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>opposition</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to account for opposition when aggregating</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>disable_progress_bar</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to disable progress bar</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>season</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>8-digit season code, e.g., 20232024</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>session</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Regular season or playoffs, e.g., R</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>game_id</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>10-digit game identifier, e.g., 2023020015</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>game_date</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Date of game in Eastern time-zone, e.g., 2023-10-12</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>team</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>3-letter abbreviation of the line's team, e.g., NSH</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_team</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>3-letter abbreviation of the opposing team, e.g., SEA</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>strength_state</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Strength state from the perspective of the event team, e.g., 5v5</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>score_state</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Score state from the perspective of the event team, e.g., 0v0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>game_period</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Game period, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>forwards</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the event team's forwards that are on the ice during the event,
e.g., FILIP.FORSBERG, JUUSO.PARSSINEN, RYAN.O'REILLY</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>forwards_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH IDs of the event team's forwards that are on the ice during the event,
e.g., FILIP.FORSBERG, JUUSO.PARSSINEN, RYAN.O'REILLY</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>defense</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the event team's defensemen that are on the ice during the event,
e.g., ALEX.CARRIER, RYAN.MCDONAGH</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>defense_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH IDs of the event team's defensemen that are on the ice during the event,
e.g., ALEX.CARRIER, RYAN.MCDONAGH</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>own_goalie</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the goalie for the event team, e.g., JUUSE.SAROS</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>own_goalie_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier for the event team goalie that can be used to match with Evolving Hockey data, e.g., JUUSE.SAROS</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_forwards</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the opponent's forwards that are on the ice during the event,
e.g., JARED.MCCANN, JORDAN.EBERLE, MATTY.BENIERS</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_forwards_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH IDs of the event team's forwards that are on the ice during the event,
e.g., JARED.MCCANN, JORDAN.EBERLE, MATTY.BENIERS</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_defense</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the opposing team's defensemen that are on the ice during the event,
e.g., JAMIE.OLEKSIAK, WILLIAM.BORGEN</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_defense_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EH IDs of the opposing team's defensemen that are on the ice during the event,
e.g., JAMIE.OLEKSIAK, WILLIAM.BORGEN</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_goalie</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the opposing goalie for the event team, e.g., PHILIPP.GRUBAUER</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_goalie_id</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier for the opposing goalie that can be used to match with Evolving Hockey data,
e.g., PHILIPP.GRUBAUER</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>toi</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Time on-ice in minutes, e.g., 1.616667</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>gf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of goals scored while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>gf_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted goals scored while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdgf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger goals scored while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ga</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of goals allowed while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ga_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted goals allowed while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdga</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger goals allowed while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>xgf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of expected goals generated while line is on-ice, e.g., 0.017266</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>xgf_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted expected goals generated while line is on-ice, e.g., 0.016472</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>xga</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of expected goals allowed while line is on-ice, e.g., 0.123475</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>xga_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted expected goals allowed while line is on-ice, e.g., 0.129772</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>sf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots taken while line is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>sf_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted shots taken while line is on-ice, e.g., .972</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdsf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger shots taken while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>sa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots allowed while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>sa_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted shots allowed while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdsa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger shots allowed while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ff</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of fenwick events generated while line is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ff_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted fenwick events generated while line is on-ice, e.g., 0.968</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdff</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger fenwick events generated while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>fa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of fenwick events allowed while line is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>fa_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted fenwick events allowed while line is on-ice, e.g., 1.034</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdfa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger fenwick events allowed while line is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>cf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of corsi events generated while line is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>cf_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted corsi events generated while line is on-ice, e.g., 0.970</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ca</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of corsi events allowed while line is on-ice, e.g., 2</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ca_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted corsi events allowed while line is on-ice, e.g., 2.064</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>bsf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots taken that were ultimately blocked while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>bsa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots allowed that were ultimately blocked while line is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>msf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots taken that missed net while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdmsf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger shots taken that missed net while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>msa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots allowed that missed net while line is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdmsa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger shots allowed that missed net while line is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of hits dished out while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ht</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of hits taken while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ozf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of offensive zone faceoffs that occur while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>nzf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of neutral zone faceoffs that occur while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>dzf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of defensive zone faceoffs that occur while line is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>fow</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of faceoffs won while line is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>fol</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of faceoffs lost while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ozfw</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of offensive zone faceoffs won while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ozfl</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of offensive zone faceoffs lost while line is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>nzfw</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of neutral zone faceoffs won while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>nzfl</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of neutral zone faceoffs lost while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>dzfw</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of defensive zone faceoffs won while line is on-ice, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>dzfl</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of defensive zone faceoffs lost while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pent0</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 0-minute penalties taken while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pent2</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 2-minute penalties taken while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pent4</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 4-minute penalties taken while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pent5</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 5-minute penalties taken while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pent10</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 10-minute penalties taken while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pend0</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 0-minute penalties drawn while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pend2</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 2-minute penalties drawn while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pend4</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 4-minute penalties drawn while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pend5</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 5-minute penalties drawn while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pend10</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 10-minute penalties drawn while line is on-ice, e.g., 0</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic play-by-play DataFrame</p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">shifts_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;./raw_shifts.csv&quot;</span><span class="p">)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pbp_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;./raw_pbp.csv&quot;</span><span class="p">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pbp</span> <span class="o">=</span> <span class="n">prep_pbp</span><span class="p">(</span><span class="n">pbp_raw</span><span class="p">,</span> <span class="n">shifts_raw</span><span class="p">)</span>
</code></pre></div>
    <p>Basic game-level stats for forwards, with no teammates or opposition</p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">lines</span> <span class="o">=</span> <span class="n">prep_lines</span><span class="p">(</span><span class="n">pbp</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">&quot;f&quot;</span><span class="p">)</span>
</code></pre></div>
    <p>Period-level stats for defense, grouped by teammates</p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">lines</span> <span class="o">=</span> <span class="n">prep_lines</span><span class="p">(</span><span class="n">pbp</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;period&quot;</span><span class="p">,</span> <span class="n">teammates</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
    <p>Session-level (e.g., regular seasion) stats, grouped by teammates and opposition</p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">lines</span> <span class="o">=</span> <span class="n">prep_lines</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">... </span>    <span class="n">pbp</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">,</span> <span class="n">teammates</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">opposition</span><span class="o">=</span><span class="kc">True</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">... </span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/chickenstats/evolving_hockey/stats.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-970"> 970</a></span>
<span class="normal"><a href="#__codelineno-0-971"> 971</a></span>
<span class="normal"><a href="#__codelineno-0-972"> 972</a></span>
<span class="normal"><a href="#__codelineno-0-973"> 973</a></span>
<span class="normal"><a href="#__codelineno-0-974"> 974</a></span>
<span class="normal"><a href="#__codelineno-0-975"> 975</a></span>
<span class="normal"><a href="#__codelineno-0-976"> 976</a></span>
<span class="normal"><a href="#__codelineno-0-977"> 977</a></span>
<span class="normal"><a href="#__codelineno-0-978"> 978</a></span>
<span class="normal"><a href="#__codelineno-0-979"> 979</a></span>
<span class="normal"><a href="#__codelineno-0-980"> 980</a></span>
<span class="normal"><a href="#__codelineno-0-981"> 981</a></span>
<span class="normal"><a href="#__codelineno-0-982"> 982</a></span>
<span class="normal"><a href="#__codelineno-0-983"> 983</a></span>
<span class="normal"><a href="#__codelineno-0-984"> 984</a></span>
<span class="normal"><a href="#__codelineno-0-985"> 985</a></span>
<span class="normal"><a href="#__codelineno-0-986"> 986</a></span>
<span class="normal"><a href="#__codelineno-0-987"> 987</a></span>
<span class="normal"><a href="#__codelineno-0-988"> 988</a></span>
<span class="normal"><a href="#__codelineno-0-989"> 989</a></span>
<span class="normal"><a href="#__codelineno-0-990"> 990</a></span>
<span class="normal"><a href="#__codelineno-0-991"> 991</a></span>
<span class="normal"><a href="#__codelineno-0-992"> 992</a></span>
<span class="normal"><a href="#__codelineno-0-993"> 993</a></span>
<span class="normal"><a href="#__codelineno-0-994"> 994</a></span>
<span class="normal"><a href="#__codelineno-0-995"> 995</a></span>
<span class="normal"><a href="#__codelineno-0-996"> 996</a></span>
<span class="normal"><a href="#__codelineno-0-997"> 997</a></span>
<span class="normal"><a href="#__codelineno-0-998"> 998</a></span>
<span class="normal"><a href="#__codelineno-0-999"> 999</a></span>
<span class="normal"><a href="#__codelineno-0-1000">1000</a></span>
<span class="normal"><a href="#__codelineno-0-1001">1001</a></span>
<span class="normal"><a href="#__codelineno-0-1002">1002</a></span>
<span class="normal"><a href="#__codelineno-0-1003">1003</a></span>
<span class="normal"><a href="#__codelineno-0-1004">1004</a></span>
<span class="normal"><a href="#__codelineno-0-1005">1005</a></span>
<span class="normal"><a href="#__codelineno-0-1006">1006</a></span>
<span class="normal"><a href="#__codelineno-0-1007">1007</a></span>
<span class="normal"><a href="#__codelineno-0-1008">1008</a></span>
<span class="normal"><a href="#__codelineno-0-1009">1009</a></span>
<span class="normal"><a href="#__codelineno-0-1010">1010</a></span>
<span class="normal"><a href="#__codelineno-0-1011">1011</a></span>
<span class="normal"><a href="#__codelineno-0-1012">1012</a></span>
<span class="normal"><a href="#__codelineno-0-1013">1013</a></span>
<span class="normal"><a href="#__codelineno-0-1014">1014</a></span>
<span class="normal"><a href="#__codelineno-0-1015">1015</a></span>
<span class="normal"><a href="#__codelineno-0-1016">1016</a></span>
<span class="normal"><a href="#__codelineno-0-1017">1017</a></span>
<span class="normal"><a href="#__codelineno-0-1018">1018</a></span>
<span class="normal"><a href="#__codelineno-0-1019">1019</a></span>
<span class="normal"><a href="#__codelineno-0-1020">1020</a></span>
<span class="normal"><a href="#__codelineno-0-1021">1021</a></span>
<span class="normal"><a href="#__codelineno-0-1022">1022</a></span>
<span class="normal"><a href="#__codelineno-0-1023">1023</a></span>
<span class="normal"><a href="#__codelineno-0-1024">1024</a></span>
<span class="normal"><a href="#__codelineno-0-1025">1025</a></span>
<span class="normal"><a href="#__codelineno-0-1026">1026</a></span>
<span class="normal"><a href="#__codelineno-0-1027">1027</a></span>
<span class="normal"><a href="#__codelineno-0-1028">1028</a></span>
<span class="normal"><a href="#__codelineno-0-1029">1029</a></span>
<span class="normal"><a href="#__codelineno-0-1030">1030</a></span>
<span class="normal"><a href="#__codelineno-0-1031">1031</a></span>
<span class="normal"><a href="#__codelineno-0-1032">1032</a></span>
<span class="normal"><a href="#__codelineno-0-1033">1033</a></span>
<span class="normal"><a href="#__codelineno-0-1034">1034</a></span>
<span class="normal"><a href="#__codelineno-0-1035">1035</a></span>
<span class="normal"><a href="#__codelineno-0-1036">1036</a></span>
<span class="normal"><a href="#__codelineno-0-1037">1037</a></span>
<span class="normal"><a href="#__codelineno-0-1038">1038</a></span>
<span class="normal"><a href="#__codelineno-0-1039">1039</a></span>
<span class="normal"><a href="#__codelineno-0-1040">1040</a></span>
<span class="normal"><a href="#__codelineno-0-1041">1041</a></span>
<span class="normal"><a href="#__codelineno-0-1042">1042</a></span>
<span class="normal"><a href="#__codelineno-0-1043">1043</a></span>
<span class="normal"><a href="#__codelineno-0-1044">1044</a></span>
<span class="normal"><a href="#__codelineno-0-1045">1045</a></span>
<span class="normal"><a href="#__codelineno-0-1046">1046</a></span>
<span class="normal"><a href="#__codelineno-0-1047">1047</a></span>
<span class="normal"><a href="#__codelineno-0-1048">1048</a></span>
<span class="normal"><a href="#__codelineno-0-1049">1049</a></span>
<span class="normal"><a href="#__codelineno-0-1050">1050</a></span>
<span class="normal"><a href="#__codelineno-0-1051">1051</a></span>
<span class="normal"><a href="#__codelineno-0-1052">1052</a></span>
<span class="normal"><a href="#__codelineno-0-1053">1053</a></span>
<span class="normal"><a href="#__codelineno-0-1054">1054</a></span>
<span class="normal"><a href="#__codelineno-0-1055">1055</a></span>
<span class="normal"><a href="#__codelineno-0-1056">1056</a></span>
<span class="normal"><a href="#__codelineno-0-1057">1057</a></span>
<span class="normal"><a href="#__codelineno-0-1058">1058</a></span>
<span class="normal"><a href="#__codelineno-0-1059">1059</a></span>
<span class="normal"><a href="#__codelineno-0-1060">1060</a></span>
<span class="normal"><a href="#__codelineno-0-1061">1061</a></span>
<span class="normal"><a href="#__codelineno-0-1062">1062</a></span>
<span class="normal"><a href="#__codelineno-0-1063">1063</a></span>
<span class="normal"><a href="#__codelineno-0-1064">1064</a></span>
<span class="normal"><a href="#__codelineno-0-1065">1065</a></span>
<span class="normal"><a href="#__codelineno-0-1066">1066</a></span>
<span class="normal"><a href="#__codelineno-0-1067">1067</a></span>
<span class="normal"><a href="#__codelineno-0-1068">1068</a></span>
<span class="normal"><a href="#__codelineno-0-1069">1069</a></span>
<span class="normal"><a href="#__codelineno-0-1070">1070</a></span>
<span class="normal"><a href="#__codelineno-0-1071">1071</a></span>
<span class="normal"><a href="#__codelineno-0-1072">1072</a></span>
<span class="normal"><a href="#__codelineno-0-1073">1073</a></span>
<span class="normal"><a href="#__codelineno-0-1074">1074</a></span>
<span class="normal"><a href="#__codelineno-0-1075">1075</a></span>
<span class="normal"><a href="#__codelineno-0-1076">1076</a></span>
<span class="normal"><a href="#__codelineno-0-1077">1077</a></span>
<span class="normal"><a href="#__codelineno-0-1078">1078</a></span>
<span class="normal"><a href="#__codelineno-0-1079">1079</a></span>
<span class="normal"><a href="#__codelineno-0-1080">1080</a></span>
<span class="normal"><a href="#__codelineno-0-1081">1081</a></span>
<span class="normal"><a href="#__codelineno-0-1082">1082</a></span>
<span class="normal"><a href="#__codelineno-0-1083">1083</a></span>
<span class="normal"><a href="#__codelineno-0-1084">1084</a></span>
<span class="normal"><a href="#__codelineno-0-1085">1085</a></span>
<span class="normal"><a href="#__codelineno-0-1086">1086</a></span>
<span class="normal"><a href="#__codelineno-0-1087">1087</a></span>
<span class="normal"><a href="#__codelineno-0-1088">1088</a></span>
<span class="normal"><a href="#__codelineno-0-1089">1089</a></span>
<span class="normal"><a href="#__codelineno-0-1090">1090</a></span>
<span class="normal"><a href="#__codelineno-0-1091">1091</a></span>
<span class="normal"><a href="#__codelineno-0-1092">1092</a></span>
<span class="normal"><a href="#__codelineno-0-1093">1093</a></span>
<span class="normal"><a href="#__codelineno-0-1094">1094</a></span>
<span class="normal"><a href="#__codelineno-0-1095">1095</a></span>
<span class="normal"><a href="#__codelineno-0-1096">1096</a></span>
<span class="normal"><a href="#__codelineno-0-1097">1097</a></span>
<span class="normal"><a href="#__codelineno-0-1098">1098</a></span>
<span class="normal"><a href="#__codelineno-0-1099">1099</a></span>
<span class="normal"><a href="#__codelineno-0-1100">1100</a></span>
<span class="normal"><a href="#__codelineno-0-1101">1101</a></span>
<span class="normal"><a href="#__codelineno-0-1102">1102</a></span>
<span class="normal"><a href="#__codelineno-0-1103">1103</a></span>
<span class="normal"><a href="#__codelineno-0-1104">1104</a></span>
<span class="normal"><a href="#__codelineno-0-1105">1105</a></span>
<span class="normal"><a href="#__codelineno-0-1106">1106</a></span>
<span class="normal"><a href="#__codelineno-0-1107">1107</a></span>
<span class="normal"><a href="#__codelineno-0-1108">1108</a></span>
<span class="normal"><a href="#__codelineno-0-1109">1109</a></span>
<span class="normal"><a href="#__codelineno-0-1110">1110</a></span>
<span class="normal"><a href="#__codelineno-0-1111">1111</a></span>
<span class="normal"><a href="#__codelineno-0-1112">1112</a></span>
<span class="normal"><a href="#__codelineno-0-1113">1113</a></span>
<span class="normal"><a href="#__codelineno-0-1114">1114</a></span>
<span class="normal"><a href="#__codelineno-0-1115">1115</a></span>
<span class="normal"><a href="#__codelineno-0-1116">1116</a></span>
<span class="normal"><a href="#__codelineno-0-1117">1117</a></span>
<span class="normal"><a href="#__codelineno-0-1118">1118</a></span>
<span class="normal"><a href="#__codelineno-0-1119">1119</a></span>
<span class="normal"><a href="#__codelineno-0-1120">1120</a></span>
<span class="normal"><a href="#__codelineno-0-1121">1121</a></span>
<span class="normal"><a href="#__codelineno-0-1122">1122</a></span>
<span class="normal"><a href="#__codelineno-0-1123">1123</a></span>
<span class="normal"><a href="#__codelineno-0-1124">1124</a></span>
<span class="normal"><a href="#__codelineno-0-1125">1125</a></span>
<span class="normal"><a href="#__codelineno-0-1126">1126</a></span>
<span class="normal"><a href="#__codelineno-0-1127">1127</a></span>
<span class="normal"><a href="#__codelineno-0-1128">1128</a></span>
<span class="normal"><a href="#__codelineno-0-1129">1129</a></span>
<span class="normal"><a href="#__codelineno-0-1130">1130</a></span>
<span class="normal"><a href="#__codelineno-0-1131">1131</a></span>
<span class="normal"><a href="#__codelineno-0-1132">1132</a></span>
<span class="normal"><a href="#__codelineno-0-1133">1133</a></span>
<span class="normal"><a href="#__codelineno-0-1134">1134</a></span>
<span class="normal"><a href="#__codelineno-0-1135">1135</a></span>
<span class="normal"><a href="#__codelineno-0-1136">1136</a></span>
<span class="normal"><a href="#__codelineno-0-1137">1137</a></span>
<span class="normal"><a href="#__codelineno-0-1138">1138</a></span>
<span class="normal"><a href="#__codelineno-0-1139">1139</a></span>
<span class="normal"><a href="#__codelineno-0-1140">1140</a></span>
<span class="normal"><a href="#__codelineno-0-1141">1141</a></span>
<span class="normal"><a href="#__codelineno-0-1142">1142</a></span>
<span class="normal"><a href="#__codelineno-0-1143">1143</a></span>
<span class="normal"><a href="#__codelineno-0-1144">1144</a></span>
<span class="normal"><a href="#__codelineno-0-1145">1145</a></span>
<span class="normal"><a href="#__codelineno-0-1146">1146</a></span>
<span class="normal"><a href="#__codelineno-0-1147">1147</a></span>
<span class="normal"><a href="#__codelineno-0-1148">1148</a></span>
<span class="normal"><a href="#__codelineno-0-1149">1149</a></span>
<span class="normal"><a href="#__codelineno-0-1150">1150</a></span>
<span class="normal"><a href="#__codelineno-0-1151">1151</a></span>
<span class="normal"><a href="#__codelineno-0-1152">1152</a></span>
<span class="normal"><a href="#__codelineno-0-1153">1153</a></span>
<span class="normal"><a href="#__codelineno-0-1154">1154</a></span>
<span class="normal"><a href="#__codelineno-0-1155">1155</a></span>
<span class="normal"><a href="#__codelineno-0-1156">1156</a></span>
<span class="normal"><a href="#__codelineno-0-1157">1157</a></span>
<span class="normal"><a href="#__codelineno-0-1158">1158</a></span>
<span class="normal"><a href="#__codelineno-0-1159">1159</a></span>
<span class="normal"><a href="#__codelineno-0-1160">1160</a></span>
<span class="normal"><a href="#__codelineno-0-1161">1161</a></span>
<span class="normal"><a href="#__codelineno-0-1162">1162</a></span>
<span class="normal"><a href="#__codelineno-0-1163">1163</a></span>
<span class="normal"><a href="#__codelineno-0-1164">1164</a></span>
<span class="normal"><a href="#__codelineno-0-1165">1165</a></span>
<span class="normal"><a href="#__codelineno-0-1166">1166</a></span>
<span class="normal"><a href="#__codelineno-0-1167">1167</a></span>
<span class="normal"><a href="#__codelineno-0-1168">1168</a></span>
<span class="normal"><a href="#__codelineno-0-1169">1169</a></span>
<span class="normal"><a href="#__codelineno-0-1170">1170</a></span>
<span class="normal"><a href="#__codelineno-0-1171">1171</a></span>
<span class="normal"><a href="#__codelineno-0-1172">1172</a></span>
<span class="normal"><a href="#__codelineno-0-1173">1173</a></span>
<span class="normal"><a href="#__codelineno-0-1174">1174</a></span>
<span class="normal"><a href="#__codelineno-0-1175">1175</a></span>
<span class="normal"><a href="#__codelineno-0-1176">1176</a></span>
<span class="normal"><a href="#__codelineno-0-1177">1177</a></span>
<span class="normal"><a href="#__codelineno-0-1178">1178</a></span>
<span class="normal"><a href="#__codelineno-0-1179">1179</a></span>
<span class="normal"><a href="#__codelineno-0-1180">1180</a></span>
<span class="normal"><a href="#__codelineno-0-1181">1181</a></span>
<span class="normal"><a href="#__codelineno-0-1182">1182</a></span>
<span class="normal"><a href="#__codelineno-0-1183">1183</a></span>
<span class="normal"><a href="#__codelineno-0-1184">1184</a></span>
<span class="normal"><a href="#__codelineno-0-1185">1185</a></span>
<span class="normal"><a href="#__codelineno-0-1186">1186</a></span>
<span class="normal"><a href="#__codelineno-0-1187">1187</a></span>
<span class="normal"><a href="#__codelineno-0-1188">1188</a></span>
<span class="normal"><a href="#__codelineno-0-1189">1189</a></span>
<span class="normal"><a href="#__codelineno-0-1190">1190</a></span>
<span class="normal"><a href="#__codelineno-0-1191">1191</a></span>
<span class="normal"><a href="#__codelineno-0-1192">1192</a></span>
<span class="normal"><a href="#__codelineno-0-1193">1193</a></span>
<span class="normal"><a href="#__codelineno-0-1194">1194</a></span>
<span class="normal"><a href="#__codelineno-0-1195">1195</a></span>
<span class="normal"><a href="#__codelineno-0-1196">1196</a></span>
<span class="normal"><a href="#__codelineno-0-1197">1197</a></span>
<span class="normal"><a href="#__codelineno-0-1198">1198</a></span>
<span class="normal"><a href="#__codelineno-0-1199">1199</a></span>
<span class="normal"><a href="#__codelineno-0-1200">1200</a></span>
<span class="normal"><a href="#__codelineno-0-1201">1201</a></span>
<span class="normal"><a href="#__codelineno-0-1202">1202</a></span>
<span class="normal"><a href="#__codelineno-0-1203">1203</a></span>
<span class="normal"><a href="#__codelineno-0-1204">1204</a></span>
<span class="normal"><a href="#__codelineno-0-1205">1205</a></span>
<span class="normal"><a href="#__codelineno-0-1206">1206</a></span>
<span class="normal"><a href="#__codelineno-0-1207">1207</a></span>
<span class="normal"><a href="#__codelineno-0-1208">1208</a></span>
<span class="normal"><a href="#__codelineno-0-1209">1209</a></span>
<span class="normal"><a href="#__codelineno-0-1210">1210</a></span>
<span class="normal"><a href="#__codelineno-0-1211">1211</a></span>
<span class="normal"><a href="#__codelineno-0-1212">1212</a></span>
<span class="normal"><a href="#__codelineno-0-1213">1213</a></span>
<span class="normal"><a href="#__codelineno-0-1214">1214</a></span>
<span class="normal"><a href="#__codelineno-0-1215">1215</a></span>
<span class="normal"><a href="#__codelineno-0-1216">1216</a></span>
<span class="normal"><a href="#__codelineno-0-1217">1217</a></span>
<span class="normal"><a href="#__codelineno-0-1218">1218</a></span>
<span class="normal"><a href="#__codelineno-0-1219">1219</a></span>
<span class="normal"><a href="#__codelineno-0-1220">1220</a></span>
<span class="normal"><a href="#__codelineno-0-1221">1221</a></span>
<span class="normal"><a href="#__codelineno-0-1222">1222</a></span>
<span class="normal"><a href="#__codelineno-0-1223">1223</a></span>
<span class="normal"><a href="#__codelineno-0-1224">1224</a></span>
<span class="normal"><a href="#__codelineno-0-1225">1225</a></span>
<span class="normal"><a href="#__codelineno-0-1226">1226</a></span>
<span class="normal"><a href="#__codelineno-0-1227">1227</a></span>
<span class="normal"><a href="#__codelineno-0-1228">1228</a></span>
<span class="normal"><a href="#__codelineno-0-1229">1229</a></span>
<span class="normal"><a href="#__codelineno-0-1230">1230</a></span>
<span class="normal"><a href="#__codelineno-0-1231">1231</a></span>
<span class="normal"><a href="#__codelineno-0-1232">1232</a></span>
<span class="normal"><a href="#__codelineno-0-1233">1233</a></span>
<span class="normal"><a href="#__codelineno-0-1234">1234</a></span>
<span class="normal"><a href="#__codelineno-0-1235">1235</a></span>
<span class="normal"><a href="#__codelineno-0-1236">1236</a></span>
<span class="normal"><a href="#__codelineno-0-1237">1237</a></span>
<span class="normal"><a href="#__codelineno-0-1238">1238</a></span>
<span class="normal"><a href="#__codelineno-0-1239">1239</a></span>
<span class="normal"><a href="#__codelineno-0-1240">1240</a></span>
<span class="normal"><a href="#__codelineno-0-1241">1241</a></span>
<span class="normal"><a href="#__codelineno-0-1242">1242</a></span>
<span class="normal"><a href="#__codelineno-0-1243">1243</a></span>
<span class="normal"><a href="#__codelineno-0-1244">1244</a></span>
<span class="normal"><a href="#__codelineno-0-1245">1245</a></span>
<span class="normal"><a href="#__codelineno-0-1246">1246</a></span>
<span class="normal"><a href="#__codelineno-0-1247">1247</a></span>
<span class="normal"><a href="#__codelineno-0-1248">1248</a></span>
<span class="normal"><a href="#__codelineno-0-1249">1249</a></span>
<span class="normal"><a href="#__codelineno-0-1250">1250</a></span>
<span class="normal"><a href="#__codelineno-0-1251">1251</a></span>
<span class="normal"><a href="#__codelineno-0-1252">1252</a></span>
<span class="normal"><a href="#__codelineno-0-1253">1253</a></span>
<span class="normal"><a href="#__codelineno-0-1254">1254</a></span>
<span class="normal"><a href="#__codelineno-0-1255">1255</a></span>
<span class="normal"><a href="#__codelineno-0-1256">1256</a></span>
<span class="normal"><a href="#__codelineno-0-1257">1257</a></span>
<span class="normal"><a href="#__codelineno-0-1258">1258</a></span>
<span class="normal"><a href="#__codelineno-0-1259">1259</a></span>
<span class="normal"><a href="#__codelineno-0-1260">1260</a></span>
<span class="normal"><a href="#__codelineno-0-1261">1261</a></span>
<span class="normal"><a href="#__codelineno-0-1262">1262</a></span>
<span class="normal"><a href="#__codelineno-0-1263">1263</a></span>
<span class="normal"><a href="#__codelineno-0-1264">1264</a></span>
<span class="normal"><a href="#__codelineno-0-1265">1265</a></span>
<span class="normal"><a href="#__codelineno-0-1266">1266</a></span>
<span class="normal"><a href="#__codelineno-0-1267">1267</a></span>
<span class="normal"><a href="#__codelineno-0-1268">1268</a></span>
<span class="normal"><a href="#__codelineno-0-1269">1269</a></span>
<span class="normal"><a href="#__codelineno-0-1270">1270</a></span>
<span class="normal"><a href="#__codelineno-0-1271">1271</a></span>
<span class="normal"><a href="#__codelineno-0-1272">1272</a></span>
<span class="normal"><a href="#__codelineno-0-1273">1273</a></span>
<span class="normal"><a href="#__codelineno-0-1274">1274</a></span>
<span class="normal"><a href="#__codelineno-0-1275">1275</a></span>
<span class="normal"><a href="#__codelineno-0-1276">1276</a></span>
<span class="normal"><a href="#__codelineno-0-1277">1277</a></span>
<span class="normal"><a href="#__codelineno-0-1278">1278</a></span>
<span class="normal"><a href="#__codelineno-0-1279">1279</a></span>
<span class="normal"><a href="#__codelineno-0-1280">1280</a></span>
<span class="normal"><a href="#__codelineno-0-1281">1281</a></span>
<span class="normal"><a href="#__codelineno-0-1282">1282</a></span>
<span class="normal"><a href="#__codelineno-0-1283">1283</a></span>
<span class="normal"><a href="#__codelineno-0-1284">1284</a></span>
<span class="normal"><a href="#__codelineno-0-1285">1285</a></span>
<span class="normal"><a href="#__codelineno-0-1286">1286</a></span>
<span class="normal"><a href="#__codelineno-0-1287">1287</a></span>
<span class="normal"><a href="#__codelineno-0-1288">1288</a></span>
<span class="normal"><a href="#__codelineno-0-1289">1289</a></span>
<span class="normal"><a href="#__codelineno-0-1290">1290</a></span>
<span class="normal"><a href="#__codelineno-0-1291">1291</a></span>
<span class="normal"><a href="#__codelineno-0-1292">1292</a></span>
<span class="normal"><a href="#__codelineno-0-1293">1293</a></span>
<span class="normal"><a href="#__codelineno-0-1294">1294</a></span>
<span class="normal"><a href="#__codelineno-0-1295">1295</a></span>
<span class="normal"><a href="#__codelineno-0-1296">1296</a></span>
<span class="normal"><a href="#__codelineno-0-1297">1297</a></span>
<span class="normal"><a href="#__codelineno-0-1298">1298</a></span>
<span class="normal"><a href="#__codelineno-0-1299">1299</a></span>
<span class="normal"><a href="#__codelineno-0-1300">1300</a></span>
<span class="normal"><a href="#__codelineno-0-1301">1301</a></span>
<span class="normal"><a href="#__codelineno-0-1302">1302</a></span>
<span class="normal"><a href="#__codelineno-0-1303">1303</a></span>
<span class="normal"><a href="#__codelineno-0-1304">1304</a></span>
<span class="normal"><a href="#__codelineno-0-1305">1305</a></span>
<span class="normal"><a href="#__codelineno-0-1306">1306</a></span>
<span class="normal"><a href="#__codelineno-0-1307">1307</a></span>
<span class="normal"><a href="#__codelineno-0-1308">1308</a></span>
<span class="normal"><a href="#__codelineno-0-1309">1309</a></span>
<span class="normal"><a href="#__codelineno-0-1310">1310</a></span>
<span class="normal"><a href="#__codelineno-0-1311">1311</a></span>
<span class="normal"><a href="#__codelineno-0-1312">1312</a></span>
<span class="normal"><a href="#__codelineno-0-1313">1313</a></span>
<span class="normal"><a href="#__codelineno-0-1314">1314</a></span>
<span class="normal"><a href="#__codelineno-0-1315">1315</a></span>
<span class="normal"><a href="#__codelineno-0-1316">1316</a></span>
<span class="normal"><a href="#__codelineno-0-1317">1317</a></span>
<span class="normal"><a href="#__codelineno-0-1318">1318</a></span>
<span class="normal"><a href="#__codelineno-0-1319">1319</a></span>
<span class="normal"><a href="#__codelineno-0-1320">1320</a></span>
<span class="normal"><a href="#__codelineno-0-1321">1321</a></span>
<span class="normal"><a href="#__codelineno-0-1322">1322</a></span>
<span class="normal"><a href="#__codelineno-0-1323">1323</a></span>
<span class="normal"><a href="#__codelineno-0-1324">1324</a></span>
<span class="normal"><a href="#__codelineno-0-1325">1325</a></span>
<span class="normal"><a href="#__codelineno-0-1326">1326</a></span>
<span class="normal"><a href="#__codelineno-0-1327">1327</a></span>
<span class="normal"><a href="#__codelineno-0-1328">1328</a></span>
<span class="normal"><a href="#__codelineno-0-1329">1329</a></span>
<span class="normal"><a href="#__codelineno-0-1330">1330</a></span>
<span class="normal"><a href="#__codelineno-0-1331">1331</a></span>
<span class="normal"><a href="#__codelineno-0-1332">1332</a></span>
<span class="normal"><a href="#__codelineno-0-1333">1333</a></span>
<span class="normal"><a href="#__codelineno-0-1334">1334</a></span>
<span class="normal"><a href="#__codelineno-0-1335">1335</a></span>
<span class="normal"><a href="#__codelineno-0-1336">1336</a></span>
<span class="normal"><a href="#__codelineno-0-1337">1337</a></span>
<span class="normal"><a href="#__codelineno-0-1338">1338</a></span>
<span class="normal"><a href="#__codelineno-0-1339">1339</a></span>
<span class="normal"><a href="#__codelineno-0-1340">1340</a></span>
<span class="normal"><a href="#__codelineno-0-1341">1341</a></span>
<span class="normal"><a href="#__codelineno-0-1342">1342</a></span>
<span class="normal"><a href="#__codelineno-0-1343">1343</a></span>
<span class="normal"><a href="#__codelineno-0-1344">1344</a></span>
<span class="normal"><a href="#__codelineno-0-1345">1345</a></span>
<span class="normal"><a href="#__codelineno-0-1346">1346</a></span>
<span class="normal"><a href="#__codelineno-0-1347">1347</a></span>
<span class="normal"><a href="#__codelineno-0-1348">1348</a></span>
<span class="normal"><a href="#__codelineno-0-1349">1349</a></span>
<span class="normal"><a href="#__codelineno-0-1350">1350</a></span>
<span class="normal"><a href="#__codelineno-0-1351">1351</a></span>
<span class="normal"><a href="#__codelineno-0-1352">1352</a></span>
<span class="normal"><a href="#__codelineno-0-1353">1353</a></span>
<span class="normal"><a href="#__codelineno-0-1354">1354</a></span>
<span class="normal"><a href="#__codelineno-0-1355">1355</a></span>
<span class="normal"><a href="#__codelineno-0-1356">1356</a></span>
<span class="normal"><a href="#__codelineno-0-1357">1357</a></span>
<span class="normal"><a href="#__codelineno-0-1358">1358</a></span>
<span class="normal"><a href="#__codelineno-0-1359">1359</a></span>
<span class="normal"><a href="#__codelineno-0-1360">1360</a></span>
<span class="normal"><a href="#__codelineno-0-1361">1361</a></span>
<span class="normal"><a href="#__codelineno-0-1362">1362</a></span>
<span class="normal"><a href="#__codelineno-0-1363">1363</a></span>
<span class="normal"><a href="#__codelineno-0-1364">1364</a></span>
<span class="normal"><a href="#__codelineno-0-1365">1365</a></span>
<span class="normal"><a href="#__codelineno-0-1366">1366</a></span>
<span class="normal"><a href="#__codelineno-0-1367">1367</a></span>
<span class="normal"><a href="#__codelineno-0-1368">1368</a></span>
<span class="normal"><a href="#__codelineno-0-1369">1369</a></span>
<span class="normal"><a href="#__codelineno-0-1370">1370</a></span>
<span class="normal"><a href="#__codelineno-0-1371">1371</a></span>
<span class="normal"><a href="#__codelineno-0-1372">1372</a></span>
<span class="normal"><a href="#__codelineno-0-1373">1373</a></span>
<span class="normal"><a href="#__codelineno-0-1374">1374</a></span>
<span class="normal"><a href="#__codelineno-0-1375">1375</a></span>
<span class="normal"><a href="#__codelineno-0-1376">1376</a></span>
<span class="normal"><a href="#__codelineno-0-1377">1377</a></span>
<span class="normal"><a href="#__codelineno-0-1378">1378</a></span>
<span class="normal"><a href="#__codelineno-0-1379">1379</a></span>
<span class="normal"><a href="#__codelineno-0-1380">1380</a></span>
<span class="normal"><a href="#__codelineno-0-1381">1381</a></span>
<span class="normal"><a href="#__codelineno-0-1382">1382</a></span>
<span class="normal"><a href="#__codelineno-0-1383">1383</a></span>
<span class="normal"><a href="#__codelineno-0-1384">1384</a></span>
<span class="normal"><a href="#__codelineno-0-1385">1385</a></span>
<span class="normal"><a href="#__codelineno-0-1386">1386</a></span>
<span class="normal"><a href="#__codelineno-0-1387">1387</a></span>
<span class="normal"><a href="#__codelineno-0-1388">1388</a></span>
<span class="normal"><a href="#__codelineno-0-1389">1389</a></span>
<span class="normal"><a href="#__codelineno-0-1390">1390</a></span>
<span class="normal"><a href="#__codelineno-0-1391">1391</a></span>
<span class="normal"><a href="#__codelineno-0-1392">1392</a></span>
<span class="normal"><a href="#__codelineno-0-1393">1393</a></span>
<span class="normal"><a href="#__codelineno-0-1394">1394</a></span>
<span class="normal"><a href="#__codelineno-0-1395">1395</a></span>
<span class="normal"><a href="#__codelineno-0-1396">1396</a></span>
<span class="normal"><a href="#__codelineno-0-1397">1397</a></span>
<span class="normal"><a href="#__codelineno-0-1398">1398</a></span>
<span class="normal"><a href="#__codelineno-0-1399">1399</a></span>
<span class="normal"><a href="#__codelineno-0-1400">1400</a></span>
<span class="normal"><a href="#__codelineno-0-1401">1401</a></span>
<span class="normal"><a href="#__codelineno-0-1402">1402</a></span>
<span class="normal"><a href="#__codelineno-0-1403">1403</a></span>
<span class="normal"><a href="#__codelineno-0-1404">1404</a></span>
<span class="normal"><a href="#__codelineno-0-1405">1405</a></span>
<span class="normal"><a href="#__codelineno-0-1406">1406</a></span>
<span class="normal"><a href="#__codelineno-0-1407">1407</a></span>
<span class="normal"><a href="#__codelineno-0-1408">1408</a></span>
<span class="normal"><a href="#__codelineno-0-1409">1409</a></span>
<span class="normal"><a href="#__codelineno-0-1410">1410</a></span>
<span class="normal"><a href="#__codelineno-0-1411">1411</a></span>
<span class="normal"><a href="#__codelineno-0-1412">1412</a></span>
<span class="normal"><a href="#__codelineno-0-1413">1413</a></span>
<span class="normal"><a href="#__codelineno-0-1414">1414</a></span>
<span class="normal"><a href="#__codelineno-0-1415">1415</a></span>
<span class="normal"><a href="#__codelineno-0-1416">1416</a></span>
<span class="normal"><a href="#__codelineno-0-1417">1417</a></span>
<span class="normal"><a href="#__codelineno-0-1418">1418</a></span>
<span class="normal"><a href="#__codelineno-0-1419">1419</a></span>
<span class="normal"><a href="#__codelineno-0-1420">1420</a></span>
<span class="normal"><a href="#__codelineno-0-1421">1421</a></span>
<span class="normal"><a href="#__codelineno-0-1422">1422</a></span>
<span class="normal"><a href="#__codelineno-0-1423">1423</a></span>
<span class="normal"><a href="#__codelineno-0-1424">1424</a></span>
<span class="normal"><a href="#__codelineno-0-1425">1425</a></span>
<span class="normal"><a href="#__codelineno-0-1426">1426</a></span>
<span class="normal"><a href="#__codelineno-0-1427">1427</a></span>
<span class="normal"><a href="#__codelineno-0-1428">1428</a></span>
<span class="normal"><a href="#__codelineno-0-1429">1429</a></span>
<span class="normal"><a href="#__codelineno-0-1430">1430</a></span>
<span class="normal"><a href="#__codelineno-0-1431">1431</a></span>
<span class="normal"><a href="#__codelineno-0-1432">1432</a></span>
<span class="normal"><a href="#__codelineno-0-1433">1433</a></span>
<span class="normal"><a href="#__codelineno-0-1434">1434</a></span>
<span class="normal"><a href="#__codelineno-0-1435">1435</a></span>
<span class="normal"><a href="#__codelineno-0-1436">1436</a></span>
<span class="normal"><a href="#__codelineno-0-1437">1437</a></span>
<span class="normal"><a href="#__codelineno-0-1438">1438</a></span>
<span class="normal"><a href="#__codelineno-0-1439">1439</a></span>
<span class="normal"><a href="#__codelineno-0-1440">1440</a></span>
<span class="normal"><a href="#__codelineno-0-1441">1441</a></span>
<span class="normal"><a href="#__codelineno-0-1442">1442</a></span>
<span class="normal"><a href="#__codelineno-0-1443">1443</a></span>
<span class="normal"><a href="#__codelineno-0-1444">1444</a></span>
<span class="normal"><a href="#__codelineno-0-1445">1445</a></span>
<span class="normal"><a href="#__codelineno-0-1446">1446</a></span>
<span class="normal"><a href="#__codelineno-0-1447">1447</a></span>
<span class="normal"><a href="#__codelineno-0-1448">1448</a></span>
<span class="normal"><a href="#__codelineno-0-1449">1449</a></span>
<span class="normal"><a href="#__codelineno-0-1450">1450</a></span>
<span class="normal"><a href="#__codelineno-0-1451">1451</a></span>
<span class="normal"><a href="#__codelineno-0-1452">1452</a></span>
<span class="normal"><a href="#__codelineno-0-1453">1453</a></span>
<span class="normal"><a href="#__codelineno-0-1454">1454</a></span>
<span class="normal"><a href="#__codelineno-0-1455">1455</a></span>
<span class="normal"><a href="#__codelineno-0-1456">1456</a></span>
<span class="normal"><a href="#__codelineno-0-1457">1457</a></span>
<span class="normal"><a href="#__codelineno-0-1458">1458</a></span>
<span class="normal"><a href="#__codelineno-0-1459">1459</a></span>
<span class="normal"><a href="#__codelineno-0-1460">1460</a></span>
<span class="normal"><a href="#__codelineno-0-1461">1461</a></span>
<span class="normal"><a href="#__codelineno-0-1462">1462</a></span>
<span class="normal"><a href="#__codelineno-0-1463">1463</a></span>
<span class="normal"><a href="#__codelineno-0-1464">1464</a></span>
<span class="normal"><a href="#__codelineno-0-1465">1465</a></span>
<span class="normal"><a href="#__codelineno-0-1466">1466</a></span>
<span class="normal"><a href="#__codelineno-0-1467">1467</a></span>
<span class="normal"><a href="#__codelineno-0-1468">1468</a></span>
<span class="normal"><a href="#__codelineno-0-1469">1469</a></span>
<span class="normal"><a href="#__codelineno-0-1470">1470</a></span>
<span class="normal"><a href="#__codelineno-0-1471">1471</a></span>
<span class="normal"><a href="#__codelineno-0-1472">1472</a></span>
<span class="normal"><a href="#__codelineno-0-1473">1473</a></span>
<span class="normal"><a href="#__codelineno-0-1474">1474</a></span>
<span class="normal"><a href="#__codelineno-0-1475">1475</a></span>
<span class="normal"><a href="#__codelineno-0-1476">1476</a></span>
<span class="normal"><a href="#__codelineno-0-1477">1477</a></span>
<span class="normal"><a href="#__codelineno-0-1478">1478</a></span>
<span class="normal"><a href="#__codelineno-0-1479">1479</a></span>
<span class="normal"><a href="#__codelineno-0-1480">1480</a></span>
<span class="normal"><a href="#__codelineno-0-1481">1481</a></span>
<span class="normal"><a href="#__codelineno-0-1482">1482</a></span>
<span class="normal"><a href="#__codelineno-0-1483">1483</a></span>
<span class="normal"><a href="#__codelineno-0-1484">1484</a></span>
<span class="normal"><a href="#__codelineno-0-1485">1485</a></span>
<span class="normal"><a href="#__codelineno-0-1486">1486</a></span>
<span class="normal"><a href="#__codelineno-0-1487">1487</a></span>
<span class="normal"><a href="#__codelineno-0-1488">1488</a></span>
<span class="normal"><a href="#__codelineno-0-1489">1489</a></span>
<span class="normal"><a href="#__codelineno-0-1490">1490</a></span>
<span class="normal"><a href="#__codelineno-0-1491">1491</a></span>
<span class="normal"><a href="#__codelineno-0-1492">1492</a></span>
<span class="normal"><a href="#__codelineno-0-1493">1493</a></span>
<span class="normal"><a href="#__codelineno-0-1494">1494</a></span>
<span class="normal"><a href="#__codelineno-0-1495">1495</a></span>
<span class="normal"><a href="#__codelineno-0-1496">1496</a></span>
<span class="normal"><a href="#__codelineno-0-1497">1497</a></span>
<span class="normal"><a href="#__codelineno-0-1498">1498</a></span>
<span class="normal"><a href="#__codelineno-0-1499">1499</a></span>
<span class="normal"><a href="#__codelineno-0-1500">1500</a></span>
<span class="normal"><a href="#__codelineno-0-1501">1501</a></span>
<span class="normal"><a href="#__codelineno-0-1502">1502</a></span>
<span class="normal"><a href="#__codelineno-0-1503">1503</a></span>
<span class="normal"><a href="#__codelineno-0-1504">1504</a></span>
<span class="normal"><a href="#__codelineno-0-1505">1505</a></span>
<span class="normal"><a href="#__codelineno-0-1506">1506</a></span>
<span class="normal"><a href="#__codelineno-0-1507">1507</a></span>
<span class="normal"><a href="#__codelineno-0-1508">1508</a></span>
<span class="normal"><a href="#__codelineno-0-1509">1509</a></span>
<span class="normal"><a href="#__codelineno-0-1510">1510</a></span>
<span class="normal"><a href="#__codelineno-0-1511">1511</a></span>
<span class="normal"><a href="#__codelineno-0-1512">1512</a></span>
<span class="normal"><a href="#__codelineno-0-1513">1513</a></span>
<span class="normal"><a href="#__codelineno-0-1514">1514</a></span>
<span class="normal"><a href="#__codelineno-0-1515">1515</a></span>
<span class="normal"><a href="#__codelineno-0-1516">1516</a></span>
<span class="normal"><a href="#__codelineno-0-1517">1517</a></span>
<span class="normal"><a href="#__codelineno-0-1518">1518</a></span>
<span class="normal"><a href="#__codelineno-0-1519">1519</a></span>
<span class="normal"><a href="#__codelineno-0-1520">1520</a></span>
<span class="normal"><a href="#__codelineno-0-1521">1521</a></span>
<span class="normal"><a href="#__codelineno-0-1522">1522</a></span>
<span class="normal"><a href="#__codelineno-0-1523">1523</a></span>
<span class="normal"><a href="#__codelineno-0-1524">1524</a></span>
<span class="normal"><a href="#__codelineno-0-1525">1525</a></span>
<span class="normal"><a href="#__codelineno-0-1526">1526</a></span>
<span class="normal"><a href="#__codelineno-0-1527">1527</a></span>
<span class="normal"><a href="#__codelineno-0-1528">1528</a></span>
<span class="normal"><a href="#__codelineno-0-1529">1529</a></span>
<span class="normal"><a href="#__codelineno-0-1530">1530</a></span>
<span class="normal"><a href="#__codelineno-0-1531">1531</a></span>
<span class="normal"><a href="#__codelineno-0-1532">1532</a></span>
<span class="normal"><a href="#__codelineno-0-1533">1533</a></span>
<span class="normal"><a href="#__codelineno-0-1534">1534</a></span>
<span class="normal"><a href="#__codelineno-0-1535">1535</a></span>
<span class="normal"><a href="#__codelineno-0-1536">1536</a></span>
<span class="normal"><a href="#__codelineno-0-1537">1537</a></span>
<span class="normal"><a href="#__codelineno-0-1538">1538</a></span>
<span class="normal"><a href="#__codelineno-0-1539">1539</a></span>
<span class="normal"><a href="#__codelineno-0-1540">1540</a></span>
<span class="normal"><a href="#__codelineno-0-1541">1541</a></span>
<span class="normal"><a href="#__codelineno-0-1542">1542</a></span>
<span class="normal"><a href="#__codelineno-0-1543">1543</a></span>
<span class="normal"><a href="#__codelineno-0-1544">1544</a></span>
<span class="normal"><a href="#__codelineno-0-1545">1545</a></span>
<span class="normal"><a href="#__codelineno-0-1546">1546</a></span>
<span class="normal"><a href="#__codelineno-0-1547">1547</a></span>
<span class="normal"><a href="#__codelineno-0-1548">1548</a></span>
<span class="normal"><a href="#__codelineno-0-1549">1549</a></span>
<span class="normal"><a href="#__codelineno-0-1550">1550</a></span>
<span class="normal"><a href="#__codelineno-0-1551">1551</a></span>
<span class="normal"><a href="#__codelineno-0-1552">1552</a></span>
<span class="normal"><a href="#__codelineno-0-1553">1553</a></span>
<span class="normal"><a href="#__codelineno-0-1554">1554</a></span>
<span class="normal"><a href="#__codelineno-0-1555">1555</a></span>
<span class="normal"><a href="#__codelineno-0-1556">1556</a></span>
<span class="normal"><a href="#__codelineno-0-1557">1557</a></span>
<span class="normal"><a href="#__codelineno-0-1558">1558</a></span>
<span class="normal"><a href="#__codelineno-0-1559">1559</a></span>
<span class="normal"><a href="#__codelineno-0-1560">1560</a></span>
<span class="normal"><a href="#__codelineno-0-1561">1561</a></span>
<span class="normal"><a href="#__codelineno-0-1562">1562</a></span>
<span class="normal"><a href="#__codelineno-0-1563">1563</a></span>
<span class="normal"><a href="#__codelineno-0-1564">1564</a></span>
<span class="normal"><a href="#__codelineno-0-1565">1565</a></span>
<span class="normal"><a href="#__codelineno-0-1566">1566</a></span>
<span class="normal"><a href="#__codelineno-0-1567">1567</a></span>
<span class="normal"><a href="#__codelineno-0-1568">1568</a></span>
<span class="normal"><a href="#__codelineno-0-1569">1569</a></span>
<span class="normal"><a href="#__codelineno-0-1570">1570</a></span>
<span class="normal"><a href="#__codelineno-0-1571">1571</a></span>
<span class="normal"><a href="#__codelineno-0-1572">1572</a></span>
<span class="normal"><a href="#__codelineno-0-1573">1573</a></span>
<span class="normal"><a href="#__codelineno-0-1574">1574</a></span>
<span class="normal"><a href="#__codelineno-0-1575">1575</a></span>
<span class="normal"><a href="#__codelineno-0-1576">1576</a></span>
<span class="normal"><a href="#__codelineno-0-1577">1577</a></span>
<span class="normal"><a href="#__codelineno-0-1578">1578</a></span>
<span class="normal"><a href="#__codelineno-0-1579">1579</a></span>
<span class="normal"><a href="#__codelineno-0-1580">1580</a></span>
<span class="normal"><a href="#__codelineno-0-1581">1581</a></span>
<span class="normal"><a href="#__codelineno-0-1582">1582</a></span>
<span class="normal"><a href="#__codelineno-0-1583">1583</a></span>
<span class="normal"><a href="#__codelineno-0-1584">1584</a></span>
<span class="normal"><a href="#__codelineno-0-1585">1585</a></span>
<span class="normal"><a href="#__codelineno-0-1586">1586</a></span>
<span class="normal"><a href="#__codelineno-0-1587">1587</a></span>
<span class="normal"><a href="#__codelineno-0-1588">1588</a></span>
<span class="normal"><a href="#__codelineno-0-1589">1589</a></span>
<span class="normal"><a href="#__codelineno-0-1590">1590</a></span>
<span class="normal"><a href="#__codelineno-0-1591">1591</a></span>
<span class="normal"><a href="#__codelineno-0-1592">1592</a></span>
<span class="normal"><a href="#__codelineno-0-1593">1593</a></span>
<span class="normal"><a href="#__codelineno-0-1594">1594</a></span>
<span class="normal"><a href="#__codelineno-0-1595">1595</a></span>
<span class="normal"><a href="#__codelineno-0-1596">1596</a></span>
<span class="normal"><a href="#__codelineno-0-1597">1597</a></span>
<span class="normal"><a href="#__codelineno-0-1598">1598</a></span>
<span class="normal"><a href="#__codelineno-0-1599">1599</a></span>
<span class="normal"><a href="#__codelineno-0-1600">1600</a></span>
<span class="normal"><a href="#__codelineno-0-1601">1601</a></span>
<span class="normal"><a href="#__codelineno-0-1602">1602</a></span>
<span class="normal"><a href="#__codelineno-0-1603">1603</a></span>
<span class="normal"><a href="#__codelineno-0-1604">1604</a></span>
<span class="normal"><a href="#__codelineno-0-1605">1605</a></span>
<span class="normal"><a href="#__codelineno-0-1606">1606</a></span>
<span class="normal"><a href="#__codelineno-0-1607">1607</a></span>
<span class="normal"><a href="#__codelineno-0-1608">1608</a></span>
<span class="normal"><a href="#__codelineno-0-1609">1609</a></span>
<span class="normal"><a href="#__codelineno-0-1610">1610</a></span>
<span class="normal"><a href="#__codelineno-0-1611">1611</a></span>
<span class="normal"><a href="#__codelineno-0-1612">1612</a></span>
<span class="normal"><a href="#__codelineno-0-1613">1613</a></span>
<span class="normal"><a href="#__codelineno-0-1614">1614</a></span>
<span class="normal"><a href="#__codelineno-0-1615">1615</a></span>
<span class="normal"><a href="#__codelineno-0-1616">1616</a></span>
<span class="normal"><a href="#__codelineno-0-1617">1617</a></span>
<span class="normal"><a href="#__codelineno-0-1618">1618</a></span>
<span class="normal"><a href="#__codelineno-0-1619">1619</a></span>
<span class="normal"><a href="#__codelineno-0-1620">1620</a></span>
<span class="normal"><a href="#__codelineno-0-1621">1621</a></span>
<span class="normal"><a href="#__codelineno-0-1622">1622</a></span>
<span class="normal"><a href="#__codelineno-0-1623">1623</a></span>
<span class="normal"><a href="#__codelineno-0-1624">1624</a></span>
<span class="normal"><a href="#__codelineno-0-1625">1625</a></span>
<span class="normal"><a href="#__codelineno-0-1626">1626</a></span>
<span class="normal"><a href="#__codelineno-0-1627">1627</a></span>
<span class="normal"><a href="#__codelineno-0-1628">1628</a></span>
<span class="normal"><a href="#__codelineno-0-1629">1629</a></span>
<span class="normal"><a href="#__codelineno-0-1630">1630</a></span>
<span class="normal"><a href="#__codelineno-0-1631">1631</a></span>
<span class="normal"><a href="#__codelineno-0-1632">1632</a></span>
<span class="normal"><a href="#__codelineno-0-1633">1633</a></span>
<span class="normal"><a href="#__codelineno-0-1634">1634</a></span>
<span class="normal"><a href="#__codelineno-0-1635">1635</a></span>
<span class="normal"><a href="#__codelineno-0-1636">1636</a></span>
<span class="normal"><a href="#__codelineno-0-1637">1637</a></span>
<span class="normal"><a href="#__codelineno-0-1638">1638</a></span>
<span class="normal"><a href="#__codelineno-0-1639">1639</a></span>
<span class="normal"><a href="#__codelineno-0-1640">1640</a></span>
<span class="normal"><a href="#__codelineno-0-1641">1641</a></span>
<span class="normal"><a href="#__codelineno-0-1642">1642</a></span>
<span class="normal"><a href="#__codelineno-0-1643">1643</a></span>
<span class="normal"><a href="#__codelineno-0-1644">1644</a></span>
<span class="normal"><a href="#__codelineno-0-1645">1645</a></span>
<span class="normal"><a href="#__codelineno-0-1646">1646</a></span>
<span class="normal"><a href="#__codelineno-0-1647">1647</a></span>
<span class="normal"><a href="#__codelineno-0-1648">1648</a></span>
<span class="normal"><a href="#__codelineno-0-1649">1649</a></span>
<span class="normal"><a href="#__codelineno-0-1650">1650</a></span>
<span class="normal"><a href="#__codelineno-0-1651">1651</a></span>
<span class="normal"><a href="#__codelineno-0-1652">1652</a></span>
<span class="normal"><a href="#__codelineno-0-1653">1653</a></span>
<span class="normal"><a href="#__codelineno-0-1654">1654</a></span>
<span class="normal"><a href="#__codelineno-0-1655">1655</a></span>
<span class="normal"><a href="#__codelineno-0-1656">1656</a></span>
<span class="normal"><a href="#__codelineno-0-1657">1657</a></span>
<span class="normal"><a href="#__codelineno-0-1658">1658</a></span>
<span class="normal"><a href="#__codelineno-0-1659">1659</a></span>
<span class="normal"><a href="#__codelineno-0-1660">1660</a></span>
<span class="normal"><a href="#__codelineno-0-1661">1661</a></span>
<span class="normal"><a href="#__codelineno-0-1662">1662</a></span>
<span class="normal"><a href="#__codelineno-0-1663">1663</a></span>
<span class="normal"><a href="#__codelineno-0-1664">1664</a></span>
<span class="normal"><a href="#__codelineno-0-1665">1665</a></span>
<span class="normal"><a href="#__codelineno-0-1666">1666</a></span>
<span class="normal"><a href="#__codelineno-0-1667">1667</a></span>
<span class="normal"><a href="#__codelineno-0-1668">1668</a></span>
<span class="normal"><a href="#__codelineno-0-1669">1669</a></span>
<span class="normal"><a href="#__codelineno-0-1670">1670</a></span>
<span class="normal"><a href="#__codelineno-0-1671">1671</a></span>
<span class="normal"><a href="#__codelineno-0-1672">1672</a></span>
<span class="normal"><a href="#__codelineno-0-1673">1673</a></span>
<span class="normal"><a href="#__codelineno-0-1674">1674</a></span>
<span class="normal"><a href="#__codelineno-0-1675">1675</a></span>
<span class="normal"><a href="#__codelineno-0-1676">1676</a></span>
<span class="normal"><a href="#__codelineno-0-1677">1677</a></span>
<span class="normal"><a href="#__codelineno-0-1678">1678</a></span>
<span class="normal"><a href="#__codelineno-0-1679">1679</a></span>
<span class="normal"><a href="#__codelineno-0-1680">1680</a></span>
<span class="normal"><a href="#__codelineno-0-1681">1681</a></span>
<span class="normal"><a href="#__codelineno-0-1682">1682</a></span>
<span class="normal"><a href="#__codelineno-0-1683">1683</a></span>
<span class="normal"><a href="#__codelineno-0-1684">1684</a></span>
<span class="normal"><a href="#__codelineno-0-1685">1685</a></span>
<span class="normal"><a href="#__codelineno-0-1686">1686</a></span>
<span class="normal"><a href="#__codelineno-0-1687">1687</a></span>
<span class="normal"><a href="#__codelineno-0-1688">1688</a></span>
<span class="normal"><a href="#__codelineno-0-1689">1689</a></span>
<span class="normal"><a href="#__codelineno-0-1690">1690</a></span>
<span class="normal"><a href="#__codelineno-0-1691">1691</a></span>
<span class="normal"><a href="#__codelineno-0-1692">1692</a></span>
<span class="normal"><a href="#__codelineno-0-1693">1693</a></span>
<span class="normal"><a href="#__codelineno-0-1694">1694</a></span>
<span class="normal"><a href="#__codelineno-0-1695">1695</a></span>
<span class="normal"><a href="#__codelineno-0-1696">1696</a></span>
<span class="normal"><a href="#__codelineno-0-1697">1697</a></span>
<span class="normal"><a href="#__codelineno-0-1698">1698</a></span>
<span class="normal"><a href="#__codelineno-0-1699">1699</a></span>
<span class="normal"><a href="#__codelineno-0-1700">1700</a></span>
<span class="normal"><a href="#__codelineno-0-1701">1701</a></span>
<span class="normal"><a href="#__codelineno-0-1702">1702</a></span>
<span class="normal"><a href="#__codelineno-0-1703">1703</a></span>
<span class="normal"><a href="#__codelineno-0-1704">1704</a></span>
<span class="normal"><a href="#__codelineno-0-1705">1705</a></span>
<span class="normal"><a href="#__codelineno-0-1706">1706</a></span>
<span class="normal"><a href="#__codelineno-0-1707">1707</a></span>
<span class="normal"><a href="#__codelineno-0-1708">1708</a></span>
<span class="normal"><a href="#__codelineno-0-1709">1709</a></span>
<span class="normal"><a href="#__codelineno-0-1710">1710</a></span>
<span class="normal"><a href="#__codelineno-0-1711">1711</a></span>
<span class="normal"><a href="#__codelineno-0-1712">1712</a></span>
<span class="normal"><a href="#__codelineno-0-1713">1713</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-970" name="__codelineno-0-970"></a><span class="k">def</span> <span class="nf">prep_lines</span><span class="p">(</span>
<a id="__codelineno-0-971" name="__codelineno-0-971"></a>    <span class="n">pbp</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<a id="__codelineno-0-972" name="__codelineno-0-972"></a>    <span class="n">position</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;f&quot;</span><span class="p">,</span>
<a id="__codelineno-0-973" name="__codelineno-0-973"></a>    <span class="n">level</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;period&quot;</span><span class="p">,</span> <span class="s2">&quot;game&quot;</span><span class="p">,</span> <span class="s2">&quot;session&quot;</span><span class="p">,</span> <span class="s2">&quot;season&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;game&quot;</span><span class="p">,</span>
<a id="__codelineno-0-974" name="__codelineno-0-974"></a>    <span class="n">score</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-975" name="__codelineno-0-975"></a>    <span class="n">teammates</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-976" name="__codelineno-0-976"></a>    <span class="n">opposition</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-977" name="__codelineno-0-977"></a>    <span class="n">disable_progress_bar</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-978" name="__codelineno-0-978"></a><span class="p">):</span>
<a id="__codelineno-0-979" name="__codelineno-0-979"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Prepares a line stats dataframe using EvolvingHockey data.</span>
<a id="__codelineno-0-980" name="__codelineno-0-980"></a>
<a id="__codelineno-0-981" name="__codelineno-0-981"></a><span class="sd">    Aggregates to desired level. Capable of returning cuts that account for strength state,</span>
<a id="__codelineno-0-982" name="__codelineno-0-982"></a><span class="sd">    period, score state, teammates, and opposition.</span>
<a id="__codelineno-0-983" name="__codelineno-0-983"></a>
<a id="__codelineno-0-984" name="__codelineno-0-984"></a><span class="sd">    Returns a Pandas DataFrame.</span>
<a id="__codelineno-0-985" name="__codelineno-0-985"></a>
<a id="__codelineno-0-986" name="__codelineno-0-986"></a><span class="sd">    Parameters:</span>
<a id="__codelineno-0-987" name="__codelineno-0-987"></a><span class="sd">        pbp (pd.DataFrame):</span>
<a id="__codelineno-0-988" name="__codelineno-0-988"></a><span class="sd">            Dataframe from the prep_pbp function with the default columns argument</span>
<a id="__codelineno-0-989" name="__codelineno-0-989"></a><span class="sd">        position (str):</span>
<a id="__codelineno-0-990" name="__codelineno-0-990"></a><span class="sd">            Position to aggregate, forwards or defense, e.g., &#39;f&#39;</span>
<a id="__codelineno-0-991" name="__codelineno-0-991"></a><span class="sd">        level (str):</span>
<a id="__codelineno-0-992" name="__codelineno-0-992"></a><span class="sd">            Level to aggregate stats, e.g., &#39;game&#39;</span>
<a id="__codelineno-0-993" name="__codelineno-0-993"></a><span class="sd">        score (bool):</span>
<a id="__codelineno-0-994" name="__codelineno-0-994"></a><span class="sd">            Whether to aggregate to score state level</span>
<a id="__codelineno-0-995" name="__codelineno-0-995"></a><span class="sd">        teammates (bool):</span>
<a id="__codelineno-0-996" name="__codelineno-0-996"></a><span class="sd">            Whether to account for teammates when aggregating</span>
<a id="__codelineno-0-997" name="__codelineno-0-997"></a><span class="sd">        opposition (bool):</span>
<a id="__codelineno-0-998" name="__codelineno-0-998"></a><span class="sd">            Whether to account for opposition when aggregating</span>
<a id="__codelineno-0-999" name="__codelineno-0-999"></a><span class="sd">        disable_progress_bar (bool):</span>
<a id="__codelineno-0-1000" name="__codelineno-0-1000"></a><span class="sd">            Whether to disable progress bar</span>
<a id="__codelineno-0-1001" name="__codelineno-0-1001"></a>
<a id="__codelineno-0-1002" name="__codelineno-0-1002"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1003" name="__codelineno-0-1003"></a><span class="sd">        season (int):</span>
<a id="__codelineno-0-1004" name="__codelineno-0-1004"></a><span class="sd">            8-digit season code, e.g., 20232024</span>
<a id="__codelineno-0-1005" name="__codelineno-0-1005"></a><span class="sd">        session (str):</span>
<a id="__codelineno-0-1006" name="__codelineno-0-1006"></a><span class="sd">            Regular season or playoffs, e.g., R</span>
<a id="__codelineno-0-1007" name="__codelineno-0-1007"></a><span class="sd">        game_id (int):</span>
<a id="__codelineno-0-1008" name="__codelineno-0-1008"></a><span class="sd">            10-digit game identifier, e.g., 2023020015</span>
<a id="__codelineno-0-1009" name="__codelineno-0-1009"></a><span class="sd">        game_date (str):</span>
<a id="__codelineno-0-1010" name="__codelineno-0-1010"></a><span class="sd">            Date of game in Eastern time-zone, e.g., 2023-10-12</span>
<a id="__codelineno-0-1011" name="__codelineno-0-1011"></a><span class="sd">        team (str):</span>
<a id="__codelineno-0-1012" name="__codelineno-0-1012"></a><span class="sd">            3-letter abbreviation of the line&#39;s team, e.g., NSH</span>
<a id="__codelineno-0-1013" name="__codelineno-0-1013"></a><span class="sd">        opp_team (str):</span>
<a id="__codelineno-0-1014" name="__codelineno-0-1014"></a><span class="sd">            3-letter abbreviation of the opposing team, e.g., SEA</span>
<a id="__codelineno-0-1015" name="__codelineno-0-1015"></a><span class="sd">        strength_state (str):</span>
<a id="__codelineno-0-1016" name="__codelineno-0-1016"></a><span class="sd">            Strength state from the perspective of the event team, e.g., 5v5</span>
<a id="__codelineno-0-1017" name="__codelineno-0-1017"></a><span class="sd">        score_state (str):</span>
<a id="__codelineno-0-1018" name="__codelineno-0-1018"></a><span class="sd">            Score state from the perspective of the event team, e.g., 0v0</span>
<a id="__codelineno-0-1019" name="__codelineno-0-1019"></a><span class="sd">        game_period (int):</span>
<a id="__codelineno-0-1020" name="__codelineno-0-1020"></a><span class="sd">            Game period, e.g., 1</span>
<a id="__codelineno-0-1021" name="__codelineno-0-1021"></a><span class="sd">        forwards (str):</span>
<a id="__codelineno-0-1022" name="__codelineno-0-1022"></a><span class="sd">            Names of the event team&#39;s forwards that are on the ice during the event,</span>
<a id="__codelineno-0-1023" name="__codelineno-0-1023"></a><span class="sd">            e.g., FILIP.FORSBERG, JUUSO.PARSSINEN, RYAN.O&#39;REILLY</span>
<a id="__codelineno-0-1024" name="__codelineno-0-1024"></a><span class="sd">        forwards_id (str):</span>
<a id="__codelineno-0-1025" name="__codelineno-0-1025"></a><span class="sd">            EH IDs of the event team&#39;s forwards that are on the ice during the event,</span>
<a id="__codelineno-0-1026" name="__codelineno-0-1026"></a><span class="sd">            e.g., FILIP.FORSBERG, JUUSO.PARSSINEN, RYAN.O&#39;REILLY</span>
<a id="__codelineno-0-1027" name="__codelineno-0-1027"></a><span class="sd">        defense (str):</span>
<a id="__codelineno-0-1028" name="__codelineno-0-1028"></a><span class="sd">            Names of the event team&#39;s defensemen that are on the ice during the event,</span>
<a id="__codelineno-0-1029" name="__codelineno-0-1029"></a><span class="sd">            e.g., ALEX.CARRIER, RYAN.MCDONAGH</span>
<a id="__codelineno-0-1030" name="__codelineno-0-1030"></a><span class="sd">        defense_id (str):</span>
<a id="__codelineno-0-1031" name="__codelineno-0-1031"></a><span class="sd">            EH IDs of the event team&#39;s defensemen that are on the ice during the event,</span>
<a id="__codelineno-0-1032" name="__codelineno-0-1032"></a><span class="sd">            e.g., ALEX.CARRIER, RYAN.MCDONAGH</span>
<a id="__codelineno-0-1033" name="__codelineno-0-1033"></a><span class="sd">        own_goalie (str):</span>
<a id="__codelineno-0-1034" name="__codelineno-0-1034"></a><span class="sd">            Name of the goalie for the event team, e.g., JUUSE.SAROS</span>
<a id="__codelineno-0-1035" name="__codelineno-0-1035"></a><span class="sd">        own_goalie_id (str):</span>
<a id="__codelineno-0-1036" name="__codelineno-0-1036"></a><span class="sd">            Identifier for the event team goalie that can be used to match with Evolving Hockey data, e.g., JUUSE.SAROS</span>
<a id="__codelineno-0-1037" name="__codelineno-0-1037"></a><span class="sd">        opp_forwards (str):</span>
<a id="__codelineno-0-1038" name="__codelineno-0-1038"></a><span class="sd">            Names of the opponent&#39;s forwards that are on the ice during the event,</span>
<a id="__codelineno-0-1039" name="__codelineno-0-1039"></a><span class="sd">            e.g., JARED.MCCANN, JORDAN.EBERLE, MATTY.BENIERS</span>
<a id="__codelineno-0-1040" name="__codelineno-0-1040"></a><span class="sd">        opp_forwards_id (str):</span>
<a id="__codelineno-0-1041" name="__codelineno-0-1041"></a><span class="sd">            EH IDs of the event team&#39;s forwards that are on the ice during the event,</span>
<a id="__codelineno-0-1042" name="__codelineno-0-1042"></a><span class="sd">            e.g., JARED.MCCANN, JORDAN.EBERLE, MATTY.BENIERS</span>
<a id="__codelineno-0-1043" name="__codelineno-0-1043"></a><span class="sd">        opp_defense (str):</span>
<a id="__codelineno-0-1044" name="__codelineno-0-1044"></a><span class="sd">            Names of the opposing team&#39;s defensemen that are on the ice during the event,</span>
<a id="__codelineno-0-1045" name="__codelineno-0-1045"></a><span class="sd">            e.g., JAMIE.OLEKSIAK, WILLIAM.BORGEN</span>
<a id="__codelineno-0-1046" name="__codelineno-0-1046"></a><span class="sd">        opp_defense_id (str):</span>
<a id="__codelineno-0-1047" name="__codelineno-0-1047"></a><span class="sd">            EH IDs of the opposing team&#39;s defensemen that are on the ice during the event,</span>
<a id="__codelineno-0-1048" name="__codelineno-0-1048"></a><span class="sd">            e.g., JAMIE.OLEKSIAK, WILLIAM.BORGEN</span>
<a id="__codelineno-0-1049" name="__codelineno-0-1049"></a><span class="sd">        opp_goalie (str):</span>
<a id="__codelineno-0-1050" name="__codelineno-0-1050"></a><span class="sd">            Name of the opposing goalie for the event team, e.g., PHILIPP.GRUBAUER</span>
<a id="__codelineno-0-1051" name="__codelineno-0-1051"></a><span class="sd">        opp_goalie_id (str):</span>
<a id="__codelineno-0-1052" name="__codelineno-0-1052"></a><span class="sd">            Identifier for the opposing goalie that can be used to match with Evolving Hockey data,</span>
<a id="__codelineno-0-1053" name="__codelineno-0-1053"></a><span class="sd">            e.g., PHILIPP.GRUBAUER</span>
<a id="__codelineno-0-1054" name="__codelineno-0-1054"></a><span class="sd">        toi (float):</span>
<a id="__codelineno-0-1055" name="__codelineno-0-1055"></a><span class="sd">            Time on-ice in minutes, e.g., 1.616667</span>
<a id="__codelineno-0-1056" name="__codelineno-0-1056"></a><span class="sd">        gf (float):</span>
<a id="__codelineno-0-1057" name="__codelineno-0-1057"></a><span class="sd">            Sum of goals scored while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1058" name="__codelineno-0-1058"></a><span class="sd">        gf_adj (float):</span>
<a id="__codelineno-0-1059" name="__codelineno-0-1059"></a><span class="sd">            Sum of venue- and score-adjusted goals scored while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1060" name="__codelineno-0-1060"></a><span class="sd">        hdgf (float):</span>
<a id="__codelineno-0-1061" name="__codelineno-0-1061"></a><span class="sd">            Sum of high-danger goals scored while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1062" name="__codelineno-0-1062"></a><span class="sd">        ga (float):</span>
<a id="__codelineno-0-1063" name="__codelineno-0-1063"></a><span class="sd">            Sum of goals allowed while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1064" name="__codelineno-0-1064"></a><span class="sd">        ga_adj (float):</span>
<a id="__codelineno-0-1065" name="__codelineno-0-1065"></a><span class="sd">            Sum of venue- and score-adjusted goals allowed while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1066" name="__codelineno-0-1066"></a><span class="sd">        hdga (float):</span>
<a id="__codelineno-0-1067" name="__codelineno-0-1067"></a><span class="sd">            Sum of high-danger goals allowed while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1068" name="__codelineno-0-1068"></a><span class="sd">        xgf (float):</span>
<a id="__codelineno-0-1069" name="__codelineno-0-1069"></a><span class="sd">            Sum of expected goals generated while line is on-ice, e.g., 0.017266</span>
<a id="__codelineno-0-1070" name="__codelineno-0-1070"></a><span class="sd">        xgf_adj (float):</span>
<a id="__codelineno-0-1071" name="__codelineno-0-1071"></a><span class="sd">            Sum of venue- and score-adjusted expected goals generated while line is on-ice, e.g., 0.016472</span>
<a id="__codelineno-0-1072" name="__codelineno-0-1072"></a><span class="sd">        xga (float):</span>
<a id="__codelineno-0-1073" name="__codelineno-0-1073"></a><span class="sd">            Sum of expected goals allowed while line is on-ice, e.g., 0.123475</span>
<a id="__codelineno-0-1074" name="__codelineno-0-1074"></a><span class="sd">        xga_adj (float):</span>
<a id="__codelineno-0-1075" name="__codelineno-0-1075"></a><span class="sd">            Sum of venue- and score-adjusted expected goals allowed while line is on-ice, e.g., 0.129772</span>
<a id="__codelineno-0-1076" name="__codelineno-0-1076"></a><span class="sd">        sf (float):</span>
<a id="__codelineno-0-1077" name="__codelineno-0-1077"></a><span class="sd">            Sum of shots taken while line is on-ice, e.g., 1</span>
<a id="__codelineno-0-1078" name="__codelineno-0-1078"></a><span class="sd">        sf_adj (float):</span>
<a id="__codelineno-0-1079" name="__codelineno-0-1079"></a><span class="sd">            Sum of venue- and score-adjusted shots taken while line is on-ice, e.g., .972</span>
<a id="__codelineno-0-1080" name="__codelineno-0-1080"></a><span class="sd">        hdsf (float):</span>
<a id="__codelineno-0-1081" name="__codelineno-0-1081"></a><span class="sd">            Sum of high-danger shots taken while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1082" name="__codelineno-0-1082"></a><span class="sd">        sa (float):</span>
<a id="__codelineno-0-1083" name="__codelineno-0-1083"></a><span class="sd">            Sum of shots allowed while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1084" name="__codelineno-0-1084"></a><span class="sd">        sa_adj (float):</span>
<a id="__codelineno-0-1085" name="__codelineno-0-1085"></a><span class="sd">            Sum of venue- and score-adjusted shots allowed while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1086" name="__codelineno-0-1086"></a><span class="sd">        hdsa (float):</span>
<a id="__codelineno-0-1087" name="__codelineno-0-1087"></a><span class="sd">            Sum of high-danger shots allowed while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1088" name="__codelineno-0-1088"></a><span class="sd">        ff (float):</span>
<a id="__codelineno-0-1089" name="__codelineno-0-1089"></a><span class="sd">            Sum of fenwick events generated while line is on-ice, e.g., 1</span>
<a id="__codelineno-0-1090" name="__codelineno-0-1090"></a><span class="sd">        ff_adj (float):</span>
<a id="__codelineno-0-1091" name="__codelineno-0-1091"></a><span class="sd">            Sum of venue- and score-adjusted fenwick events generated while line is on-ice, e.g., 0.968</span>
<a id="__codelineno-0-1092" name="__codelineno-0-1092"></a><span class="sd">        hdff (float):</span>
<a id="__codelineno-0-1093" name="__codelineno-0-1093"></a><span class="sd">            Sum of high-danger fenwick events generated while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1094" name="__codelineno-0-1094"></a><span class="sd">        fa (float):</span>
<a id="__codelineno-0-1095" name="__codelineno-0-1095"></a><span class="sd">            Sum of fenwick events allowed while line is on-ice, e.g., 1</span>
<a id="__codelineno-0-1096" name="__codelineno-0-1096"></a><span class="sd">        fa_adj (float):</span>
<a id="__codelineno-0-1097" name="__codelineno-0-1097"></a><span class="sd">            Sum of venue- and score-adjusted fenwick events allowed while line is on-ice, e.g., 1.034</span>
<a id="__codelineno-0-1098" name="__codelineno-0-1098"></a><span class="sd">        hdfa (float):</span>
<a id="__codelineno-0-1099" name="__codelineno-0-1099"></a><span class="sd">            Sum of high-danger fenwick events allowed while line is on-ice, e.g., 1</span>
<a id="__codelineno-0-1100" name="__codelineno-0-1100"></a><span class="sd">        cf (float):</span>
<a id="__codelineno-0-1101" name="__codelineno-0-1101"></a><span class="sd">            Sum of corsi events generated while line is on-ice, e.g., 1</span>
<a id="__codelineno-0-1102" name="__codelineno-0-1102"></a><span class="sd">        cf_adj (float):</span>
<a id="__codelineno-0-1103" name="__codelineno-0-1103"></a><span class="sd">            Sum of venue- and score-adjusted corsi events generated while line is on-ice, e.g., 0.970</span>
<a id="__codelineno-0-1104" name="__codelineno-0-1104"></a><span class="sd">        ca (float):</span>
<a id="__codelineno-0-1105" name="__codelineno-0-1105"></a><span class="sd">            Sum of corsi events allowed while line is on-ice, e.g., 2</span>
<a id="__codelineno-0-1106" name="__codelineno-0-1106"></a><span class="sd">        ca_adj (float):</span>
<a id="__codelineno-0-1107" name="__codelineno-0-1107"></a><span class="sd">            Sum of venue- and score-adjusted corsi events allowed while line is on-ice, e.g., 2.064</span>
<a id="__codelineno-0-1108" name="__codelineno-0-1108"></a><span class="sd">        bsf (float):</span>
<a id="__codelineno-0-1109" name="__codelineno-0-1109"></a><span class="sd">            Sum of shots taken that were ultimately blocked while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1110" name="__codelineno-0-1110"></a><span class="sd">        bsa (float):</span>
<a id="__codelineno-0-1111" name="__codelineno-0-1111"></a><span class="sd">            Sum of shots allowed that were ultimately blocked while line is on-ice, e.g., 1</span>
<a id="__codelineno-0-1112" name="__codelineno-0-1112"></a><span class="sd">        msf (float):</span>
<a id="__codelineno-0-1113" name="__codelineno-0-1113"></a><span class="sd">            Sum of shots taken that missed net while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1114" name="__codelineno-0-1114"></a><span class="sd">        hdmsf (float):</span>
<a id="__codelineno-0-1115" name="__codelineno-0-1115"></a><span class="sd">            Sum of high-danger shots taken that missed net while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1116" name="__codelineno-0-1116"></a><span class="sd">        msa (float):</span>
<a id="__codelineno-0-1117" name="__codelineno-0-1117"></a><span class="sd">            Sum of shots allowed that missed net while line is on-ice, e.g., 1</span>
<a id="__codelineno-0-1118" name="__codelineno-0-1118"></a><span class="sd">        hdmsa (float):</span>
<a id="__codelineno-0-1119" name="__codelineno-0-1119"></a><span class="sd">            Sum of high-danger shots allowed that missed net while line is on-ice, e.g., 1</span>
<a id="__codelineno-0-1120" name="__codelineno-0-1120"></a><span class="sd">        hf (float):</span>
<a id="__codelineno-0-1121" name="__codelineno-0-1121"></a><span class="sd">            Sum of hits dished out while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1122" name="__codelineno-0-1122"></a><span class="sd">        ht (float):</span>
<a id="__codelineno-0-1123" name="__codelineno-0-1123"></a><span class="sd">            Sum of hits taken while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1124" name="__codelineno-0-1124"></a><span class="sd">        ozf (float):</span>
<a id="__codelineno-0-1125" name="__codelineno-0-1125"></a><span class="sd">            Sum of offensive zone faceoffs that occur while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1126" name="__codelineno-0-1126"></a><span class="sd">        nzf (float):</span>
<a id="__codelineno-0-1127" name="__codelineno-0-1127"></a><span class="sd">            Sum of neutral zone faceoffs that occur while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1128" name="__codelineno-0-1128"></a><span class="sd">        dzf (float):</span>
<a id="__codelineno-0-1129" name="__codelineno-0-1129"></a><span class="sd">            Sum of defensive zone faceoffs that occur while line is on-ice, e.g., 1</span>
<a id="__codelineno-0-1130" name="__codelineno-0-1130"></a><span class="sd">        fow (float):</span>
<a id="__codelineno-0-1131" name="__codelineno-0-1131"></a><span class="sd">            Sum of faceoffs won while line is on-ice, e.g., 1</span>
<a id="__codelineno-0-1132" name="__codelineno-0-1132"></a><span class="sd">        fol (float):</span>
<a id="__codelineno-0-1133" name="__codelineno-0-1133"></a><span class="sd">            Sum of faceoffs lost while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1134" name="__codelineno-0-1134"></a><span class="sd">        ozfw (float):</span>
<a id="__codelineno-0-1135" name="__codelineno-0-1135"></a><span class="sd">            Sum of offensive zone faceoffs won while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1136" name="__codelineno-0-1136"></a><span class="sd">        ozfl (float):</span>
<a id="__codelineno-0-1137" name="__codelineno-0-1137"></a><span class="sd">            Sum of offensive zone faceoffs lost while line is on-ice, e.g., 1</span>
<a id="__codelineno-0-1138" name="__codelineno-0-1138"></a><span class="sd">        nzfw (float):</span>
<a id="__codelineno-0-1139" name="__codelineno-0-1139"></a><span class="sd">            Sum of neutral zone faceoffs won while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1140" name="__codelineno-0-1140"></a><span class="sd">        nzfl (float):</span>
<a id="__codelineno-0-1141" name="__codelineno-0-1141"></a><span class="sd">            Sum of neutral zone faceoffs lost while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1142" name="__codelineno-0-1142"></a><span class="sd">        dzfw (float):</span>
<a id="__codelineno-0-1143" name="__codelineno-0-1143"></a><span class="sd">            Sum of defensive zone faceoffs won while line is on-ice, e.g., 1</span>
<a id="__codelineno-0-1144" name="__codelineno-0-1144"></a><span class="sd">        dzfl (float):</span>
<a id="__codelineno-0-1145" name="__codelineno-0-1145"></a><span class="sd">            Sum of defensive zone faceoffs lost while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1146" name="__codelineno-0-1146"></a><span class="sd">        pent0 (float):</span>
<a id="__codelineno-0-1147" name="__codelineno-0-1147"></a><span class="sd">            Sum of individual 0-minute penalties taken while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1148" name="__codelineno-0-1148"></a><span class="sd">        pent2 (float):</span>
<a id="__codelineno-0-1149" name="__codelineno-0-1149"></a><span class="sd">            Sum of individual 2-minute penalties taken while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1150" name="__codelineno-0-1150"></a><span class="sd">        pent4 (float):</span>
<a id="__codelineno-0-1151" name="__codelineno-0-1151"></a><span class="sd">            Sum of individual 4-minute penalties taken while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1152" name="__codelineno-0-1152"></a><span class="sd">        pent5 (float):</span>
<a id="__codelineno-0-1153" name="__codelineno-0-1153"></a><span class="sd">            Sum of individual 5-minute penalties taken while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1154" name="__codelineno-0-1154"></a><span class="sd">        pent10 (float):</span>
<a id="__codelineno-0-1155" name="__codelineno-0-1155"></a><span class="sd">            Sum of individual 10-minute penalties taken while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1156" name="__codelineno-0-1156"></a><span class="sd">        pend0 (float):</span>
<a id="__codelineno-0-1157" name="__codelineno-0-1157"></a><span class="sd">            Sum of individual 0-minute penalties drawn while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1158" name="__codelineno-0-1158"></a><span class="sd">        pend2 (float):</span>
<a id="__codelineno-0-1159" name="__codelineno-0-1159"></a><span class="sd">            Sum of individual 2-minute penalties drawn while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1160" name="__codelineno-0-1160"></a><span class="sd">        pend4 (float):</span>
<a id="__codelineno-0-1161" name="__codelineno-0-1161"></a><span class="sd">            Sum of individual 4-minute penalties drawn while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1162" name="__codelineno-0-1162"></a><span class="sd">        pend5 (float):</span>
<a id="__codelineno-0-1163" name="__codelineno-0-1163"></a><span class="sd">            Sum of individual 5-minute penalties drawn while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1164" name="__codelineno-0-1164"></a><span class="sd">        pend10 (float):</span>
<a id="__codelineno-0-1165" name="__codelineno-0-1165"></a><span class="sd">            Sum of individual 10-minute penalties drawn while line is on-ice, e.g., 0</span>
<a id="__codelineno-0-1166" name="__codelineno-0-1166"></a>
<a id="__codelineno-0-1167" name="__codelineno-0-1167"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-1168" name="__codelineno-0-1168"></a><span class="sd">        Basic play-by-play DataFrame</span>
<a id="__codelineno-0-1169" name="__codelineno-0-1169"></a><span class="sd">        &gt;&gt;&gt; shifts_raw = pd.read_csv(&quot;./raw_shifts.csv&quot;)</span>
<a id="__codelineno-0-1170" name="__codelineno-0-1170"></a><span class="sd">        &gt;&gt;&gt; pbp_raw = pd.read_csv(&quot;./raw_pbp.csv&quot;)</span>
<a id="__codelineno-0-1171" name="__codelineno-0-1171"></a><span class="sd">        &gt;&gt;&gt; pbp = prep_pbp(pbp_raw, shifts_raw)</span>
<a id="__codelineno-0-1172" name="__codelineno-0-1172"></a>
<a id="__codelineno-0-1173" name="__codelineno-0-1173"></a><span class="sd">        Basic game-level stats for forwards, with no teammates or opposition</span>
<a id="__codelineno-0-1174" name="__codelineno-0-1174"></a><span class="sd">        &gt;&gt;&gt; lines = prep_lines(pbp, position=&quot;f&quot;)</span>
<a id="__codelineno-0-1175" name="__codelineno-0-1175"></a>
<a id="__codelineno-0-1176" name="__codelineno-0-1176"></a><span class="sd">        Period-level stats for defense, grouped by teammates</span>
<a id="__codelineno-0-1177" name="__codelineno-0-1177"></a><span class="sd">        &gt;&gt;&gt; lines = prep_lines(pbp, position=&quot;d&quot;, level=&quot;period&quot;, teammates=True)</span>
<a id="__codelineno-0-1178" name="__codelineno-0-1178"></a>
<a id="__codelineno-0-1179" name="__codelineno-0-1179"></a><span class="sd">        Session-level (e.g., regular seasion) stats, grouped by teammates and opposition</span>
<a id="__codelineno-0-1180" name="__codelineno-0-1180"></a><span class="sd">        &gt;&gt;&gt; lines = prep_lines(</span>
<a id="__codelineno-0-1181" name="__codelineno-0-1181"></a><span class="sd">        ...     pbp, position=&quot;f&quot;, level=&quot;session&quot;, teammates=True, opposition=True</span>
<a id="__codelineno-0-1182" name="__codelineno-0-1182"></a><span class="sd">        ... )</span>
<a id="__codelineno-0-1183" name="__codelineno-0-1183"></a>
<a id="__codelineno-0-1184" name="__codelineno-0-1184"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1185" name="__codelineno-0-1185"></a>    <span class="k">with</span> <span class="n">ChickenProgress</span><span class="p">(</span><span class="n">disable</span><span class="o">=</span><span class="n">disable_progress_bar</span><span class="p">)</span> <span class="k">as</span> <span class="n">progress</span><span class="p">:</span>
<a id="__codelineno-0-1186" name="__codelineno-0-1186"></a>        <span class="n">pbar_message</span> <span class="o">=</span> <span class="s2">&quot;Prepping lines data...&quot;</span>
<a id="__codelineno-0-1187" name="__codelineno-0-1187"></a>
<a id="__codelineno-0-1188" name="__codelineno-0-1188"></a>        <span class="n">lines_task</span> <span class="o">=</span> <span class="n">progress</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">pbar_message</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-1189" name="__codelineno-0-1189"></a>
<a id="__codelineno-0-1190" name="__codelineno-0-1190"></a>        <span class="c1"># Creating the &quot;for&quot; dataframe</span>
<a id="__codelineno-0-1191" name="__codelineno-0-1191"></a>
<a id="__codelineno-0-1192" name="__codelineno-0-1192"></a>        <span class="c1"># Accounting for desired level of aggregation</span>
<a id="__codelineno-0-1193" name="__codelineno-0-1193"></a>
<a id="__codelineno-0-1194" name="__codelineno-0-1194"></a>        <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;session&quot;</span> <span class="ow">or</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;season&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1195" name="__codelineno-0-1195"></a>            <span class="n">group_base</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;season&quot;</span><span class="p">,</span> <span class="s2">&quot;session&quot;</span><span class="p">,</span> <span class="s2">&quot;event_team&quot;</span><span class="p">,</span> <span class="s2">&quot;strength_state&quot;</span><span class="p">]</span>
<a id="__codelineno-0-1196" name="__codelineno-0-1196"></a>
<a id="__codelineno-0-1197" name="__codelineno-0-1197"></a>        <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;game&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1198" name="__codelineno-0-1198"></a>            <span class="n">group_base</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1199" name="__codelineno-0-1199"></a>                <span class="s2">&quot;season&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1200" name="__codelineno-0-1200"></a>                <span class="s2">&quot;game_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1201" name="__codelineno-0-1201"></a>                <span class="s2">&quot;game_date&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1202" name="__codelineno-0-1202"></a>                <span class="s2">&quot;session&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1203" name="__codelineno-0-1203"></a>                <span class="s2">&quot;event_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1204" name="__codelineno-0-1204"></a>                <span class="s2">&quot;opp_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1205" name="__codelineno-0-1205"></a>                <span class="s2">&quot;strength_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1206" name="__codelineno-0-1206"></a>            <span class="p">]</span>
<a id="__codelineno-0-1207" name="__codelineno-0-1207"></a>
<a id="__codelineno-0-1208" name="__codelineno-0-1208"></a>        <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;period&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1209" name="__codelineno-0-1209"></a>            <span class="n">group_base</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1210" name="__codelineno-0-1210"></a>                <span class="s2">&quot;season&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1211" name="__codelineno-0-1211"></a>                <span class="s2">&quot;game_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1212" name="__codelineno-0-1212"></a>                <span class="s2">&quot;game_date&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1213" name="__codelineno-0-1213"></a>                <span class="s2">&quot;session&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1214" name="__codelineno-0-1214"></a>                <span class="s2">&quot;event_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1215" name="__codelineno-0-1215"></a>                <span class="s2">&quot;opp_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1216" name="__codelineno-0-1216"></a>                <span class="s2">&quot;game_period&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1217" name="__codelineno-0-1217"></a>                <span class="s2">&quot;strength_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1218" name="__codelineno-0-1218"></a>            <span class="p">]</span>
<a id="__codelineno-0-1219" name="__codelineno-0-1219"></a>
<a id="__codelineno-0-1220" name="__codelineno-0-1220"></a>        <span class="c1"># Accounting for score state</span>
<a id="__codelineno-0-1221" name="__codelineno-0-1221"></a>
<a id="__codelineno-0-1222" name="__codelineno-0-1222"></a>        <span class="k">if</span> <span class="n">score</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-1223" name="__codelineno-0-1223"></a>            <span class="n">group_base</span> <span class="o">=</span> <span class="n">group_base</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;score_state&quot;</span><span class="p">]</span>
<a id="__codelineno-0-1224" name="__codelineno-0-1224"></a>
<a id="__codelineno-0-1225" name="__codelineno-0-1225"></a>        <span class="c1"># Accounting for desired position</span>
<a id="__codelineno-0-1226" name="__codelineno-0-1226"></a>
<a id="__codelineno-0-1227" name="__codelineno-0-1227"></a>        <span class="n">group_list</span> <span class="o">=</span> <span class="n">group_base</span> <span class="o">+</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;event_on_</span><span class="si">{</span><span class="n">position</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;event_on_</span><span class="si">{</span><span class="n">position</span><span class="si">}</span><span class="s2">_id&quot;</span><span class="p">]</span>
<a id="__codelineno-0-1228" name="__codelineno-0-1228"></a>
<a id="__codelineno-0-1229" name="__codelineno-0-1229"></a>        <span class="c1"># Accounting for teammates</span>
<a id="__codelineno-0-1230" name="__codelineno-0-1230"></a>
<a id="__codelineno-0-1231" name="__codelineno-0-1231"></a>        <span class="k">if</span> <span class="n">teammates</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-1232" name="__codelineno-0-1232"></a>            <span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="s2">&quot;f&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1233" name="__codelineno-0-1233"></a>                <span class="n">group_list</span> <span class="o">=</span> <span class="n">group_list</span> <span class="o">+</span> <span class="p">[</span>
<a id="__codelineno-0-1234" name="__codelineno-0-1234"></a>                    <span class="s2">&quot;event_on_d&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1235" name="__codelineno-0-1235"></a>                    <span class="s2">&quot;event_on_d_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1236" name="__codelineno-0-1236"></a>                    <span class="s2">&quot;event_on_g&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1237" name="__codelineno-0-1237"></a>                    <span class="s2">&quot;event_on_g_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1238" name="__codelineno-0-1238"></a>                <span class="p">]</span>
<a id="__codelineno-0-1239" name="__codelineno-0-1239"></a>
<a id="__codelineno-0-1240" name="__codelineno-0-1240"></a>            <span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="s2">&quot;d&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1241" name="__codelineno-0-1241"></a>                <span class="n">group_list</span> <span class="o">=</span> <span class="n">group_list</span> <span class="o">+</span> <span class="p">[</span>
<a id="__codelineno-0-1242" name="__codelineno-0-1242"></a>                    <span class="s2">&quot;event_on_f&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1243" name="__codelineno-0-1243"></a>                    <span class="s2">&quot;event_on_f_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1244" name="__codelineno-0-1244"></a>                    <span class="s2">&quot;event_on_g&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1245" name="__codelineno-0-1245"></a>                    <span class="s2">&quot;event_on_g_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1246" name="__codelineno-0-1246"></a>                <span class="p">]</span>
<a id="__codelineno-0-1247" name="__codelineno-0-1247"></a>
<a id="__codelineno-0-1248" name="__codelineno-0-1248"></a>        <span class="c1"># Accounting for opposition</span>
<a id="__codelineno-0-1249" name="__codelineno-0-1249"></a>
<a id="__codelineno-0-1250" name="__codelineno-0-1250"></a>        <span class="k">if</span> <span class="n">opposition</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-1251" name="__codelineno-0-1251"></a>            <span class="n">group_list</span> <span class="o">=</span> <span class="n">group_list</span> <span class="o">+</span> <span class="p">[</span>
<a id="__codelineno-0-1252" name="__codelineno-0-1252"></a>                <span class="s2">&quot;opp_on_f&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1253" name="__codelineno-0-1253"></a>                <span class="s2">&quot;opp_on_f_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1254" name="__codelineno-0-1254"></a>                <span class="s2">&quot;opp_on_d&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1255" name="__codelineno-0-1255"></a>                <span class="s2">&quot;opp_on_d_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1256" name="__codelineno-0-1256"></a>                <span class="s2">&quot;opp_on_g&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1257" name="__codelineno-0-1257"></a>                <span class="s2">&quot;opp_on_g_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1258" name="__codelineno-0-1258"></a>            <span class="p">]</span>
<a id="__codelineno-0-1259" name="__codelineno-0-1259"></a>
<a id="__codelineno-0-1260" name="__codelineno-0-1260"></a>            <span class="k">if</span> <span class="s2">&quot;opp_team&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">group_list</span><span class="p">:</span>
<a id="__codelineno-0-1261" name="__codelineno-0-1261"></a>                <span class="n">group_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;opp_team&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1262" name="__codelineno-0-1262"></a>
<a id="__codelineno-0-1263" name="__codelineno-0-1263"></a>        <span class="c1"># Creating dictionary of statistics for the groupby function</span>
<a id="__codelineno-0-1264" name="__codelineno-0-1264"></a>
<a id="__codelineno-0-1265" name="__codelineno-0-1265"></a>        <span class="n">stats</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1266" name="__codelineno-0-1266"></a>            <span class="s2">&quot;pred_goal&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1267" name="__codelineno-0-1267"></a>            <span class="s2">&quot;pred_goal_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1268" name="__codelineno-0-1268"></a>            <span class="s2">&quot;corsi&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1269" name="__codelineno-0-1269"></a>            <span class="s2">&quot;corsi_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1270" name="__codelineno-0-1270"></a>            <span class="s2">&quot;fenwick&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1271" name="__codelineno-0-1271"></a>            <span class="s2">&quot;fenwick_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1272" name="__codelineno-0-1272"></a>            <span class="s2">&quot;goal&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1273" name="__codelineno-0-1273"></a>            <span class="s2">&quot;goal_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1274" name="__codelineno-0-1274"></a>            <span class="s2">&quot;miss&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1275" name="__codelineno-0-1275"></a>            <span class="s2">&quot;block&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1276" name="__codelineno-0-1276"></a>            <span class="s2">&quot;shot&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1277" name="__codelineno-0-1277"></a>            <span class="s2">&quot;shot_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1278" name="__codelineno-0-1278"></a>            <span class="s2">&quot;hd_goal&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1279" name="__codelineno-0-1279"></a>            <span class="s2">&quot;hd_shot&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1280" name="__codelineno-0-1280"></a>            <span class="s2">&quot;hd_fenwick&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1281" name="__codelineno-0-1281"></a>            <span class="s2">&quot;hd_miss&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1282" name="__codelineno-0-1282"></a>            <span class="s2">&quot;event_length&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1283" name="__codelineno-0-1283"></a>            <span class="s2">&quot;fac&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1284" name="__codelineno-0-1284"></a>            <span class="s2">&quot;ozf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1285" name="__codelineno-0-1285"></a>            <span class="s2">&quot;nzf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1286" name="__codelineno-0-1286"></a>            <span class="s2">&quot;dzf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1287" name="__codelineno-0-1287"></a>            <span class="s2">&quot;hit&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1288" name="__codelineno-0-1288"></a>            <span class="s2">&quot;give&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1289" name="__codelineno-0-1289"></a>            <span class="s2">&quot;take&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1290" name="__codelineno-0-1290"></a>            <span class="s2">&quot;pen0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1291" name="__codelineno-0-1291"></a>            <span class="s2">&quot;pen2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1292" name="__codelineno-0-1292"></a>            <span class="s2">&quot;pen4&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1293" name="__codelineno-0-1293"></a>            <span class="s2">&quot;pen5&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1294" name="__codelineno-0-1294"></a>            <span class="s2">&quot;pen10&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1295" name="__codelineno-0-1295"></a>        <span class="p">]</span>
<a id="__codelineno-0-1296" name="__codelineno-0-1296"></a>
<a id="__codelineno-0-1297" name="__codelineno-0-1297"></a>        <span class="n">agg_stats</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="s2">&quot;sum&quot;</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">stats</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">pbp</span><span class="o">.</span><span class="n">columns</span><span class="p">}</span>
<a id="__codelineno-0-1298" name="__codelineno-0-1298"></a>
<a id="__codelineno-0-1299" name="__codelineno-0-1299"></a>        <span class="c1"># Aggregating the &quot;for&quot; dataframe</span>
<a id="__codelineno-0-1300" name="__codelineno-0-1300"></a>
<a id="__codelineno-0-1301" name="__codelineno-0-1301"></a>        <span class="n">lines_f</span> <span class="o">=</span> <span class="n">pbp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">group_list</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_stats</span><span class="p">)</span>
<a id="__codelineno-0-1302" name="__codelineno-0-1302"></a>
<a id="__codelineno-0-1303" name="__codelineno-0-1303"></a>        <span class="c1"># Creating the dictionary to change column names</span>
<a id="__codelineno-0-1304" name="__codelineno-0-1304"></a>
<a id="__codelineno-0-1305" name="__codelineno-0-1305"></a>        <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1306" name="__codelineno-0-1306"></a>            <span class="s2">&quot;xgf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1307" name="__codelineno-0-1307"></a>            <span class="s2">&quot;xgf_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1308" name="__codelineno-0-1308"></a>            <span class="s2">&quot;cf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1309" name="__codelineno-0-1309"></a>            <span class="s2">&quot;cf_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1310" name="__codelineno-0-1310"></a>            <span class="s2">&quot;ff&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1311" name="__codelineno-0-1311"></a>            <span class="s2">&quot;ff_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1312" name="__codelineno-0-1312"></a>            <span class="s2">&quot;gf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1313" name="__codelineno-0-1313"></a>            <span class="s2">&quot;gf_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1314" name="__codelineno-0-1314"></a>            <span class="s2">&quot;msf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1315" name="__codelineno-0-1315"></a>            <span class="s2">&quot;bsf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1316" name="__codelineno-0-1316"></a>            <span class="s2">&quot;sf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1317" name="__codelineno-0-1317"></a>            <span class="s2">&quot;sf_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1318" name="__codelineno-0-1318"></a>            <span class="s2">&quot;hdgf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1319" name="__codelineno-0-1319"></a>            <span class="s2">&quot;hdsf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1320" name="__codelineno-0-1320"></a>            <span class="s2">&quot;hdff&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1321" name="__codelineno-0-1321"></a>            <span class="s2">&quot;hdmsf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1322" name="__codelineno-0-1322"></a>            <span class="s2">&quot;toi&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1323" name="__codelineno-0-1323"></a>            <span class="s2">&quot;fow&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1324" name="__codelineno-0-1324"></a>            <span class="s2">&quot;ozfw&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1325" name="__codelineno-0-1325"></a>            <span class="s2">&quot;nzfw&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1326" name="__codelineno-0-1326"></a>            <span class="s2">&quot;dzfw&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1327" name="__codelineno-0-1327"></a>            <span class="s2">&quot;hf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1328" name="__codelineno-0-1328"></a>            <span class="s2">&quot;give&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1329" name="__codelineno-0-1329"></a>            <span class="s2">&quot;take&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1330" name="__codelineno-0-1330"></a>            <span class="s2">&quot;pent0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1331" name="__codelineno-0-1331"></a>            <span class="s2">&quot;pent2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1332" name="__codelineno-0-1332"></a>            <span class="s2">&quot;pent4&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1333" name="__codelineno-0-1333"></a>            <span class="s2">&quot;pent5&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1334" name="__codelineno-0-1334"></a>            <span class="s2">&quot;pent10&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1335" name="__codelineno-0-1335"></a>        <span class="p">]</span>
<a id="__codelineno-0-1336" name="__codelineno-0-1336"></a>
<a id="__codelineno-0-1337" name="__codelineno-0-1337"></a>        <span class="n">columns</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="n">columns</span><span class="p">))</span>
<a id="__codelineno-0-1338" name="__codelineno-0-1338"></a>
<a id="__codelineno-0-1339" name="__codelineno-0-1339"></a>        <span class="c1"># Accounting for positions</span>
<a id="__codelineno-0-1340" name="__codelineno-0-1340"></a>
<a id="__codelineno-0-1341" name="__codelineno-0-1341"></a>        <span class="n">columns</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
<a id="__codelineno-0-1342" name="__codelineno-0-1342"></a>            <span class="p">{</span>
<a id="__codelineno-0-1343" name="__codelineno-0-1343"></a>                <span class="s2">&quot;event_on_f&quot;</span><span class="p">:</span> <span class="s2">&quot;forwards&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1344" name="__codelineno-0-1344"></a>                <span class="s2">&quot;event_on_f_id&quot;</span><span class="p">:</span> <span class="s2">&quot;forwards_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1345" name="__codelineno-0-1345"></a>                <span class="s2">&quot;event_team&quot;</span><span class="p">:</span> <span class="s2">&quot;team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1346" name="__codelineno-0-1346"></a>                <span class="s2">&quot;event_on_d&quot;</span><span class="p">:</span> <span class="s2">&quot;defense&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1347" name="__codelineno-0-1347"></a>                <span class="s2">&quot;event_on_d_id&quot;</span><span class="p">:</span> <span class="s2">&quot;defense_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1348" name="__codelineno-0-1348"></a>                <span class="s2">&quot;event_on_g&quot;</span><span class="p">:</span> <span class="s2">&quot;own_goalie&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1349" name="__codelineno-0-1349"></a>                <span class="s2">&quot;event_on_g_id&quot;</span><span class="p">:</span> <span class="s2">&quot;own_goalie_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1350" name="__codelineno-0-1350"></a>                <span class="s2">&quot;opp_on_f&quot;</span><span class="p">:</span> <span class="s2">&quot;opp_forwards&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1351" name="__codelineno-0-1351"></a>                <span class="s2">&quot;opp_on_f_id&quot;</span><span class="p">:</span> <span class="s2">&quot;opp_forwards_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1352" name="__codelineno-0-1352"></a>                <span class="s2">&quot;opp_on_d&quot;</span><span class="p">:</span> <span class="s2">&quot;opp_defense&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1353" name="__codelineno-0-1353"></a>                <span class="s2">&quot;opp_on_d_id&quot;</span><span class="p">:</span> <span class="s2">&quot;opp_defense_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1354" name="__codelineno-0-1354"></a>                <span class="s2">&quot;opp_on_g&quot;</span><span class="p">:</span> <span class="s2">&quot;opp_goalie&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1355" name="__codelineno-0-1355"></a>                <span class="s2">&quot;opp_on_g_id&quot;</span><span class="p">:</span> <span class="s2">&quot;opp_goalie_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1356" name="__codelineno-0-1356"></a>            <span class="p">}</span>
<a id="__codelineno-0-1357" name="__codelineno-0-1357"></a>        <span class="p">)</span>
<a id="__codelineno-0-1358" name="__codelineno-0-1358"></a>
<a id="__codelineno-0-1359" name="__codelineno-0-1359"></a>        <span class="c1"># columns = {k: v for k, v in columns.items() if k in lines_f.columns}</span>
<a id="__codelineno-0-1360" name="__codelineno-0-1360"></a>
<a id="__codelineno-0-1361" name="__codelineno-0-1361"></a>        <span class="n">lines_f</span> <span class="o">=</span> <span class="n">lines_f</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
<a id="__codelineno-0-1362" name="__codelineno-0-1362"></a>
<a id="__codelineno-0-1363" name="__codelineno-0-1363"></a>        <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1364" name="__codelineno-0-1364"></a>            <span class="s2">&quot;forwards&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1365" name="__codelineno-0-1365"></a>            <span class="s2">&quot;forwards_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1366" name="__codelineno-0-1366"></a>            <span class="s2">&quot;defense&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1367" name="__codelineno-0-1367"></a>            <span class="s2">&quot;defense_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1368" name="__codelineno-0-1368"></a>            <span class="s2">&quot;own_goalie&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1369" name="__codelineno-0-1369"></a>            <span class="s2">&quot;own_goalie_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1370" name="__codelineno-0-1370"></a>            <span class="s2">&quot;opp_forwards&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1371" name="__codelineno-0-1371"></a>            <span class="s2">&quot;opp_forwards_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1372" name="__codelineno-0-1372"></a>            <span class="s2">&quot;opp_defense&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1373" name="__codelineno-0-1373"></a>            <span class="s2">&quot;opp_defense_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1374" name="__codelineno-0-1374"></a>            <span class="s2">&quot;opp_goalie&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1375" name="__codelineno-0-1375"></a>            <span class="s2">&quot;opp_goalie_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1376" name="__codelineno-0-1376"></a>        <span class="p">]</span>
<a id="__codelineno-0-1377" name="__codelineno-0-1377"></a>
<a id="__codelineno-0-1378" name="__codelineno-0-1378"></a>        <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">cols</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">lines_f</span><span class="p">]</span>
<a id="__codelineno-0-1379" name="__codelineno-0-1379"></a>
<a id="__codelineno-0-1380" name="__codelineno-0-1380"></a>        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">:</span>
<a id="__codelineno-0-1381" name="__codelineno-0-1381"></a>            <span class="n">lines_f</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">lines_f</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;EMPTY&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1382" name="__codelineno-0-1382"></a>
<a id="__codelineno-0-1383" name="__codelineno-0-1383"></a>        <span class="c1"># Creating the against dataframe</span>
<a id="__codelineno-0-1384" name="__codelineno-0-1384"></a>
<a id="__codelineno-0-1385" name="__codelineno-0-1385"></a>        <span class="c1"># Accounting for desired level of aggregation</span>
<a id="__codelineno-0-1386" name="__codelineno-0-1386"></a>
<a id="__codelineno-0-1387" name="__codelineno-0-1387"></a>        <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;session&quot;</span> <span class="ow">or</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;season&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1388" name="__codelineno-0-1388"></a>            <span class="n">group_base</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;season&quot;</span><span class="p">,</span> <span class="s2">&quot;session&quot;</span><span class="p">,</span> <span class="s2">&quot;opp_team&quot;</span><span class="p">,</span> <span class="s2">&quot;opp_strength_state&quot;</span><span class="p">]</span>
<a id="__codelineno-0-1389" name="__codelineno-0-1389"></a>
<a id="__codelineno-0-1390" name="__codelineno-0-1390"></a>        <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;game&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1391" name="__codelineno-0-1391"></a>            <span class="n">group_base</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1392" name="__codelineno-0-1392"></a>                <span class="s2">&quot;season&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1393" name="__codelineno-0-1393"></a>                <span class="s2">&quot;game_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1394" name="__codelineno-0-1394"></a>                <span class="s2">&quot;game_date&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1395" name="__codelineno-0-1395"></a>                <span class="s2">&quot;session&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1396" name="__codelineno-0-1396"></a>                <span class="s2">&quot;event_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1397" name="__codelineno-0-1397"></a>                <span class="s2">&quot;opp_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1398" name="__codelineno-0-1398"></a>                <span class="s2">&quot;opp_strength_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1399" name="__codelineno-0-1399"></a>            <span class="p">]</span>
<a id="__codelineno-0-1400" name="__codelineno-0-1400"></a>
<a id="__codelineno-0-1401" name="__codelineno-0-1401"></a>        <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;period&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1402" name="__codelineno-0-1402"></a>            <span class="n">group_base</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1403" name="__codelineno-0-1403"></a>                <span class="s2">&quot;season&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1404" name="__codelineno-0-1404"></a>                <span class="s2">&quot;game_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1405" name="__codelineno-0-1405"></a>                <span class="s2">&quot;game_date&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1406" name="__codelineno-0-1406"></a>                <span class="s2">&quot;session&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1407" name="__codelineno-0-1407"></a>                <span class="s2">&quot;event_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1408" name="__codelineno-0-1408"></a>                <span class="s2">&quot;opp_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1409" name="__codelineno-0-1409"></a>                <span class="s2">&quot;game_period&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1410" name="__codelineno-0-1410"></a>                <span class="s2">&quot;opp_strength_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1411" name="__codelineno-0-1411"></a>            <span class="p">]</span>
<a id="__codelineno-0-1412" name="__codelineno-0-1412"></a>
<a id="__codelineno-0-1413" name="__codelineno-0-1413"></a>        <span class="c1"># Accounting for score state</span>
<a id="__codelineno-0-1414" name="__codelineno-0-1414"></a>
<a id="__codelineno-0-1415" name="__codelineno-0-1415"></a>        <span class="k">if</span> <span class="n">score</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-1416" name="__codelineno-0-1416"></a>            <span class="n">group_base</span> <span class="o">=</span> <span class="n">group_base</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;opp_score_state&quot;</span><span class="p">]</span>
<a id="__codelineno-0-1417" name="__codelineno-0-1417"></a>
<a id="__codelineno-0-1418" name="__codelineno-0-1418"></a>        <span class="c1"># Accounting for desired position</span>
<a id="__codelineno-0-1419" name="__codelineno-0-1419"></a>
<a id="__codelineno-0-1420" name="__codelineno-0-1420"></a>        <span class="n">group_list</span> <span class="o">=</span> <span class="n">group_base</span> <span class="o">+</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;opp_on_</span><span class="si">{</span><span class="n">position</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;opp_on_</span><span class="si">{</span><span class="n">position</span><span class="si">}</span><span class="s2">_id&quot;</span><span class="p">]</span>
<a id="__codelineno-0-1421" name="__codelineno-0-1421"></a>
<a id="__codelineno-0-1422" name="__codelineno-0-1422"></a>        <span class="c1"># Accounting for teammates</span>
<a id="__codelineno-0-1423" name="__codelineno-0-1423"></a>
<a id="__codelineno-0-1424" name="__codelineno-0-1424"></a>        <span class="k">if</span> <span class="n">teammates</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-1425" name="__codelineno-0-1425"></a>            <span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="s2">&quot;f&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1426" name="__codelineno-0-1426"></a>                <span class="n">group_list</span> <span class="o">=</span> <span class="n">group_list</span> <span class="o">+</span> <span class="p">[</span>
<a id="__codelineno-0-1427" name="__codelineno-0-1427"></a>                    <span class="s2">&quot;opp_on_d&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1428" name="__codelineno-0-1428"></a>                    <span class="s2">&quot;opp_on_d_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1429" name="__codelineno-0-1429"></a>                    <span class="s2">&quot;opp_on_g&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1430" name="__codelineno-0-1430"></a>                    <span class="s2">&quot;opp_on_g_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1431" name="__codelineno-0-1431"></a>                <span class="p">]</span>
<a id="__codelineno-0-1432" name="__codelineno-0-1432"></a>
<a id="__codelineno-0-1433" name="__codelineno-0-1433"></a>            <span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="s2">&quot;d&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1434" name="__codelineno-0-1434"></a>                <span class="n">group_list</span> <span class="o">=</span> <span class="n">group_list</span> <span class="o">+</span> <span class="p">[</span>
<a id="__codelineno-0-1435" name="__codelineno-0-1435"></a>                    <span class="s2">&quot;opp_on_f&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1436" name="__codelineno-0-1436"></a>                    <span class="s2">&quot;opp_on_f_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1437" name="__codelineno-0-1437"></a>                    <span class="s2">&quot;opp_on_g&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1438" name="__codelineno-0-1438"></a>                    <span class="s2">&quot;opp_on_g_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1439" name="__codelineno-0-1439"></a>                <span class="p">]</span>
<a id="__codelineno-0-1440" name="__codelineno-0-1440"></a>
<a id="__codelineno-0-1441" name="__codelineno-0-1441"></a>        <span class="c1"># Accounting for opposition</span>
<a id="__codelineno-0-1442" name="__codelineno-0-1442"></a>
<a id="__codelineno-0-1443" name="__codelineno-0-1443"></a>        <span class="k">if</span> <span class="n">opposition</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-1444" name="__codelineno-0-1444"></a>            <span class="n">group_list</span> <span class="o">=</span> <span class="n">group_list</span> <span class="o">+</span> <span class="p">[</span>
<a id="__codelineno-0-1445" name="__codelineno-0-1445"></a>                <span class="s2">&quot;event_on_f&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1446" name="__codelineno-0-1446"></a>                <span class="s2">&quot;event_on_f_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1447" name="__codelineno-0-1447"></a>                <span class="s2">&quot;event_on_d&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1448" name="__codelineno-0-1448"></a>                <span class="s2">&quot;event_on_d_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1449" name="__codelineno-0-1449"></a>                <span class="s2">&quot;event_on_g&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1450" name="__codelineno-0-1450"></a>                <span class="s2">&quot;event_on_g_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1451" name="__codelineno-0-1451"></a>            <span class="p">]</span>
<a id="__codelineno-0-1452" name="__codelineno-0-1452"></a>
<a id="__codelineno-0-1453" name="__codelineno-0-1453"></a>            <span class="k">if</span> <span class="s2">&quot;event_team&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">group_list</span><span class="p">:</span>
<a id="__codelineno-0-1454" name="__codelineno-0-1454"></a>                <span class="n">group_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;event_team&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1455" name="__codelineno-0-1455"></a>
<a id="__codelineno-0-1456" name="__codelineno-0-1456"></a>        <span class="c1"># Creating dictionary of statistics for the groupby function</span>
<a id="__codelineno-0-1457" name="__codelineno-0-1457"></a>
<a id="__codelineno-0-1458" name="__codelineno-0-1458"></a>        <span class="n">stats</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1459" name="__codelineno-0-1459"></a>            <span class="s2">&quot;pred_goal&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1460" name="__codelineno-0-1460"></a>            <span class="s2">&quot;pred_goal_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1461" name="__codelineno-0-1461"></a>            <span class="s2">&quot;corsi&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1462" name="__codelineno-0-1462"></a>            <span class="s2">&quot;corsi_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1463" name="__codelineno-0-1463"></a>            <span class="s2">&quot;fenwick&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1464" name="__codelineno-0-1464"></a>            <span class="s2">&quot;fenwick_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1465" name="__codelineno-0-1465"></a>            <span class="s2">&quot;goal&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1466" name="__codelineno-0-1466"></a>            <span class="s2">&quot;goal_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1467" name="__codelineno-0-1467"></a>            <span class="s2">&quot;miss&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1468" name="__codelineno-0-1468"></a>            <span class="s2">&quot;block&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1469" name="__codelineno-0-1469"></a>            <span class="s2">&quot;shot&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1470" name="__codelineno-0-1470"></a>            <span class="s2">&quot;shot_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1471" name="__codelineno-0-1471"></a>            <span class="s2">&quot;hd_goal&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1472" name="__codelineno-0-1472"></a>            <span class="s2">&quot;hd_shot&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1473" name="__codelineno-0-1473"></a>            <span class="s2">&quot;hd_fenwick&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1474" name="__codelineno-0-1474"></a>            <span class="s2">&quot;hd_miss&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1475" name="__codelineno-0-1475"></a>            <span class="s2">&quot;event_length&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1476" name="__codelineno-0-1476"></a>            <span class="s2">&quot;fac&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1477" name="__codelineno-0-1477"></a>            <span class="s2">&quot;ozf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1478" name="__codelineno-0-1478"></a>            <span class="s2">&quot;nzf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1479" name="__codelineno-0-1479"></a>            <span class="s2">&quot;dzf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1480" name="__codelineno-0-1480"></a>            <span class="s2">&quot;hit&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1481" name="__codelineno-0-1481"></a>            <span class="s2">&quot;pen0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1482" name="__codelineno-0-1482"></a>            <span class="s2">&quot;pen2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1483" name="__codelineno-0-1483"></a>            <span class="s2">&quot;pen4&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1484" name="__codelineno-0-1484"></a>            <span class="s2">&quot;pen5&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1485" name="__codelineno-0-1485"></a>            <span class="s2">&quot;pen10&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1486" name="__codelineno-0-1486"></a>        <span class="p">]</span>
<a id="__codelineno-0-1487" name="__codelineno-0-1487"></a>
<a id="__codelineno-0-1488" name="__codelineno-0-1488"></a>        <span class="n">agg_stats</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="s2">&quot;sum&quot;</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">stats</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">pbp</span><span class="o">.</span><span class="n">columns</span><span class="p">}</span>
<a id="__codelineno-0-1489" name="__codelineno-0-1489"></a>
<a id="__codelineno-0-1490" name="__codelineno-0-1490"></a>        <span class="c1"># Aggregating &quot;against&quot; dataframe</span>
<a id="__codelineno-0-1491" name="__codelineno-0-1491"></a>
<a id="__codelineno-0-1492" name="__codelineno-0-1492"></a>        <span class="n">lines_a</span> <span class="o">=</span> <span class="n">pbp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">group_list</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_stats</span><span class="p">)</span>
<a id="__codelineno-0-1493" name="__codelineno-0-1493"></a>
<a id="__codelineno-0-1494" name="__codelineno-0-1494"></a>        <span class="c1"># Creating the dictionary to change column names</span>
<a id="__codelineno-0-1495" name="__codelineno-0-1495"></a>
<a id="__codelineno-0-1496" name="__codelineno-0-1496"></a>        <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1497" name="__codelineno-0-1497"></a>            <span class="s2">&quot;xga&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1498" name="__codelineno-0-1498"></a>            <span class="s2">&quot;xga_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1499" name="__codelineno-0-1499"></a>            <span class="s2">&quot;ca&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1500" name="__codelineno-0-1500"></a>            <span class="s2">&quot;ca_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1501" name="__codelineno-0-1501"></a>            <span class="s2">&quot;fa&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1502" name="__codelineno-0-1502"></a>            <span class="s2">&quot;fa_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1503" name="__codelineno-0-1503"></a>            <span class="s2">&quot;ga&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1504" name="__codelineno-0-1504"></a>            <span class="s2">&quot;ga_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1505" name="__codelineno-0-1505"></a>            <span class="s2">&quot;msa&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1506" name="__codelineno-0-1506"></a>            <span class="s2">&quot;bsa&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1507" name="__codelineno-0-1507"></a>            <span class="s2">&quot;sa&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1508" name="__codelineno-0-1508"></a>            <span class="s2">&quot;sa_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1509" name="__codelineno-0-1509"></a>            <span class="s2">&quot;hdga&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1510" name="__codelineno-0-1510"></a>            <span class="s2">&quot;hdsa&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1511" name="__codelineno-0-1511"></a>            <span class="s2">&quot;hdfa&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1512" name="__codelineno-0-1512"></a>            <span class="s2">&quot;hdmsa&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1513" name="__codelineno-0-1513"></a>            <span class="s2">&quot;toi&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1514" name="__codelineno-0-1514"></a>            <span class="s2">&quot;fol&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1515" name="__codelineno-0-1515"></a>            <span class="s2">&quot;ozfl&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1516" name="__codelineno-0-1516"></a>            <span class="s2">&quot;nzfl&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1517" name="__codelineno-0-1517"></a>            <span class="s2">&quot;dzfl&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1518" name="__codelineno-0-1518"></a>            <span class="s2">&quot;ht&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1519" name="__codelineno-0-1519"></a>            <span class="s2">&quot;pend0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1520" name="__codelineno-0-1520"></a>            <span class="s2">&quot;pend2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1521" name="__codelineno-0-1521"></a>            <span class="s2">&quot;pend4&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1522" name="__codelineno-0-1522"></a>            <span class="s2">&quot;pend5&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1523" name="__codelineno-0-1523"></a>            <span class="s2">&quot;pend10&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1524" name="__codelineno-0-1524"></a>        <span class="p">]</span>
<a id="__codelineno-0-1525" name="__codelineno-0-1525"></a>
<a id="__codelineno-0-1526" name="__codelineno-0-1526"></a>        <span class="n">columns</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="n">columns</span><span class="p">))</span>
<a id="__codelineno-0-1527" name="__codelineno-0-1527"></a>
<a id="__codelineno-0-1528" name="__codelineno-0-1528"></a>        <span class="c1"># Accounting for positions</span>
<a id="__codelineno-0-1529" name="__codelineno-0-1529"></a>
<a id="__codelineno-0-1530" name="__codelineno-0-1530"></a>        <span class="n">columns</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
<a id="__codelineno-0-1531" name="__codelineno-0-1531"></a>            <span class="p">{</span>
<a id="__codelineno-0-1532" name="__codelineno-0-1532"></a>                <span class="s2">&quot;opp_team&quot;</span><span class="p">:</span> <span class="s2">&quot;team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1533" name="__codelineno-0-1533"></a>                <span class="s2">&quot;event_team&quot;</span><span class="p">:</span> <span class="s2">&quot;opp_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1534" name="__codelineno-0-1534"></a>                <span class="s2">&quot;opp_on_f&quot;</span><span class="p">:</span> <span class="s2">&quot;forwards&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1535" name="__codelineno-0-1535"></a>                <span class="s2">&quot;opp_on_f_id&quot;</span><span class="p">:</span> <span class="s2">&quot;forwards_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1536" name="__codelineno-0-1536"></a>                <span class="s2">&quot;opp_strength_state&quot;</span><span class="p">:</span> <span class="s2">&quot;strength_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1537" name="__codelineno-0-1537"></a>                <span class="s2">&quot;opp_on_d&quot;</span><span class="p">:</span> <span class="s2">&quot;defense&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1538" name="__codelineno-0-1538"></a>                <span class="s2">&quot;opp_on_d_id&quot;</span><span class="p">:</span> <span class="s2">&quot;defense_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1539" name="__codelineno-0-1539"></a>                <span class="s2">&quot;event_on_f&quot;</span><span class="p">:</span> <span class="s2">&quot;opp_forwards&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1540" name="__codelineno-0-1540"></a>                <span class="s2">&quot;event_on_f_id&quot;</span><span class="p">:</span> <span class="s2">&quot;opp_forwards_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1541" name="__codelineno-0-1541"></a>                <span class="s2">&quot;event_on_d&quot;</span><span class="p">:</span> <span class="s2">&quot;opp_defense&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1542" name="__codelineno-0-1542"></a>                <span class="s2">&quot;event_on_d_id&quot;</span><span class="p">:</span> <span class="s2">&quot;opp_defense_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1543" name="__codelineno-0-1543"></a>                <span class="s2">&quot;opp_score_state&quot;</span><span class="p">:</span> <span class="s2">&quot;score_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1544" name="__codelineno-0-1544"></a>                <span class="s2">&quot;event_on_g&quot;</span><span class="p">:</span> <span class="s2">&quot;opp_goalie&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1545" name="__codelineno-0-1545"></a>                <span class="s2">&quot;event_on_g_id&quot;</span><span class="p">:</span> <span class="s2">&quot;opp_goalie_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1546" name="__codelineno-0-1546"></a>                <span class="s2">&quot;opp_on_g&quot;</span><span class="p">:</span> <span class="s2">&quot;own_goalie&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1547" name="__codelineno-0-1547"></a>                <span class="s2">&quot;opp_on_g_id&quot;</span><span class="p">:</span> <span class="s2">&quot;own_goalie_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1548" name="__codelineno-0-1548"></a>            <span class="p">}</span>
<a id="__codelineno-0-1549" name="__codelineno-0-1549"></a>        <span class="p">)</span>
<a id="__codelineno-0-1550" name="__codelineno-0-1550"></a>
<a id="__codelineno-0-1551" name="__codelineno-0-1551"></a>        <span class="c1"># columns = {k: v for k, v in columns.items() if k in lines_a.columns}</span>
<a id="__codelineno-0-1552" name="__codelineno-0-1552"></a>
<a id="__codelineno-0-1553" name="__codelineno-0-1553"></a>        <span class="n">lines_a</span> <span class="o">=</span> <span class="n">lines_a</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
<a id="__codelineno-0-1554" name="__codelineno-0-1554"></a>
<a id="__codelineno-0-1555" name="__codelineno-0-1555"></a>        <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1556" name="__codelineno-0-1556"></a>            <span class="s2">&quot;forwards&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1557" name="__codelineno-0-1557"></a>            <span class="s2">&quot;forwards_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1558" name="__codelineno-0-1558"></a>            <span class="s2">&quot;defense&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1559" name="__codelineno-0-1559"></a>            <span class="s2">&quot;defense_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1560" name="__codelineno-0-1560"></a>            <span class="s2">&quot;own_goalie&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1561" name="__codelineno-0-1561"></a>            <span class="s2">&quot;own_goalie_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1562" name="__codelineno-0-1562"></a>            <span class="s2">&quot;opp_forwards&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1563" name="__codelineno-0-1563"></a>            <span class="s2">&quot;opp_forwards_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1564" name="__codelineno-0-1564"></a>            <span class="s2">&quot;opp_defense&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1565" name="__codelineno-0-1565"></a>            <span class="s2">&quot;opp_defense_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1566" name="__codelineno-0-1566"></a>            <span class="s2">&quot;opp_goalie&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1567" name="__codelineno-0-1567"></a>            <span class="s2">&quot;opp_goalie_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1568" name="__codelineno-0-1568"></a>        <span class="p">]</span>
<a id="__codelineno-0-1569" name="__codelineno-0-1569"></a>
<a id="__codelineno-0-1570" name="__codelineno-0-1570"></a>        <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">cols</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">lines_a</span><span class="p">]</span>
<a id="__codelineno-0-1571" name="__codelineno-0-1571"></a>
<a id="__codelineno-0-1572" name="__codelineno-0-1572"></a>        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">:</span>
<a id="__codelineno-0-1573" name="__codelineno-0-1573"></a>            <span class="n">lines_a</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">lines_a</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;EMPTY&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1574" name="__codelineno-0-1574"></a>
<a id="__codelineno-0-1575" name="__codelineno-0-1575"></a>        <span class="c1"># Merging the &quot;for&quot; and &quot;against&quot; dataframes</span>
<a id="__codelineno-0-1576" name="__codelineno-0-1576"></a>
<a id="__codelineno-0-1577" name="__codelineno-0-1577"></a>        <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;session&quot;</span> <span class="ow">or</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;season&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1578" name="__codelineno-0-1578"></a>            <span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="s2">&quot;f&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1579" name="__codelineno-0-1579"></a>                <span class="n">merge_list</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1580" name="__codelineno-0-1580"></a>                    <span class="s2">&quot;season&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1581" name="__codelineno-0-1581"></a>                    <span class="s2">&quot;session&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1582" name="__codelineno-0-1582"></a>                    <span class="s2">&quot;team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1583" name="__codelineno-0-1583"></a>                    <span class="s2">&quot;strength_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1584" name="__codelineno-0-1584"></a>                    <span class="s2">&quot;forwards&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1585" name="__codelineno-0-1585"></a>                    <span class="s2">&quot;forwards_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1586" name="__codelineno-0-1586"></a>                <span class="p">]</span>
<a id="__codelineno-0-1587" name="__codelineno-0-1587"></a>
<a id="__codelineno-0-1588" name="__codelineno-0-1588"></a>            <span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="s2">&quot;d&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1589" name="__codelineno-0-1589"></a>                <span class="n">merge_list</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1590" name="__codelineno-0-1590"></a>                    <span class="s2">&quot;season&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1591" name="__codelineno-0-1591"></a>                    <span class="s2">&quot;session&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1592" name="__codelineno-0-1592"></a>                    <span class="s2">&quot;team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1593" name="__codelineno-0-1593"></a>                    <span class="s2">&quot;strength_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1594" name="__codelineno-0-1594"></a>                    <span class="s2">&quot;defense&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1595" name="__codelineno-0-1595"></a>                    <span class="s2">&quot;defense_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1596" name="__codelineno-0-1596"></a>                <span class="p">]</span>
<a id="__codelineno-0-1597" name="__codelineno-0-1597"></a>
<a id="__codelineno-0-1598" name="__codelineno-0-1598"></a>        <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;game&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1599" name="__codelineno-0-1599"></a>            <span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="s2">&quot;f&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1600" name="__codelineno-0-1600"></a>                <span class="n">merge_list</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1601" name="__codelineno-0-1601"></a>                    <span class="s2">&quot;season&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1602" name="__codelineno-0-1602"></a>                    <span class="s2">&quot;game_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1603" name="__codelineno-0-1603"></a>                    <span class="s2">&quot;game_date&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1604" name="__codelineno-0-1604"></a>                    <span class="s2">&quot;session&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1605" name="__codelineno-0-1605"></a>                    <span class="s2">&quot;team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1606" name="__codelineno-0-1606"></a>                    <span class="s2">&quot;opp_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1607" name="__codelineno-0-1607"></a>                    <span class="s2">&quot;strength_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1608" name="__codelineno-0-1608"></a>                    <span class="s2">&quot;forwards&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1609" name="__codelineno-0-1609"></a>                    <span class="s2">&quot;forwards_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1610" name="__codelineno-0-1610"></a>                <span class="p">]</span>
<a id="__codelineno-0-1611" name="__codelineno-0-1611"></a>
<a id="__codelineno-0-1612" name="__codelineno-0-1612"></a>            <span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="s2">&quot;d&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1613" name="__codelineno-0-1613"></a>                <span class="n">merge_list</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1614" name="__codelineno-0-1614"></a>                    <span class="s2">&quot;season&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1615" name="__codelineno-0-1615"></a>                    <span class="s2">&quot;game_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1616" name="__codelineno-0-1616"></a>                    <span class="s2">&quot;game_date&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1617" name="__codelineno-0-1617"></a>                    <span class="s2">&quot;session&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1618" name="__codelineno-0-1618"></a>                    <span class="s2">&quot;team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1619" name="__codelineno-0-1619"></a>                    <span class="s2">&quot;opp_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1620" name="__codelineno-0-1620"></a>                    <span class="s2">&quot;strength_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1621" name="__codelineno-0-1621"></a>                    <span class="s2">&quot;defense&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1622" name="__codelineno-0-1622"></a>                    <span class="s2">&quot;defense_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1623" name="__codelineno-0-1623"></a>                <span class="p">]</span>
<a id="__codelineno-0-1624" name="__codelineno-0-1624"></a>
<a id="__codelineno-0-1625" name="__codelineno-0-1625"></a>        <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;period&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1626" name="__codelineno-0-1626"></a>            <span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="s2">&quot;f&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1627" name="__codelineno-0-1627"></a>                <span class="n">merge_list</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1628" name="__codelineno-0-1628"></a>                    <span class="s2">&quot;season&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1629" name="__codelineno-0-1629"></a>                    <span class="s2">&quot;game_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1630" name="__codelineno-0-1630"></a>                    <span class="s2">&quot;game_date&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1631" name="__codelineno-0-1631"></a>                    <span class="s2">&quot;session&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1632" name="__codelineno-0-1632"></a>                    <span class="s2">&quot;team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1633" name="__codelineno-0-1633"></a>                    <span class="s2">&quot;opp_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1634" name="__codelineno-0-1634"></a>                    <span class="s2">&quot;strength_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1635" name="__codelineno-0-1635"></a>                    <span class="s2">&quot;forwards&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1636" name="__codelineno-0-1636"></a>                    <span class="s2">&quot;forwards_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1637" name="__codelineno-0-1637"></a>                    <span class="s2">&quot;game_period&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1638" name="__codelineno-0-1638"></a>                <span class="p">]</span>
<a id="__codelineno-0-1639" name="__codelineno-0-1639"></a>
<a id="__codelineno-0-1640" name="__codelineno-0-1640"></a>            <span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="s2">&quot;d&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1641" name="__codelineno-0-1641"></a>                <span class="n">merge_list</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1642" name="__codelineno-0-1642"></a>                    <span class="s2">&quot;season&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1643" name="__codelineno-0-1643"></a>                    <span class="s2">&quot;game_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1644" name="__codelineno-0-1644"></a>                    <span class="s2">&quot;game_date&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1645" name="__codelineno-0-1645"></a>                    <span class="s2">&quot;session&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1646" name="__codelineno-0-1646"></a>                    <span class="s2">&quot;team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1647" name="__codelineno-0-1647"></a>                    <span class="s2">&quot;opp_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1648" name="__codelineno-0-1648"></a>                    <span class="s2">&quot;strength_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1649" name="__codelineno-0-1649"></a>                    <span class="s2">&quot;defense&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1650" name="__codelineno-0-1650"></a>                    <span class="s2">&quot;defense_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1651" name="__codelineno-0-1651"></a>                    <span class="s2">&quot;game_period&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1652" name="__codelineno-0-1652"></a>                <span class="p">]</span>
<a id="__codelineno-0-1653" name="__codelineno-0-1653"></a>
<a id="__codelineno-0-1654" name="__codelineno-0-1654"></a>        <span class="k">if</span> <span class="n">score</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-1655" name="__codelineno-0-1655"></a>            <span class="n">merge_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;score_state&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1656" name="__codelineno-0-1656"></a>
<a id="__codelineno-0-1657" name="__codelineno-0-1657"></a>        <span class="k">if</span> <span class="n">teammates</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-1658" name="__codelineno-0-1658"></a>            <span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="s2">&quot;f&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1659" name="__codelineno-0-1659"></a>                <span class="n">merge_list</span> <span class="o">=</span> <span class="n">merge_list</span> <span class="o">+</span> <span class="p">[</span>
<a id="__codelineno-0-1660" name="__codelineno-0-1660"></a>                    <span class="s2">&quot;defense&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1661" name="__codelineno-0-1661"></a>                    <span class="s2">&quot;defense_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1662" name="__codelineno-0-1662"></a>                    <span class="s2">&quot;own_goalie&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1663" name="__codelineno-0-1663"></a>                    <span class="s2">&quot;own_goalie_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1664" name="__codelineno-0-1664"></a>                <span class="p">]</span>
<a id="__codelineno-0-1665" name="__codelineno-0-1665"></a>
<a id="__codelineno-0-1666" name="__codelineno-0-1666"></a>            <span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="s2">&quot;d&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1667" name="__codelineno-0-1667"></a>                <span class="n">merge_list</span> <span class="o">=</span> <span class="n">merge_list</span> <span class="o">+</span> <span class="p">[</span>
<a id="__codelineno-0-1668" name="__codelineno-0-1668"></a>                    <span class="s2">&quot;forwards&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1669" name="__codelineno-0-1669"></a>                    <span class="s2">&quot;forwards_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1670" name="__codelineno-0-1670"></a>                    <span class="s2">&quot;own_goalie&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1671" name="__codelineno-0-1671"></a>                    <span class="s2">&quot;own_goalie_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1672" name="__codelineno-0-1672"></a>                <span class="p">]</span>
<a id="__codelineno-0-1673" name="__codelineno-0-1673"></a>
<a id="__codelineno-0-1674" name="__codelineno-0-1674"></a>        <span class="k">if</span> <span class="n">opposition</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-1675" name="__codelineno-0-1675"></a>            <span class="n">merge_list</span> <span class="o">=</span> <span class="n">merge_list</span> <span class="o">+</span> <span class="p">[</span>
<a id="__codelineno-0-1676" name="__codelineno-0-1676"></a>                <span class="s2">&quot;opp_forwards&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1677" name="__codelineno-0-1677"></a>                <span class="s2">&quot;opp_forwards_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1678" name="__codelineno-0-1678"></a>                <span class="s2">&quot;opp_defense&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1679" name="__codelineno-0-1679"></a>                <span class="s2">&quot;opp_defense_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1680" name="__codelineno-0-1680"></a>                <span class="s2">&quot;opp_goalie&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1681" name="__codelineno-0-1681"></a>                <span class="s2">&quot;opp_goalie_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1682" name="__codelineno-0-1682"></a>            <span class="p">]</span>
<a id="__codelineno-0-1683" name="__codelineno-0-1683"></a>
<a id="__codelineno-0-1684" name="__codelineno-0-1684"></a>            <span class="k">if</span> <span class="s2">&quot;opp_team&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">merge_list</span><span class="p">:</span>
<a id="__codelineno-0-1685" name="__codelineno-0-1685"></a>                <span class="n">merge_list</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;opp_team&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1686" name="__codelineno-0-1686"></a>
<a id="__codelineno-0-1687" name="__codelineno-0-1687"></a>        <span class="n">lines</span> <span class="o">=</span> <span class="n">lines_f</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
<a id="__codelineno-0-1688" name="__codelineno-0-1688"></a>            <span class="n">lines_a</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;outer&quot;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">merge_list</span><span class="p">,</span> <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;_x&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1689" name="__codelineno-0-1689"></a>        <span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-1690" name="__codelineno-0-1690"></a>
<a id="__codelineno-0-1691" name="__codelineno-0-1691"></a>        <span class="n">lines</span><span class="o">.</span><span class="n">toi</span> <span class="o">=</span> <span class="p">(</span><span class="n">lines</span><span class="o">.</span><span class="n">toi_x</span> <span class="o">+</span> <span class="n">lines</span><span class="o">.</span><span class="n">toi</span><span class="p">)</span> <span class="o">/</span> <span class="mi">60</span>
<a id="__codelineno-0-1692" name="__codelineno-0-1692"></a>
<a id="__codelineno-0-1693" name="__codelineno-0-1693"></a>        <span class="n">lines</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;toi_x&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1694" name="__codelineno-0-1694"></a>
<a id="__codelineno-0-1695" name="__codelineno-0-1695"></a>        <span class="n">lines</span><span class="p">[</span><span class="s2">&quot;ozf&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">ozfw</span> <span class="o">+</span> <span class="n">lines</span><span class="o">.</span><span class="n">ozfl</span>
<a id="__codelineno-0-1696" name="__codelineno-0-1696"></a>
<a id="__codelineno-0-1697" name="__codelineno-0-1697"></a>        <span class="n">lines</span><span class="p">[</span><span class="s2">&quot;nzf&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">nzfw</span> <span class="o">+</span> <span class="n">lines</span><span class="o">.</span><span class="n">nzfl</span>
<a id="__codelineno-0-1698" name="__codelineno-0-1698"></a>
<a id="__codelineno-0-1699" name="__codelineno-0-1699"></a>        <span class="n">lines</span><span class="p">[</span><span class="s2">&quot;dzf&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">dzfw</span> <span class="o">+</span> <span class="n">lines</span><span class="o">.</span><span class="n">dzfl</span>
<a id="__codelineno-0-1700" name="__codelineno-0-1700"></a>
<a id="__codelineno-0-1701" name="__codelineno-0-1701"></a>        <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">LineSchema</span><span class="o">.</span><span class="n">dtypes</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">lines</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
<a id="__codelineno-0-1702" name="__codelineno-0-1702"></a>
<a id="__codelineno-0-1703" name="__codelineno-0-1703"></a>        <span class="n">lines</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span>
<a id="__codelineno-0-1704" name="__codelineno-0-1704"></a>
<a id="__codelineno-0-1705" name="__codelineno-0-1705"></a>        <span class="n">lines</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">lines</span><span class="o">.</span><span class="n">toi</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-1706" name="__codelineno-0-1706"></a>
<a id="__codelineno-0-1707" name="__codelineno-0-1707"></a>        <span class="n">lines</span> <span class="o">=</span> <span class="n">LineSchema</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
<a id="__codelineno-0-1708" name="__codelineno-0-1708"></a>
<a id="__codelineno-0-1709" name="__codelineno-0-1709"></a>        <span class="n">pbar_message</span> <span class="o">=</span> <span class="s2">&quot;Finished prepping lines data&quot;</span>
<a id="__codelineno-0-1710" name="__codelineno-0-1710"></a>
<a id="__codelineno-0-1711" name="__codelineno-0-1711"></a>        <span class="n">progress</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">lines_task</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">pbar_message</span><span class="p">,</span> <span class="n">advance</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">refresh</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-1712" name="__codelineno-0-1712"></a>
<a id="__codelineno-0-1713" name="__codelineno-0-1713"></a>    <span class="k">return</span> <span class="n">lines</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="evolving_hockey.stats.prep_team" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">prep_team</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">prep_team</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">pbp</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">level</span><span class="o">=</span><span class="s2">&quot;game&quot;</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">strengths</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">score</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">disable_progress_bar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Prepares a team stats dataframe using Evolving Hockey data.</p>
<p>Aggregates to desired level. Capable of returning cuts that account for strength state,
period, and score state. Returns a Pandas DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>pbp</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dataframe from the prep_pbp function with the default columns argument</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>level</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level to aggregate stats, e.g., 'game'</p>
              </div>
            </td>
            <td>
                  <code>&#39;game&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>strengths</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to aggregate to strength state level, e.g., True</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>score</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to aggregate to score state level</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>disable_progress_bar</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to disable progress bar</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>season</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>8-digit season code, e.g., 20232024</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>session</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Regular season or playoffs, e.g., R</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>game_id</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>10-digit game identifier, e.g., 2023020044</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>game_date</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Date of game in Eastern time-zone, e.g., 2023-10-17</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>team</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>3-letter abbreviation of the team, e.g., NSH</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>opp_team</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>3-letter abbreviation of the opposing team, e.g., EDM</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>strength_state</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Strength state from the perspective of the event team, e.g., 5v5</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>score_state</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Score state from the perspective of the event team, e.g., 1v6</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>game_period</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Game period, e.g., 3</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>toi</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Time on-ice in minutes, e.g., 18</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>gf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of goals scored, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>gf_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted goals scored, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdgf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger goals scored, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ga</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of goals allowed, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ga_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted goals allowed, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdga</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger goals allowed, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>xgf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of expected goals generated, e.g., 0.957070</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>xgf_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted expected goals generated, e.g., 0.883376</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>xga</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of expected goals allowed, e.g., 0.535971</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>xga_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted expected goals allowed, e.g., 0.584744</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>sf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots taken, e.g., 10</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>sf_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted shots taken, e.g., 8.620</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdsf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger shots taken, e.g., 2</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>sa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots allowed, e.g., 4</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>sa_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted shots allowed, e.g., 4.764</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdsa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger shots allowed, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ff</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of fenwick events generated, e.g., 14</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ff_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted fenwick events generated, e.g., 12.026</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdff</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger fenwick events generated, e.g., 2</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>fa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of fenwick events allowed, e.g., 8</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>fa_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted fenwick events allowed, e.g., 9.576</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdfa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger fenwick events allowed, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>cf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of corsi events generated, e.g., 16</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>cf_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted corsi events generated, e.g., 13.488</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ca</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of corsi events allowed, e.g., 12.0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ca_adj</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of venue- and score-adjusted corsi events allowed, e.g., 14.760</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>bsf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots taken that were ultimately blocked, e.g., 4</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>bsa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots allowed that were ultimately blocked, e.g., 2</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>msf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots taken that missed net, e.g., 4</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdmsf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger shots taken that missed net, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>msa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of shots allowed that missed net, e.g., 4</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hdmsa</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of high-danger shots allowed that missed net, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ozf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of offensive zone faceoffs that occur, e.g., 6</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>nzf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of neutral zone faceoffs that occur, e.g., 4</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>dzf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of defensive zone faceoffs that occur, e.g., 6</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>fow</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of faceoffs won, e.g., 8</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>fol</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of faceoffs lost, e.g., 11</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ozfw</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of offensive zone faceoffs won, e.g., 3</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ozfl</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of offensive zone faceoffs lost, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>nzfw</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of neutral zone faceoffs won, e.g., 2</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>nzfl</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of neutral zone faceoffs lost, e.g., 3</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>dzfw</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of defensive zone faceoffs won, e.g., 3</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>dzfl</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of defensive zone faceoffs lost, e.g., 7</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>hf</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of hits dished out, e.g., 7</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>ht</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of hits taken, e.g., 5</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>give</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of giveaways, e.g., 5</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>take</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of takeaways, e.g., 1</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pent0</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 0-minute penalties taken, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pent2</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 2-minute penalties taken, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pent4</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 4-minute penalties taken, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pent5</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 5-minute penalties taken, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pent10</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 10-minute penalties taken, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pend0</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 0-minute penalties drawn, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pend2</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 2-minute penalties drawn, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pend4</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 4-minute penalties drawn, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pend5</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 5-minute penalties drawn, e.g., 0</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pend10</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sum of individual 10-minute penalties drawn, e.g., 0</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic play-by-play DataFrame</p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">shifts_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;./raw_shifts.csv&quot;</span><span class="p">)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pbp_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;./raw_pbp.csv&quot;</span><span class="p">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pbp</span> <span class="o">=</span> <span class="n">prep_pbp</span><span class="p">(</span><span class="n">pbp_raw</span><span class="p">,</span> <span class="n">shifts_raw</span><span class="p">)</span>
</code></pre></div>
    <p>Basic game-level stats for teams</p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">team</span> <span class="o">=</span> <span class="n">prep_team</span><span class="p">(</span><span class="n">pbp</span><span class="p">)</span>
</code></pre></div>
    <p>Period-level team stats, grouped by score state</p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">team</span> <span class="o">=</span> <span class="n">prep_team</span><span class="p">(</span><span class="n">pbp</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;period&quot;</span><span class="p">,</span> <span class="n">score</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/chickenstats/evolving_hockey/stats.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1717">1717</a></span>
<span class="normal"><a href="#__codelineno-0-1718">1718</a></span>
<span class="normal"><a href="#__codelineno-0-1719">1719</a></span>
<span class="normal"><a href="#__codelineno-0-1720">1720</a></span>
<span class="normal"><a href="#__codelineno-0-1721">1721</a></span>
<span class="normal"><a href="#__codelineno-0-1722">1722</a></span>
<span class="normal"><a href="#__codelineno-0-1723">1723</a></span>
<span class="normal"><a href="#__codelineno-0-1724">1724</a></span>
<span class="normal"><a href="#__codelineno-0-1725">1725</a></span>
<span class="normal"><a href="#__codelineno-0-1726">1726</a></span>
<span class="normal"><a href="#__codelineno-0-1727">1727</a></span>
<span class="normal"><a href="#__codelineno-0-1728">1728</a></span>
<span class="normal"><a href="#__codelineno-0-1729">1729</a></span>
<span class="normal"><a href="#__codelineno-0-1730">1730</a></span>
<span class="normal"><a href="#__codelineno-0-1731">1731</a></span>
<span class="normal"><a href="#__codelineno-0-1732">1732</a></span>
<span class="normal"><a href="#__codelineno-0-1733">1733</a></span>
<span class="normal"><a href="#__codelineno-0-1734">1734</a></span>
<span class="normal"><a href="#__codelineno-0-1735">1735</a></span>
<span class="normal"><a href="#__codelineno-0-1736">1736</a></span>
<span class="normal"><a href="#__codelineno-0-1737">1737</a></span>
<span class="normal"><a href="#__codelineno-0-1738">1738</a></span>
<span class="normal"><a href="#__codelineno-0-1739">1739</a></span>
<span class="normal"><a href="#__codelineno-0-1740">1740</a></span>
<span class="normal"><a href="#__codelineno-0-1741">1741</a></span>
<span class="normal"><a href="#__codelineno-0-1742">1742</a></span>
<span class="normal"><a href="#__codelineno-0-1743">1743</a></span>
<span class="normal"><a href="#__codelineno-0-1744">1744</a></span>
<span class="normal"><a href="#__codelineno-0-1745">1745</a></span>
<span class="normal"><a href="#__codelineno-0-1746">1746</a></span>
<span class="normal"><a href="#__codelineno-0-1747">1747</a></span>
<span class="normal"><a href="#__codelineno-0-1748">1748</a></span>
<span class="normal"><a href="#__codelineno-0-1749">1749</a></span>
<span class="normal"><a href="#__codelineno-0-1750">1750</a></span>
<span class="normal"><a href="#__codelineno-0-1751">1751</a></span>
<span class="normal"><a href="#__codelineno-0-1752">1752</a></span>
<span class="normal"><a href="#__codelineno-0-1753">1753</a></span>
<span class="normal"><a href="#__codelineno-0-1754">1754</a></span>
<span class="normal"><a href="#__codelineno-0-1755">1755</a></span>
<span class="normal"><a href="#__codelineno-0-1756">1756</a></span>
<span class="normal"><a href="#__codelineno-0-1757">1757</a></span>
<span class="normal"><a href="#__codelineno-0-1758">1758</a></span>
<span class="normal"><a href="#__codelineno-0-1759">1759</a></span>
<span class="normal"><a href="#__codelineno-0-1760">1760</a></span>
<span class="normal"><a href="#__codelineno-0-1761">1761</a></span>
<span class="normal"><a href="#__codelineno-0-1762">1762</a></span>
<span class="normal"><a href="#__codelineno-0-1763">1763</a></span>
<span class="normal"><a href="#__codelineno-0-1764">1764</a></span>
<span class="normal"><a href="#__codelineno-0-1765">1765</a></span>
<span class="normal"><a href="#__codelineno-0-1766">1766</a></span>
<span class="normal"><a href="#__codelineno-0-1767">1767</a></span>
<span class="normal"><a href="#__codelineno-0-1768">1768</a></span>
<span class="normal"><a href="#__codelineno-0-1769">1769</a></span>
<span class="normal"><a href="#__codelineno-0-1770">1770</a></span>
<span class="normal"><a href="#__codelineno-0-1771">1771</a></span>
<span class="normal"><a href="#__codelineno-0-1772">1772</a></span>
<span class="normal"><a href="#__codelineno-0-1773">1773</a></span>
<span class="normal"><a href="#__codelineno-0-1774">1774</a></span>
<span class="normal"><a href="#__codelineno-0-1775">1775</a></span>
<span class="normal"><a href="#__codelineno-0-1776">1776</a></span>
<span class="normal"><a href="#__codelineno-0-1777">1777</a></span>
<span class="normal"><a href="#__codelineno-0-1778">1778</a></span>
<span class="normal"><a href="#__codelineno-0-1779">1779</a></span>
<span class="normal"><a href="#__codelineno-0-1780">1780</a></span>
<span class="normal"><a href="#__codelineno-0-1781">1781</a></span>
<span class="normal"><a href="#__codelineno-0-1782">1782</a></span>
<span class="normal"><a href="#__codelineno-0-1783">1783</a></span>
<span class="normal"><a href="#__codelineno-0-1784">1784</a></span>
<span class="normal"><a href="#__codelineno-0-1785">1785</a></span>
<span class="normal"><a href="#__codelineno-0-1786">1786</a></span>
<span class="normal"><a href="#__codelineno-0-1787">1787</a></span>
<span class="normal"><a href="#__codelineno-0-1788">1788</a></span>
<span class="normal"><a href="#__codelineno-0-1789">1789</a></span>
<span class="normal"><a href="#__codelineno-0-1790">1790</a></span>
<span class="normal"><a href="#__codelineno-0-1791">1791</a></span>
<span class="normal"><a href="#__codelineno-0-1792">1792</a></span>
<span class="normal"><a href="#__codelineno-0-1793">1793</a></span>
<span class="normal"><a href="#__codelineno-0-1794">1794</a></span>
<span class="normal"><a href="#__codelineno-0-1795">1795</a></span>
<span class="normal"><a href="#__codelineno-0-1796">1796</a></span>
<span class="normal"><a href="#__codelineno-0-1797">1797</a></span>
<span class="normal"><a href="#__codelineno-0-1798">1798</a></span>
<span class="normal"><a href="#__codelineno-0-1799">1799</a></span>
<span class="normal"><a href="#__codelineno-0-1800">1800</a></span>
<span class="normal"><a href="#__codelineno-0-1801">1801</a></span>
<span class="normal"><a href="#__codelineno-0-1802">1802</a></span>
<span class="normal"><a href="#__codelineno-0-1803">1803</a></span>
<span class="normal"><a href="#__codelineno-0-1804">1804</a></span>
<span class="normal"><a href="#__codelineno-0-1805">1805</a></span>
<span class="normal"><a href="#__codelineno-0-1806">1806</a></span>
<span class="normal"><a href="#__codelineno-0-1807">1807</a></span>
<span class="normal"><a href="#__codelineno-0-1808">1808</a></span>
<span class="normal"><a href="#__codelineno-0-1809">1809</a></span>
<span class="normal"><a href="#__codelineno-0-1810">1810</a></span>
<span class="normal"><a href="#__codelineno-0-1811">1811</a></span>
<span class="normal"><a href="#__codelineno-0-1812">1812</a></span>
<span class="normal"><a href="#__codelineno-0-1813">1813</a></span>
<span class="normal"><a href="#__codelineno-0-1814">1814</a></span>
<span class="normal"><a href="#__codelineno-0-1815">1815</a></span>
<span class="normal"><a href="#__codelineno-0-1816">1816</a></span>
<span class="normal"><a href="#__codelineno-0-1817">1817</a></span>
<span class="normal"><a href="#__codelineno-0-1818">1818</a></span>
<span class="normal"><a href="#__codelineno-0-1819">1819</a></span>
<span class="normal"><a href="#__codelineno-0-1820">1820</a></span>
<span class="normal"><a href="#__codelineno-0-1821">1821</a></span>
<span class="normal"><a href="#__codelineno-0-1822">1822</a></span>
<span class="normal"><a href="#__codelineno-0-1823">1823</a></span>
<span class="normal"><a href="#__codelineno-0-1824">1824</a></span>
<span class="normal"><a href="#__codelineno-0-1825">1825</a></span>
<span class="normal"><a href="#__codelineno-0-1826">1826</a></span>
<span class="normal"><a href="#__codelineno-0-1827">1827</a></span>
<span class="normal"><a href="#__codelineno-0-1828">1828</a></span>
<span class="normal"><a href="#__codelineno-0-1829">1829</a></span>
<span class="normal"><a href="#__codelineno-0-1830">1830</a></span>
<span class="normal"><a href="#__codelineno-0-1831">1831</a></span>
<span class="normal"><a href="#__codelineno-0-1832">1832</a></span>
<span class="normal"><a href="#__codelineno-0-1833">1833</a></span>
<span class="normal"><a href="#__codelineno-0-1834">1834</a></span>
<span class="normal"><a href="#__codelineno-0-1835">1835</a></span>
<span class="normal"><a href="#__codelineno-0-1836">1836</a></span>
<span class="normal"><a href="#__codelineno-0-1837">1837</a></span>
<span class="normal"><a href="#__codelineno-0-1838">1838</a></span>
<span class="normal"><a href="#__codelineno-0-1839">1839</a></span>
<span class="normal"><a href="#__codelineno-0-1840">1840</a></span>
<span class="normal"><a href="#__codelineno-0-1841">1841</a></span>
<span class="normal"><a href="#__codelineno-0-1842">1842</a></span>
<span class="normal"><a href="#__codelineno-0-1843">1843</a></span>
<span class="normal"><a href="#__codelineno-0-1844">1844</a></span>
<span class="normal"><a href="#__codelineno-0-1845">1845</a></span>
<span class="normal"><a href="#__codelineno-0-1846">1846</a></span>
<span class="normal"><a href="#__codelineno-0-1847">1847</a></span>
<span class="normal"><a href="#__codelineno-0-1848">1848</a></span>
<span class="normal"><a href="#__codelineno-0-1849">1849</a></span>
<span class="normal"><a href="#__codelineno-0-1850">1850</a></span>
<span class="normal"><a href="#__codelineno-0-1851">1851</a></span>
<span class="normal"><a href="#__codelineno-0-1852">1852</a></span>
<span class="normal"><a href="#__codelineno-0-1853">1853</a></span>
<span class="normal"><a href="#__codelineno-0-1854">1854</a></span>
<span class="normal"><a href="#__codelineno-0-1855">1855</a></span>
<span class="normal"><a href="#__codelineno-0-1856">1856</a></span>
<span class="normal"><a href="#__codelineno-0-1857">1857</a></span>
<span class="normal"><a href="#__codelineno-0-1858">1858</a></span>
<span class="normal"><a href="#__codelineno-0-1859">1859</a></span>
<span class="normal"><a href="#__codelineno-0-1860">1860</a></span>
<span class="normal"><a href="#__codelineno-0-1861">1861</a></span>
<span class="normal"><a href="#__codelineno-0-1862">1862</a></span>
<span class="normal"><a href="#__codelineno-0-1863">1863</a></span>
<span class="normal"><a href="#__codelineno-0-1864">1864</a></span>
<span class="normal"><a href="#__codelineno-0-1865">1865</a></span>
<span class="normal"><a href="#__codelineno-0-1866">1866</a></span>
<span class="normal"><a href="#__codelineno-0-1867">1867</a></span>
<span class="normal"><a href="#__codelineno-0-1868">1868</a></span>
<span class="normal"><a href="#__codelineno-0-1869">1869</a></span>
<span class="normal"><a href="#__codelineno-0-1870">1870</a></span>
<span class="normal"><a href="#__codelineno-0-1871">1871</a></span>
<span class="normal"><a href="#__codelineno-0-1872">1872</a></span>
<span class="normal"><a href="#__codelineno-0-1873">1873</a></span>
<span class="normal"><a href="#__codelineno-0-1874">1874</a></span>
<span class="normal"><a href="#__codelineno-0-1875">1875</a></span>
<span class="normal"><a href="#__codelineno-0-1876">1876</a></span>
<span class="normal"><a href="#__codelineno-0-1877">1877</a></span>
<span class="normal"><a href="#__codelineno-0-1878">1878</a></span>
<span class="normal"><a href="#__codelineno-0-1879">1879</a></span>
<span class="normal"><a href="#__codelineno-0-1880">1880</a></span>
<span class="normal"><a href="#__codelineno-0-1881">1881</a></span>
<span class="normal"><a href="#__codelineno-0-1882">1882</a></span>
<span class="normal"><a href="#__codelineno-0-1883">1883</a></span>
<span class="normal"><a href="#__codelineno-0-1884">1884</a></span>
<span class="normal"><a href="#__codelineno-0-1885">1885</a></span>
<span class="normal"><a href="#__codelineno-0-1886">1886</a></span>
<span class="normal"><a href="#__codelineno-0-1887">1887</a></span>
<span class="normal"><a href="#__codelineno-0-1888">1888</a></span>
<span class="normal"><a href="#__codelineno-0-1889">1889</a></span>
<span class="normal"><a href="#__codelineno-0-1890">1890</a></span>
<span class="normal"><a href="#__codelineno-0-1891">1891</a></span>
<span class="normal"><a href="#__codelineno-0-1892">1892</a></span>
<span class="normal"><a href="#__codelineno-0-1893">1893</a></span>
<span class="normal"><a href="#__codelineno-0-1894">1894</a></span>
<span class="normal"><a href="#__codelineno-0-1895">1895</a></span>
<span class="normal"><a href="#__codelineno-0-1896">1896</a></span>
<span class="normal"><a href="#__codelineno-0-1897">1897</a></span>
<span class="normal"><a href="#__codelineno-0-1898">1898</a></span>
<span class="normal"><a href="#__codelineno-0-1899">1899</a></span>
<span class="normal"><a href="#__codelineno-0-1900">1900</a></span>
<span class="normal"><a href="#__codelineno-0-1901">1901</a></span>
<span class="normal"><a href="#__codelineno-0-1902">1902</a></span>
<span class="normal"><a href="#__codelineno-0-1903">1903</a></span>
<span class="normal"><a href="#__codelineno-0-1904">1904</a></span>
<span class="normal"><a href="#__codelineno-0-1905">1905</a></span>
<span class="normal"><a href="#__codelineno-0-1906">1906</a></span>
<span class="normal"><a href="#__codelineno-0-1907">1907</a></span>
<span class="normal"><a href="#__codelineno-0-1908">1908</a></span>
<span class="normal"><a href="#__codelineno-0-1909">1909</a></span>
<span class="normal"><a href="#__codelineno-0-1910">1910</a></span>
<span class="normal"><a href="#__codelineno-0-1911">1911</a></span>
<span class="normal"><a href="#__codelineno-0-1912">1912</a></span>
<span class="normal"><a href="#__codelineno-0-1913">1913</a></span>
<span class="normal"><a href="#__codelineno-0-1914">1914</a></span>
<span class="normal"><a href="#__codelineno-0-1915">1915</a></span>
<span class="normal"><a href="#__codelineno-0-1916">1916</a></span>
<span class="normal"><a href="#__codelineno-0-1917">1917</a></span>
<span class="normal"><a href="#__codelineno-0-1918">1918</a></span>
<span class="normal"><a href="#__codelineno-0-1919">1919</a></span>
<span class="normal"><a href="#__codelineno-0-1920">1920</a></span>
<span class="normal"><a href="#__codelineno-0-1921">1921</a></span>
<span class="normal"><a href="#__codelineno-0-1922">1922</a></span>
<span class="normal"><a href="#__codelineno-0-1923">1923</a></span>
<span class="normal"><a href="#__codelineno-0-1924">1924</a></span>
<span class="normal"><a href="#__codelineno-0-1925">1925</a></span>
<span class="normal"><a href="#__codelineno-0-1926">1926</a></span>
<span class="normal"><a href="#__codelineno-0-1927">1927</a></span>
<span class="normal"><a href="#__codelineno-0-1928">1928</a></span>
<span class="normal"><a href="#__codelineno-0-1929">1929</a></span>
<span class="normal"><a href="#__codelineno-0-1930">1930</a></span>
<span class="normal"><a href="#__codelineno-0-1931">1931</a></span>
<span class="normal"><a href="#__codelineno-0-1932">1932</a></span>
<span class="normal"><a href="#__codelineno-0-1933">1933</a></span>
<span class="normal"><a href="#__codelineno-0-1934">1934</a></span>
<span class="normal"><a href="#__codelineno-0-1935">1935</a></span>
<span class="normal"><a href="#__codelineno-0-1936">1936</a></span>
<span class="normal"><a href="#__codelineno-0-1937">1937</a></span>
<span class="normal"><a href="#__codelineno-0-1938">1938</a></span>
<span class="normal"><a href="#__codelineno-0-1939">1939</a></span>
<span class="normal"><a href="#__codelineno-0-1940">1940</a></span>
<span class="normal"><a href="#__codelineno-0-1941">1941</a></span>
<span class="normal"><a href="#__codelineno-0-1942">1942</a></span>
<span class="normal"><a href="#__codelineno-0-1943">1943</a></span>
<span class="normal"><a href="#__codelineno-0-1944">1944</a></span>
<span class="normal"><a href="#__codelineno-0-1945">1945</a></span>
<span class="normal"><a href="#__codelineno-0-1946">1946</a></span>
<span class="normal"><a href="#__codelineno-0-1947">1947</a></span>
<span class="normal"><a href="#__codelineno-0-1948">1948</a></span>
<span class="normal"><a href="#__codelineno-0-1949">1949</a></span>
<span class="normal"><a href="#__codelineno-0-1950">1950</a></span>
<span class="normal"><a href="#__codelineno-0-1951">1951</a></span>
<span class="normal"><a href="#__codelineno-0-1952">1952</a></span>
<span class="normal"><a href="#__codelineno-0-1953">1953</a></span>
<span class="normal"><a href="#__codelineno-0-1954">1954</a></span>
<span class="normal"><a href="#__codelineno-0-1955">1955</a></span>
<span class="normal"><a href="#__codelineno-0-1956">1956</a></span>
<span class="normal"><a href="#__codelineno-0-1957">1957</a></span>
<span class="normal"><a href="#__codelineno-0-1958">1958</a></span>
<span class="normal"><a href="#__codelineno-0-1959">1959</a></span>
<span class="normal"><a href="#__codelineno-0-1960">1960</a></span>
<span class="normal"><a href="#__codelineno-0-1961">1961</a></span>
<span class="normal"><a href="#__codelineno-0-1962">1962</a></span>
<span class="normal"><a href="#__codelineno-0-1963">1963</a></span>
<span class="normal"><a href="#__codelineno-0-1964">1964</a></span>
<span class="normal"><a href="#__codelineno-0-1965">1965</a></span>
<span class="normal"><a href="#__codelineno-0-1966">1966</a></span>
<span class="normal"><a href="#__codelineno-0-1967">1967</a></span>
<span class="normal"><a href="#__codelineno-0-1968">1968</a></span>
<span class="normal"><a href="#__codelineno-0-1969">1969</a></span>
<span class="normal"><a href="#__codelineno-0-1970">1970</a></span>
<span class="normal"><a href="#__codelineno-0-1971">1971</a></span>
<span class="normal"><a href="#__codelineno-0-1972">1972</a></span>
<span class="normal"><a href="#__codelineno-0-1973">1973</a></span>
<span class="normal"><a href="#__codelineno-0-1974">1974</a></span>
<span class="normal"><a href="#__codelineno-0-1975">1975</a></span>
<span class="normal"><a href="#__codelineno-0-1976">1976</a></span>
<span class="normal"><a href="#__codelineno-0-1977">1977</a></span>
<span class="normal"><a href="#__codelineno-0-1978">1978</a></span>
<span class="normal"><a href="#__codelineno-0-1979">1979</a></span>
<span class="normal"><a href="#__codelineno-0-1980">1980</a></span>
<span class="normal"><a href="#__codelineno-0-1981">1981</a></span>
<span class="normal"><a href="#__codelineno-0-1982">1982</a></span>
<span class="normal"><a href="#__codelineno-0-1983">1983</a></span>
<span class="normal"><a href="#__codelineno-0-1984">1984</a></span>
<span class="normal"><a href="#__codelineno-0-1985">1985</a></span>
<span class="normal"><a href="#__codelineno-0-1986">1986</a></span>
<span class="normal"><a href="#__codelineno-0-1987">1987</a></span>
<span class="normal"><a href="#__codelineno-0-1988">1988</a></span>
<span class="normal"><a href="#__codelineno-0-1989">1989</a></span>
<span class="normal"><a href="#__codelineno-0-1990">1990</a></span>
<span class="normal"><a href="#__codelineno-0-1991">1991</a></span>
<span class="normal"><a href="#__codelineno-0-1992">1992</a></span>
<span class="normal"><a href="#__codelineno-0-1993">1993</a></span>
<span class="normal"><a href="#__codelineno-0-1994">1994</a></span>
<span class="normal"><a href="#__codelineno-0-1995">1995</a></span>
<span class="normal"><a href="#__codelineno-0-1996">1996</a></span>
<span class="normal"><a href="#__codelineno-0-1997">1997</a></span>
<span class="normal"><a href="#__codelineno-0-1998">1998</a></span>
<span class="normal"><a href="#__codelineno-0-1999">1999</a></span>
<span class="normal"><a href="#__codelineno-0-2000">2000</a></span>
<span class="normal"><a href="#__codelineno-0-2001">2001</a></span>
<span class="normal"><a href="#__codelineno-0-2002">2002</a></span>
<span class="normal"><a href="#__codelineno-0-2003">2003</a></span>
<span class="normal"><a href="#__codelineno-0-2004">2004</a></span>
<span class="normal"><a href="#__codelineno-0-2005">2005</a></span>
<span class="normal"><a href="#__codelineno-0-2006">2006</a></span>
<span class="normal"><a href="#__codelineno-0-2007">2007</a></span>
<span class="normal"><a href="#__codelineno-0-2008">2008</a></span>
<span class="normal"><a href="#__codelineno-0-2009">2009</a></span>
<span class="normal"><a href="#__codelineno-0-2010">2010</a></span>
<span class="normal"><a href="#__codelineno-0-2011">2011</a></span>
<span class="normal"><a href="#__codelineno-0-2012">2012</a></span>
<span class="normal"><a href="#__codelineno-0-2013">2013</a></span>
<span class="normal"><a href="#__codelineno-0-2014">2014</a></span>
<span class="normal"><a href="#__codelineno-0-2015">2015</a></span>
<span class="normal"><a href="#__codelineno-0-2016">2016</a></span>
<span class="normal"><a href="#__codelineno-0-2017">2017</a></span>
<span class="normal"><a href="#__codelineno-0-2018">2018</a></span>
<span class="normal"><a href="#__codelineno-0-2019">2019</a></span>
<span class="normal"><a href="#__codelineno-0-2020">2020</a></span>
<span class="normal"><a href="#__codelineno-0-2021">2021</a></span>
<span class="normal"><a href="#__codelineno-0-2022">2022</a></span>
<span class="normal"><a href="#__codelineno-0-2023">2023</a></span>
<span class="normal"><a href="#__codelineno-0-2024">2024</a></span>
<span class="normal"><a href="#__codelineno-0-2025">2025</a></span>
<span class="normal"><a href="#__codelineno-0-2026">2026</a></span>
<span class="normal"><a href="#__codelineno-0-2027">2027</a></span>
<span class="normal"><a href="#__codelineno-0-2028">2028</a></span>
<span class="normal"><a href="#__codelineno-0-2029">2029</a></span>
<span class="normal"><a href="#__codelineno-0-2030">2030</a></span>
<span class="normal"><a href="#__codelineno-0-2031">2031</a></span>
<span class="normal"><a href="#__codelineno-0-2032">2032</a></span>
<span class="normal"><a href="#__codelineno-0-2033">2033</a></span>
<span class="normal"><a href="#__codelineno-0-2034">2034</a></span>
<span class="normal"><a href="#__codelineno-0-2035">2035</a></span>
<span class="normal"><a href="#__codelineno-0-2036">2036</a></span>
<span class="normal"><a href="#__codelineno-0-2037">2037</a></span>
<span class="normal"><a href="#__codelineno-0-2038">2038</a></span>
<span class="normal"><a href="#__codelineno-0-2039">2039</a></span>
<span class="normal"><a href="#__codelineno-0-2040">2040</a></span>
<span class="normal"><a href="#__codelineno-0-2041">2041</a></span>
<span class="normal"><a href="#__codelineno-0-2042">2042</a></span>
<span class="normal"><a href="#__codelineno-0-2043">2043</a></span>
<span class="normal"><a href="#__codelineno-0-2044">2044</a></span>
<span class="normal"><a href="#__codelineno-0-2045">2045</a></span>
<span class="normal"><a href="#__codelineno-0-2046">2046</a></span>
<span class="normal"><a href="#__codelineno-0-2047">2047</a></span>
<span class="normal"><a href="#__codelineno-0-2048">2048</a></span>
<span class="normal"><a href="#__codelineno-0-2049">2049</a></span>
<span class="normal"><a href="#__codelineno-0-2050">2050</a></span>
<span class="normal"><a href="#__codelineno-0-2051">2051</a></span>
<span class="normal"><a href="#__codelineno-0-2052">2052</a></span>
<span class="normal"><a href="#__codelineno-0-2053">2053</a></span>
<span class="normal"><a href="#__codelineno-0-2054">2054</a></span>
<span class="normal"><a href="#__codelineno-0-2055">2055</a></span>
<span class="normal"><a href="#__codelineno-0-2056">2056</a></span>
<span class="normal"><a href="#__codelineno-0-2057">2057</a></span>
<span class="normal"><a href="#__codelineno-0-2058">2058</a></span>
<span class="normal"><a href="#__codelineno-0-2059">2059</a></span>
<span class="normal"><a href="#__codelineno-0-2060">2060</a></span>
<span class="normal"><a href="#__codelineno-0-2061">2061</a></span>
<span class="normal"><a href="#__codelineno-0-2062">2062</a></span>
<span class="normal"><a href="#__codelineno-0-2063">2063</a></span>
<span class="normal"><a href="#__codelineno-0-2064">2064</a></span>
<span class="normal"><a href="#__codelineno-0-2065">2065</a></span>
<span class="normal"><a href="#__codelineno-0-2066">2066</a></span>
<span class="normal"><a href="#__codelineno-0-2067">2067</a></span>
<span class="normal"><a href="#__codelineno-0-2068">2068</a></span>
<span class="normal"><a href="#__codelineno-0-2069">2069</a></span>
<span class="normal"><a href="#__codelineno-0-2070">2070</a></span>
<span class="normal"><a href="#__codelineno-0-2071">2071</a></span>
<span class="normal"><a href="#__codelineno-0-2072">2072</a></span>
<span class="normal"><a href="#__codelineno-0-2073">2073</a></span>
<span class="normal"><a href="#__codelineno-0-2074">2074</a></span>
<span class="normal"><a href="#__codelineno-0-2075">2075</a></span>
<span class="normal"><a href="#__codelineno-0-2076">2076</a></span>
<span class="normal"><a href="#__codelineno-0-2077">2077</a></span>
<span class="normal"><a href="#__codelineno-0-2078">2078</a></span>
<span class="normal"><a href="#__codelineno-0-2079">2079</a></span>
<span class="normal"><a href="#__codelineno-0-2080">2080</a></span>
<span class="normal"><a href="#__codelineno-0-2081">2081</a></span>
<span class="normal"><a href="#__codelineno-0-2082">2082</a></span>
<span class="normal"><a href="#__codelineno-0-2083">2083</a></span>
<span class="normal"><a href="#__codelineno-0-2084">2084</a></span>
<span class="normal"><a href="#__codelineno-0-2085">2085</a></span>
<span class="normal"><a href="#__codelineno-0-2086">2086</a></span>
<span class="normal"><a href="#__codelineno-0-2087">2087</a></span>
<span class="normal"><a href="#__codelineno-0-2088">2088</a></span>
<span class="normal"><a href="#__codelineno-0-2089">2089</a></span>
<span class="normal"><a href="#__codelineno-0-2090">2090</a></span>
<span class="normal"><a href="#__codelineno-0-2091">2091</a></span>
<span class="normal"><a href="#__codelineno-0-2092">2092</a></span>
<span class="normal"><a href="#__codelineno-0-2093">2093</a></span>
<span class="normal"><a href="#__codelineno-0-2094">2094</a></span>
<span class="normal"><a href="#__codelineno-0-2095">2095</a></span>
<span class="normal"><a href="#__codelineno-0-2096">2096</a></span>
<span class="normal"><a href="#__codelineno-0-2097">2097</a></span>
<span class="normal"><a href="#__codelineno-0-2098">2098</a></span>
<span class="normal"><a href="#__codelineno-0-2099">2099</a></span>
<span class="normal"><a href="#__codelineno-0-2100">2100</a></span>
<span class="normal"><a href="#__codelineno-0-2101">2101</a></span>
<span class="normal"><a href="#__codelineno-0-2102">2102</a></span>
<span class="normal"><a href="#__codelineno-0-2103">2103</a></span>
<span class="normal"><a href="#__codelineno-0-2104">2104</a></span>
<span class="normal"><a href="#__codelineno-0-2105">2105</a></span>
<span class="normal"><a href="#__codelineno-0-2106">2106</a></span>
<span class="normal"><a href="#__codelineno-0-2107">2107</a></span>
<span class="normal"><a href="#__codelineno-0-2108">2108</a></span>
<span class="normal"><a href="#__codelineno-0-2109">2109</a></span>
<span class="normal"><a href="#__codelineno-0-2110">2110</a></span>
<span class="normal"><a href="#__codelineno-0-2111">2111</a></span>
<span class="normal"><a href="#__codelineno-0-2112">2112</a></span>
<span class="normal"><a href="#__codelineno-0-2113">2113</a></span>
<span class="normal"><a href="#__codelineno-0-2114">2114</a></span>
<span class="normal"><a href="#__codelineno-0-2115">2115</a></span>
<span class="normal"><a href="#__codelineno-0-2116">2116</a></span>
<span class="normal"><a href="#__codelineno-0-2117">2117</a></span>
<span class="normal"><a href="#__codelineno-0-2118">2118</a></span>
<span class="normal"><a href="#__codelineno-0-2119">2119</a></span>
<span class="normal"><a href="#__codelineno-0-2120">2120</a></span>
<span class="normal"><a href="#__codelineno-0-2121">2121</a></span>
<span class="normal"><a href="#__codelineno-0-2122">2122</a></span>
<span class="normal"><a href="#__codelineno-0-2123">2123</a></span>
<span class="normal"><a href="#__codelineno-0-2124">2124</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1717" name="__codelineno-0-1717"></a><span class="k">def</span> <span class="nf">prep_team</span><span class="p">(</span>
<a id="__codelineno-0-1718" name="__codelineno-0-1718"></a>    <span class="n">pbp</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<a id="__codelineno-0-1719" name="__codelineno-0-1719"></a>    <span class="n">level</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;period&quot;</span><span class="p">,</span> <span class="s2">&quot;game&quot;</span><span class="p">,</span> <span class="s2">&quot;session&quot;</span><span class="p">,</span> <span class="s2">&quot;season&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;game&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1720" name="__codelineno-0-1720"></a>    <span class="n">strengths</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-1721" name="__codelineno-0-1721"></a>    <span class="n">score</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-1722" name="__codelineno-0-1722"></a>    <span class="n">disable_progress_bar</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-1723" name="__codelineno-0-1723"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<a id="__codelineno-0-1724" name="__codelineno-0-1724"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Prepares a team stats dataframe using Evolving Hockey data.</span>
<a id="__codelineno-0-1725" name="__codelineno-0-1725"></a>
<a id="__codelineno-0-1726" name="__codelineno-0-1726"></a><span class="sd">    Aggregates to desired level. Capable of returning cuts that account for strength state,</span>
<a id="__codelineno-0-1727" name="__codelineno-0-1727"></a><span class="sd">    period, and score state. Returns a Pandas DataFrame.</span>
<a id="__codelineno-0-1728" name="__codelineno-0-1728"></a>
<a id="__codelineno-0-1729" name="__codelineno-0-1729"></a><span class="sd">    Parameters:</span>
<a id="__codelineno-0-1730" name="__codelineno-0-1730"></a><span class="sd">        pbp (pd.DataFrame):</span>
<a id="__codelineno-0-1731" name="__codelineno-0-1731"></a><span class="sd">            Dataframe from the prep_pbp function with the default columns argument</span>
<a id="__codelineno-0-1732" name="__codelineno-0-1732"></a><span class="sd">        level (str):</span>
<a id="__codelineno-0-1733" name="__codelineno-0-1733"></a><span class="sd">            Level to aggregate stats, e.g., &#39;game&#39;</span>
<a id="__codelineno-0-1734" name="__codelineno-0-1734"></a><span class="sd">        strengths (bool):</span>
<a id="__codelineno-0-1735" name="__codelineno-0-1735"></a><span class="sd">            Whether to aggregate to strength state level, e.g., True</span>
<a id="__codelineno-0-1736" name="__codelineno-0-1736"></a><span class="sd">        score (bool):</span>
<a id="__codelineno-0-1737" name="__codelineno-0-1737"></a><span class="sd">            Whether to aggregate to score state level</span>
<a id="__codelineno-0-1738" name="__codelineno-0-1738"></a><span class="sd">        disable_progress_bar (bool):</span>
<a id="__codelineno-0-1739" name="__codelineno-0-1739"></a><span class="sd">            Whether to disable progress bar</span>
<a id="__codelineno-0-1740" name="__codelineno-0-1740"></a>
<a id="__codelineno-0-1741" name="__codelineno-0-1741"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1742" name="__codelineno-0-1742"></a><span class="sd">        season (int):</span>
<a id="__codelineno-0-1743" name="__codelineno-0-1743"></a><span class="sd">            8-digit season code, e.g., 20232024</span>
<a id="__codelineno-0-1744" name="__codelineno-0-1744"></a><span class="sd">        session (str):</span>
<a id="__codelineno-0-1745" name="__codelineno-0-1745"></a><span class="sd">            Regular season or playoffs, e.g., R</span>
<a id="__codelineno-0-1746" name="__codelineno-0-1746"></a><span class="sd">        game_id (int):</span>
<a id="__codelineno-0-1747" name="__codelineno-0-1747"></a><span class="sd">            10-digit game identifier, e.g., 2023020044</span>
<a id="__codelineno-0-1748" name="__codelineno-0-1748"></a><span class="sd">        game_date (str):</span>
<a id="__codelineno-0-1749" name="__codelineno-0-1749"></a><span class="sd">            Date of game in Eastern time-zone, e.g., 2023-10-17</span>
<a id="__codelineno-0-1750" name="__codelineno-0-1750"></a><span class="sd">        team (str):</span>
<a id="__codelineno-0-1751" name="__codelineno-0-1751"></a><span class="sd">            3-letter abbreviation of the team, e.g., NSH</span>
<a id="__codelineno-0-1752" name="__codelineno-0-1752"></a><span class="sd">        opp_team (str):</span>
<a id="__codelineno-0-1753" name="__codelineno-0-1753"></a><span class="sd">            3-letter abbreviation of the opposing team, e.g., EDM</span>
<a id="__codelineno-0-1754" name="__codelineno-0-1754"></a><span class="sd">        strength_state (str):</span>
<a id="__codelineno-0-1755" name="__codelineno-0-1755"></a><span class="sd">            Strength state from the perspective of the event team, e.g., 5v5</span>
<a id="__codelineno-0-1756" name="__codelineno-0-1756"></a><span class="sd">        score_state (str):</span>
<a id="__codelineno-0-1757" name="__codelineno-0-1757"></a><span class="sd">            Score state from the perspective of the event team, e.g., 1v6</span>
<a id="__codelineno-0-1758" name="__codelineno-0-1758"></a><span class="sd">        game_period (int):</span>
<a id="__codelineno-0-1759" name="__codelineno-0-1759"></a><span class="sd">            Game period, e.g., 3</span>
<a id="__codelineno-0-1760" name="__codelineno-0-1760"></a><span class="sd">        toi (float):</span>
<a id="__codelineno-0-1761" name="__codelineno-0-1761"></a><span class="sd">            Time on-ice in minutes, e.g., 18</span>
<a id="__codelineno-0-1762" name="__codelineno-0-1762"></a><span class="sd">        gf (float):</span>
<a id="__codelineno-0-1763" name="__codelineno-0-1763"></a><span class="sd">            Sum of goals scored, e.g., 0</span>
<a id="__codelineno-0-1764" name="__codelineno-0-1764"></a><span class="sd">        gf_adj (float):</span>
<a id="__codelineno-0-1765" name="__codelineno-0-1765"></a><span class="sd">            Sum of venue- and score-adjusted goals scored, e.g., 0</span>
<a id="__codelineno-0-1766" name="__codelineno-0-1766"></a><span class="sd">        hdgf (float):</span>
<a id="__codelineno-0-1767" name="__codelineno-0-1767"></a><span class="sd">            Sum of high-danger goals scored, e.g., 0</span>
<a id="__codelineno-0-1768" name="__codelineno-0-1768"></a><span class="sd">        ga (float):</span>
<a id="__codelineno-0-1769" name="__codelineno-0-1769"></a><span class="sd">            Sum of goals allowed, e.g., 0</span>
<a id="__codelineno-0-1770" name="__codelineno-0-1770"></a><span class="sd">        ga_adj (float):</span>
<a id="__codelineno-0-1771" name="__codelineno-0-1771"></a><span class="sd">            Sum of venue- and score-adjusted goals allowed, e.g., 0</span>
<a id="__codelineno-0-1772" name="__codelineno-0-1772"></a><span class="sd">        hdga (float):</span>
<a id="__codelineno-0-1773" name="__codelineno-0-1773"></a><span class="sd">            Sum of high-danger goals allowed, e.g., 0</span>
<a id="__codelineno-0-1774" name="__codelineno-0-1774"></a><span class="sd">        xgf (float):</span>
<a id="__codelineno-0-1775" name="__codelineno-0-1775"></a><span class="sd">            Sum of expected goals generated, e.g., 0.957070</span>
<a id="__codelineno-0-1776" name="__codelineno-0-1776"></a><span class="sd">        xgf_adj (float):</span>
<a id="__codelineno-0-1777" name="__codelineno-0-1777"></a><span class="sd">            Sum of venue- and score-adjusted expected goals generated, e.g., 0.883376</span>
<a id="__codelineno-0-1778" name="__codelineno-0-1778"></a><span class="sd">        xga (float):</span>
<a id="__codelineno-0-1779" name="__codelineno-0-1779"></a><span class="sd">            Sum of expected goals allowed, e.g., 0.535971</span>
<a id="__codelineno-0-1780" name="__codelineno-0-1780"></a><span class="sd">        xga_adj (float):</span>
<a id="__codelineno-0-1781" name="__codelineno-0-1781"></a><span class="sd">            Sum of venue- and score-adjusted expected goals allowed, e.g., 0.584744</span>
<a id="__codelineno-0-1782" name="__codelineno-0-1782"></a><span class="sd">        sf (float):</span>
<a id="__codelineno-0-1783" name="__codelineno-0-1783"></a><span class="sd">            Sum of shots taken, e.g., 10</span>
<a id="__codelineno-0-1784" name="__codelineno-0-1784"></a><span class="sd">        sf_adj (float):</span>
<a id="__codelineno-0-1785" name="__codelineno-0-1785"></a><span class="sd">            Sum of venue- and score-adjusted shots taken, e.g., 8.620</span>
<a id="__codelineno-0-1786" name="__codelineno-0-1786"></a><span class="sd">        hdsf (float):</span>
<a id="__codelineno-0-1787" name="__codelineno-0-1787"></a><span class="sd">            Sum of high-danger shots taken, e.g., 2</span>
<a id="__codelineno-0-1788" name="__codelineno-0-1788"></a><span class="sd">        sa (float):</span>
<a id="__codelineno-0-1789" name="__codelineno-0-1789"></a><span class="sd">            Sum of shots allowed, e.g., 4</span>
<a id="__codelineno-0-1790" name="__codelineno-0-1790"></a><span class="sd">        sa_adj (float):</span>
<a id="__codelineno-0-1791" name="__codelineno-0-1791"></a><span class="sd">            Sum of venue- and score-adjusted shots allowed, e.g., 4.764</span>
<a id="__codelineno-0-1792" name="__codelineno-0-1792"></a><span class="sd">        hdsa (float):</span>
<a id="__codelineno-0-1793" name="__codelineno-0-1793"></a><span class="sd">            Sum of high-danger shots allowed, e.g., 0</span>
<a id="__codelineno-0-1794" name="__codelineno-0-1794"></a><span class="sd">        ff (float):</span>
<a id="__codelineno-0-1795" name="__codelineno-0-1795"></a><span class="sd">            Sum of fenwick events generated, e.g., 14</span>
<a id="__codelineno-0-1796" name="__codelineno-0-1796"></a><span class="sd">        ff_adj (float):</span>
<a id="__codelineno-0-1797" name="__codelineno-0-1797"></a><span class="sd">            Sum of venue- and score-adjusted fenwick events generated, e.g., 12.026</span>
<a id="__codelineno-0-1798" name="__codelineno-0-1798"></a><span class="sd">        hdff (float):</span>
<a id="__codelineno-0-1799" name="__codelineno-0-1799"></a><span class="sd">            Sum of high-danger fenwick events generated, e.g., 2</span>
<a id="__codelineno-0-1800" name="__codelineno-0-1800"></a><span class="sd">        fa (float):</span>
<a id="__codelineno-0-1801" name="__codelineno-0-1801"></a><span class="sd">            Sum of fenwick events allowed, e.g., 8</span>
<a id="__codelineno-0-1802" name="__codelineno-0-1802"></a><span class="sd">        fa_adj (float):</span>
<a id="__codelineno-0-1803" name="__codelineno-0-1803"></a><span class="sd">            Sum of venue- and score-adjusted fenwick events allowed, e.g., 9.576</span>
<a id="__codelineno-0-1804" name="__codelineno-0-1804"></a><span class="sd">        hdfa (float):</span>
<a id="__codelineno-0-1805" name="__codelineno-0-1805"></a><span class="sd">            Sum of high-danger fenwick events allowed, e.g., 1</span>
<a id="__codelineno-0-1806" name="__codelineno-0-1806"></a><span class="sd">        cf (float):</span>
<a id="__codelineno-0-1807" name="__codelineno-0-1807"></a><span class="sd">            Sum of corsi events generated, e.g., 16</span>
<a id="__codelineno-0-1808" name="__codelineno-0-1808"></a><span class="sd">        cf_adj (float):</span>
<a id="__codelineno-0-1809" name="__codelineno-0-1809"></a><span class="sd">            Sum of venue- and score-adjusted corsi events generated, e.g., 13.488</span>
<a id="__codelineno-0-1810" name="__codelineno-0-1810"></a><span class="sd">        ca (float):</span>
<a id="__codelineno-0-1811" name="__codelineno-0-1811"></a><span class="sd">            Sum of corsi events allowed, e.g., 12.0</span>
<a id="__codelineno-0-1812" name="__codelineno-0-1812"></a><span class="sd">        ca_adj (float):</span>
<a id="__codelineno-0-1813" name="__codelineno-0-1813"></a><span class="sd">            Sum of venue- and score-adjusted corsi events allowed, e.g., 14.760</span>
<a id="__codelineno-0-1814" name="__codelineno-0-1814"></a><span class="sd">        bsf (float):</span>
<a id="__codelineno-0-1815" name="__codelineno-0-1815"></a><span class="sd">            Sum of shots taken that were ultimately blocked, e.g., 4</span>
<a id="__codelineno-0-1816" name="__codelineno-0-1816"></a><span class="sd">        bsa (float):</span>
<a id="__codelineno-0-1817" name="__codelineno-0-1817"></a><span class="sd">            Sum of shots allowed that were ultimately blocked, e.g., 2</span>
<a id="__codelineno-0-1818" name="__codelineno-0-1818"></a><span class="sd">        msf (float):</span>
<a id="__codelineno-0-1819" name="__codelineno-0-1819"></a><span class="sd">            Sum of shots taken that missed net, e.g., 4</span>
<a id="__codelineno-0-1820" name="__codelineno-0-1820"></a><span class="sd">        hdmsf (float):</span>
<a id="__codelineno-0-1821" name="__codelineno-0-1821"></a><span class="sd">            Sum of high-danger shots taken that missed net, e.g., 0</span>
<a id="__codelineno-0-1822" name="__codelineno-0-1822"></a><span class="sd">        msa (float):</span>
<a id="__codelineno-0-1823" name="__codelineno-0-1823"></a><span class="sd">            Sum of shots allowed that missed net, e.g., 4</span>
<a id="__codelineno-0-1824" name="__codelineno-0-1824"></a><span class="sd">        hdmsa (float):</span>
<a id="__codelineno-0-1825" name="__codelineno-0-1825"></a><span class="sd">            Sum of high-danger shots allowed that missed net, e.g., 1</span>
<a id="__codelineno-0-1826" name="__codelineno-0-1826"></a><span class="sd">        ozf (float):</span>
<a id="__codelineno-0-1827" name="__codelineno-0-1827"></a><span class="sd">            Sum of offensive zone faceoffs that occur, e.g., 6</span>
<a id="__codelineno-0-1828" name="__codelineno-0-1828"></a><span class="sd">        nzf (float):</span>
<a id="__codelineno-0-1829" name="__codelineno-0-1829"></a><span class="sd">            Sum of neutral zone faceoffs that occur, e.g., 4</span>
<a id="__codelineno-0-1830" name="__codelineno-0-1830"></a><span class="sd">        dzf (float):</span>
<a id="__codelineno-0-1831" name="__codelineno-0-1831"></a><span class="sd">            Sum of defensive zone faceoffs that occur, e.g., 6</span>
<a id="__codelineno-0-1832" name="__codelineno-0-1832"></a><span class="sd">        fow (float):</span>
<a id="__codelineno-0-1833" name="__codelineno-0-1833"></a><span class="sd">            Sum of faceoffs won, e.g., 8</span>
<a id="__codelineno-0-1834" name="__codelineno-0-1834"></a><span class="sd">        fol (float):</span>
<a id="__codelineno-0-1835" name="__codelineno-0-1835"></a><span class="sd">            Sum of faceoffs lost, e.g., 11</span>
<a id="__codelineno-0-1836" name="__codelineno-0-1836"></a><span class="sd">        ozfw (float):</span>
<a id="__codelineno-0-1837" name="__codelineno-0-1837"></a><span class="sd">            Sum of offensive zone faceoffs won, e.g., 3</span>
<a id="__codelineno-0-1838" name="__codelineno-0-1838"></a><span class="sd">        ozfl (float):</span>
<a id="__codelineno-0-1839" name="__codelineno-0-1839"></a><span class="sd">            Sum of offensive zone faceoffs lost, e.g., 1</span>
<a id="__codelineno-0-1840" name="__codelineno-0-1840"></a><span class="sd">        nzfw (float):</span>
<a id="__codelineno-0-1841" name="__codelineno-0-1841"></a><span class="sd">            Sum of neutral zone faceoffs won, e.g., 2</span>
<a id="__codelineno-0-1842" name="__codelineno-0-1842"></a><span class="sd">        nzfl (float):</span>
<a id="__codelineno-0-1843" name="__codelineno-0-1843"></a><span class="sd">            Sum of neutral zone faceoffs lost, e.g., 3</span>
<a id="__codelineno-0-1844" name="__codelineno-0-1844"></a><span class="sd">        dzfw (float):</span>
<a id="__codelineno-0-1845" name="__codelineno-0-1845"></a><span class="sd">            Sum of defensive zone faceoffs won, e.g., 3</span>
<a id="__codelineno-0-1846" name="__codelineno-0-1846"></a><span class="sd">        dzfl (float):</span>
<a id="__codelineno-0-1847" name="__codelineno-0-1847"></a><span class="sd">            Sum of defensive zone faceoffs lost, e.g., 7</span>
<a id="__codelineno-0-1848" name="__codelineno-0-1848"></a><span class="sd">        hf (float):</span>
<a id="__codelineno-0-1849" name="__codelineno-0-1849"></a><span class="sd">            Sum of hits dished out, e.g., 7</span>
<a id="__codelineno-0-1850" name="__codelineno-0-1850"></a><span class="sd">        ht (float):</span>
<a id="__codelineno-0-1851" name="__codelineno-0-1851"></a><span class="sd">            Sum of hits taken, e.g., 5</span>
<a id="__codelineno-0-1852" name="__codelineno-0-1852"></a><span class="sd">        give (float):</span>
<a id="__codelineno-0-1853" name="__codelineno-0-1853"></a><span class="sd">            Sum of giveaways, e.g., 5</span>
<a id="__codelineno-0-1854" name="__codelineno-0-1854"></a><span class="sd">        take (float):</span>
<a id="__codelineno-0-1855" name="__codelineno-0-1855"></a><span class="sd">            Sum of takeaways, e.g., 1</span>
<a id="__codelineno-0-1856" name="__codelineno-0-1856"></a><span class="sd">        pent0 (float):</span>
<a id="__codelineno-0-1857" name="__codelineno-0-1857"></a><span class="sd">            Sum of individual 0-minute penalties taken, e.g., 0</span>
<a id="__codelineno-0-1858" name="__codelineno-0-1858"></a><span class="sd">        pent2 (float):</span>
<a id="__codelineno-0-1859" name="__codelineno-0-1859"></a><span class="sd">            Sum of individual 2-minute penalties taken, e.g., 0</span>
<a id="__codelineno-0-1860" name="__codelineno-0-1860"></a><span class="sd">        pent4 (float):</span>
<a id="__codelineno-0-1861" name="__codelineno-0-1861"></a><span class="sd">            Sum of individual 4-minute penalties taken, e.g., 0</span>
<a id="__codelineno-0-1862" name="__codelineno-0-1862"></a><span class="sd">        pent5 (float):</span>
<a id="__codelineno-0-1863" name="__codelineno-0-1863"></a><span class="sd">            Sum of individual 5-minute penalties taken, e.g., 0</span>
<a id="__codelineno-0-1864" name="__codelineno-0-1864"></a><span class="sd">        pent10 (float):</span>
<a id="__codelineno-0-1865" name="__codelineno-0-1865"></a><span class="sd">            Sum of individual 10-minute penalties taken, e.g., 0</span>
<a id="__codelineno-0-1866" name="__codelineno-0-1866"></a><span class="sd">        pend0 (float):</span>
<a id="__codelineno-0-1867" name="__codelineno-0-1867"></a><span class="sd">            Sum of individual 0-minute penalties drawn, e.g., 0</span>
<a id="__codelineno-0-1868" name="__codelineno-0-1868"></a><span class="sd">        pend2 (float):</span>
<a id="__codelineno-0-1869" name="__codelineno-0-1869"></a><span class="sd">            Sum of individual 2-minute penalties drawn, e.g., 0</span>
<a id="__codelineno-0-1870" name="__codelineno-0-1870"></a><span class="sd">        pend4 (float):</span>
<a id="__codelineno-0-1871" name="__codelineno-0-1871"></a><span class="sd">            Sum of individual 4-minute penalties drawn, e.g., 0</span>
<a id="__codelineno-0-1872" name="__codelineno-0-1872"></a><span class="sd">        pend5 (float):</span>
<a id="__codelineno-0-1873" name="__codelineno-0-1873"></a><span class="sd">            Sum of individual 5-minute penalties drawn, e.g., 0</span>
<a id="__codelineno-0-1874" name="__codelineno-0-1874"></a><span class="sd">        pend10 (float):</span>
<a id="__codelineno-0-1875" name="__codelineno-0-1875"></a><span class="sd">            Sum of individual 10-minute penalties drawn, e.g., 0</span>
<a id="__codelineno-0-1876" name="__codelineno-0-1876"></a>
<a id="__codelineno-0-1877" name="__codelineno-0-1877"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-1878" name="__codelineno-0-1878"></a><span class="sd">        Basic play-by-play DataFrame</span>
<a id="__codelineno-0-1879" name="__codelineno-0-1879"></a><span class="sd">        &gt;&gt;&gt; shifts_raw = pd.read_csv(&quot;./raw_shifts.csv&quot;)</span>
<a id="__codelineno-0-1880" name="__codelineno-0-1880"></a><span class="sd">        &gt;&gt;&gt; pbp_raw = pd.read_csv(&quot;./raw_pbp.csv&quot;)</span>
<a id="__codelineno-0-1881" name="__codelineno-0-1881"></a><span class="sd">        &gt;&gt;&gt; pbp = prep_pbp(pbp_raw, shifts_raw)</span>
<a id="__codelineno-0-1882" name="__codelineno-0-1882"></a>
<a id="__codelineno-0-1883" name="__codelineno-0-1883"></a><span class="sd">        Basic game-level stats for teams</span>
<a id="__codelineno-0-1884" name="__codelineno-0-1884"></a><span class="sd">        &gt;&gt;&gt; team = prep_team(pbp)</span>
<a id="__codelineno-0-1885" name="__codelineno-0-1885"></a>
<a id="__codelineno-0-1886" name="__codelineno-0-1886"></a><span class="sd">        Period-level team stats, grouped by score state</span>
<a id="__codelineno-0-1887" name="__codelineno-0-1887"></a><span class="sd">        &gt;&gt;&gt; team = prep_team(pbp, level=&quot;period&quot;, score=True)</span>
<a id="__codelineno-0-1888" name="__codelineno-0-1888"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1889" name="__codelineno-0-1889"></a>    <span class="k">with</span> <span class="n">ChickenProgress</span><span class="p">(</span><span class="n">disable</span><span class="o">=</span><span class="n">disable_progress_bar</span><span class="p">)</span> <span class="k">as</span> <span class="n">progress</span><span class="p">:</span>
<a id="__codelineno-0-1890" name="__codelineno-0-1890"></a>        <span class="n">pbar_message</span> <span class="o">=</span> <span class="s2">&quot;Prepping team data...&quot;</span>
<a id="__codelineno-0-1891" name="__codelineno-0-1891"></a>
<a id="__codelineno-0-1892" name="__codelineno-0-1892"></a>        <span class="n">team_task</span> <span class="o">=</span> <span class="n">progress</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">pbar_message</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-1893" name="__codelineno-0-1893"></a>
<a id="__codelineno-0-1894" name="__codelineno-0-1894"></a>        <span class="c1"># Getting the &quot;for&quot; stats</span>
<a id="__codelineno-0-1895" name="__codelineno-0-1895"></a>
<a id="__codelineno-0-1896" name="__codelineno-0-1896"></a>        <span class="n">group_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;season&quot;</span><span class="p">,</span> <span class="s2">&quot;session&quot;</span><span class="p">,</span> <span class="s2">&quot;event_team&quot;</span><span class="p">]</span>
<a id="__codelineno-0-1897" name="__codelineno-0-1897"></a>
<a id="__codelineno-0-1898" name="__codelineno-0-1898"></a>        <span class="k">if</span> <span class="n">strengths</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-1899" name="__codelineno-0-1899"></a>            <span class="n">group_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;strength_state&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1900" name="__codelineno-0-1900"></a>
<a id="__codelineno-0-1901" name="__codelineno-0-1901"></a>        <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;game&quot;</span> <span class="ow">or</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;period&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1902" name="__codelineno-0-1902"></a>            <span class="n">group_list</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;opp_team&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1903" name="__codelineno-0-1903"></a>
<a id="__codelineno-0-1904" name="__codelineno-0-1904"></a>            <span class="n">group_list</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;game_id&quot;</span><span class="p">,</span> <span class="s2">&quot;game_date&quot;</span><span class="p">]</span>
<a id="__codelineno-0-1905" name="__codelineno-0-1905"></a>
<a id="__codelineno-0-1906" name="__codelineno-0-1906"></a>        <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;period&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1907" name="__codelineno-0-1907"></a>            <span class="n">group_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;game_period&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1908" name="__codelineno-0-1908"></a>
<a id="__codelineno-0-1909" name="__codelineno-0-1909"></a>        <span class="k">if</span> <span class="n">score</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-1910" name="__codelineno-0-1910"></a>            <span class="n">group_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;score_state&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1911" name="__codelineno-0-1911"></a>
<a id="__codelineno-0-1912" name="__codelineno-0-1912"></a>        <span class="n">agg_stats</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1913" name="__codelineno-0-1913"></a>            <span class="s2">&quot;pred_goal&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1914" name="__codelineno-0-1914"></a>            <span class="s2">&quot;pred_goal_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1915" name="__codelineno-0-1915"></a>            <span class="s2">&quot;shot&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1916" name="__codelineno-0-1916"></a>            <span class="s2">&quot;shot_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1917" name="__codelineno-0-1917"></a>            <span class="s2">&quot;miss&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1918" name="__codelineno-0-1918"></a>            <span class="s2">&quot;block&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1919" name="__codelineno-0-1919"></a>            <span class="s2">&quot;corsi&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1920" name="__codelineno-0-1920"></a>            <span class="s2">&quot;corsi_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1921" name="__codelineno-0-1921"></a>            <span class="s2">&quot;fenwick&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1922" name="__codelineno-0-1922"></a>            <span class="s2">&quot;fenwick_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1923" name="__codelineno-0-1923"></a>            <span class="s2">&quot;goal&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1924" name="__codelineno-0-1924"></a>            <span class="s2">&quot;goal_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1925" name="__codelineno-0-1925"></a>            <span class="s2">&quot;give&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1926" name="__codelineno-0-1926"></a>            <span class="s2">&quot;take&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1927" name="__codelineno-0-1927"></a>            <span class="s2">&quot;hd_goal&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1928" name="__codelineno-0-1928"></a>            <span class="s2">&quot;hd_shot&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1929" name="__codelineno-0-1929"></a>            <span class="s2">&quot;hd_fenwick&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1930" name="__codelineno-0-1930"></a>            <span class="s2">&quot;hd_miss&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1931" name="__codelineno-0-1931"></a>            <span class="s2">&quot;hit&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1932" name="__codelineno-0-1932"></a>            <span class="s2">&quot;pen0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1933" name="__codelineno-0-1933"></a>            <span class="s2">&quot;pen2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1934" name="__codelineno-0-1934"></a>            <span class="s2">&quot;pen4&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1935" name="__codelineno-0-1935"></a>            <span class="s2">&quot;pen5&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1936" name="__codelineno-0-1936"></a>            <span class="s2">&quot;pen10&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1937" name="__codelineno-0-1937"></a>            <span class="s2">&quot;fac&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1938" name="__codelineno-0-1938"></a>            <span class="s2">&quot;ozf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1939" name="__codelineno-0-1939"></a>            <span class="s2">&quot;nzf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1940" name="__codelineno-0-1940"></a>            <span class="s2">&quot;dzf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1941" name="__codelineno-0-1941"></a>            <span class="s2">&quot;event_length&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1942" name="__codelineno-0-1942"></a>        <span class="p">]</span>
<a id="__codelineno-0-1943" name="__codelineno-0-1943"></a>
<a id="__codelineno-0-1944" name="__codelineno-0-1944"></a>        <span class="n">agg_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="s2">&quot;sum&quot;</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">agg_stats</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">pbp</span><span class="o">.</span><span class="n">columns</span><span class="p">}</span>
<a id="__codelineno-0-1945" name="__codelineno-0-1945"></a>
<a id="__codelineno-0-1946" name="__codelineno-0-1946"></a>        <span class="n">new_cols</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1947" name="__codelineno-0-1947"></a>            <span class="s2">&quot;xgf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1948" name="__codelineno-0-1948"></a>            <span class="s2">&quot;xgf_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1949" name="__codelineno-0-1949"></a>            <span class="s2">&quot;sf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1950" name="__codelineno-0-1950"></a>            <span class="s2">&quot;sf_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1951" name="__codelineno-0-1951"></a>            <span class="s2">&quot;msf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1952" name="__codelineno-0-1952"></a>            <span class="s2">&quot;bsa&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1953" name="__codelineno-0-1953"></a>            <span class="s2">&quot;cf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1954" name="__codelineno-0-1954"></a>            <span class="s2">&quot;cf_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1955" name="__codelineno-0-1955"></a>            <span class="s2">&quot;ff&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1956" name="__codelineno-0-1956"></a>            <span class="s2">&quot;ff_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1957" name="__codelineno-0-1957"></a>            <span class="s2">&quot;gf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1958" name="__codelineno-0-1958"></a>            <span class="s2">&quot;gf_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1959" name="__codelineno-0-1959"></a>            <span class="s2">&quot;give&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1960" name="__codelineno-0-1960"></a>            <span class="s2">&quot;take&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1961" name="__codelineno-0-1961"></a>            <span class="s2">&quot;hdgf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1962" name="__codelineno-0-1962"></a>            <span class="s2">&quot;hdsf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1963" name="__codelineno-0-1963"></a>            <span class="s2">&quot;hdff&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1964" name="__codelineno-0-1964"></a>            <span class="s2">&quot;hdmsf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1965" name="__codelineno-0-1965"></a>            <span class="s2">&quot;hf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1966" name="__codelineno-0-1966"></a>            <span class="s2">&quot;pent0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1967" name="__codelineno-0-1967"></a>            <span class="s2">&quot;pent2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1968" name="__codelineno-0-1968"></a>            <span class="s2">&quot;pent4&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1969" name="__codelineno-0-1969"></a>            <span class="s2">&quot;pent5&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1970" name="__codelineno-0-1970"></a>            <span class="s2">&quot;pent10&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1971" name="__codelineno-0-1971"></a>            <span class="s2">&quot;fow&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1972" name="__codelineno-0-1972"></a>            <span class="s2">&quot;ozfw&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1973" name="__codelineno-0-1973"></a>            <span class="s2">&quot;nzfw&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1974" name="__codelineno-0-1974"></a>            <span class="s2">&quot;dzfw&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1975" name="__codelineno-0-1975"></a>            <span class="s2">&quot;toi&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1976" name="__codelineno-0-1976"></a>        <span class="p">]</span>
<a id="__codelineno-0-1977" name="__codelineno-0-1977"></a>
<a id="__codelineno-0-1978" name="__codelineno-0-1978"></a>        <span class="n">new_cols</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">agg_stats</span><span class="p">,</span> <span class="n">new_cols</span><span class="p">))</span>
<a id="__codelineno-0-1979" name="__codelineno-0-1979"></a>
<a id="__codelineno-0-1980" name="__codelineno-0-1980"></a>        <span class="n">new_cols</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;event_team&quot;</span><span class="p">:</span> <span class="s2">&quot;team&quot;</span><span class="p">})</span>
<a id="__codelineno-0-1981" name="__codelineno-0-1981"></a>
<a id="__codelineno-0-1982" name="__codelineno-0-1982"></a>        <span class="n">stats_for</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-1983" name="__codelineno-0-1983"></a>            <span class="n">pbp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">group_list</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-1984" name="__codelineno-0-1984"></a>            <span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_dict</span><span class="p">)</span>
<a id="__codelineno-0-1985" name="__codelineno-0-1985"></a>            <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">new_cols</span><span class="p">)</span>
<a id="__codelineno-0-1986" name="__codelineno-0-1986"></a>        <span class="p">)</span>
<a id="__codelineno-0-1987" name="__codelineno-0-1987"></a>
<a id="__codelineno-0-1988" name="__codelineno-0-1988"></a>        <span class="c1"># Getting the &quot;against&quot; stats</span>
<a id="__codelineno-0-1989" name="__codelineno-0-1989"></a>
<a id="__codelineno-0-1990" name="__codelineno-0-1990"></a>        <span class="n">group_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;season&quot;</span><span class="p">,</span> <span class="s2">&quot;session&quot;</span><span class="p">,</span> <span class="s2">&quot;opp_team&quot;</span><span class="p">]</span>
<a id="__codelineno-0-1991" name="__codelineno-0-1991"></a>
<a id="__codelineno-0-1992" name="__codelineno-0-1992"></a>        <span class="k">if</span> <span class="n">strengths</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-1993" name="__codelineno-0-1993"></a>            <span class="n">group_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;opp_strength_state&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1994" name="__codelineno-0-1994"></a>
<a id="__codelineno-0-1995" name="__codelineno-0-1995"></a>        <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;game&quot;</span> <span class="ow">or</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;period&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1996" name="__codelineno-0-1996"></a>            <span class="n">group_list</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;event_team&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1997" name="__codelineno-0-1997"></a>
<a id="__codelineno-0-1998" name="__codelineno-0-1998"></a>            <span class="n">group_list</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;game_id&quot;</span><span class="p">,</span> <span class="s2">&quot;game_date&quot;</span><span class="p">]</span>
<a id="__codelineno-0-1999" name="__codelineno-0-1999"></a>
<a id="__codelineno-0-2000" name="__codelineno-0-2000"></a>        <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;period&quot;</span><span class="p">:</span>
<a id="__codelineno-0-2001" name="__codelineno-0-2001"></a>            <span class="n">group_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;game_period&quot;</span><span class="p">)</span>
<a id="__codelineno-0-2002" name="__codelineno-0-2002"></a>
<a id="__codelineno-0-2003" name="__codelineno-0-2003"></a>        <span class="k">if</span> <span class="n">score</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-2004" name="__codelineno-0-2004"></a>            <span class="n">group_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;opp_score_state&quot;</span><span class="p">)</span>
<a id="__codelineno-0-2005" name="__codelineno-0-2005"></a>
<a id="__codelineno-0-2006" name="__codelineno-0-2006"></a>        <span class="n">agg_stats</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-2007" name="__codelineno-0-2007"></a>            <span class="s2">&quot;pred_goal&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2008" name="__codelineno-0-2008"></a>            <span class="s2">&quot;pred_goal_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2009" name="__codelineno-0-2009"></a>            <span class="s2">&quot;shot&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2010" name="__codelineno-0-2010"></a>            <span class="s2">&quot;shot_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2011" name="__codelineno-0-2011"></a>            <span class="s2">&quot;miss&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2012" name="__codelineno-0-2012"></a>            <span class="s2">&quot;block&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2013" name="__codelineno-0-2013"></a>            <span class="s2">&quot;corsi&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2014" name="__codelineno-0-2014"></a>            <span class="s2">&quot;corsi_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2015" name="__codelineno-0-2015"></a>            <span class="s2">&quot;fenwick&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2016" name="__codelineno-0-2016"></a>            <span class="s2">&quot;fenwick_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2017" name="__codelineno-0-2017"></a>            <span class="s2">&quot;goal&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2018" name="__codelineno-0-2018"></a>            <span class="s2">&quot;goal_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2019" name="__codelineno-0-2019"></a>            <span class="s2">&quot;hd_goal&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2020" name="__codelineno-0-2020"></a>            <span class="s2">&quot;hd_shot&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2021" name="__codelineno-0-2021"></a>            <span class="s2">&quot;hd_fenwick&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2022" name="__codelineno-0-2022"></a>            <span class="s2">&quot;hd_miss&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2023" name="__codelineno-0-2023"></a>            <span class="s2">&quot;hit&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2024" name="__codelineno-0-2024"></a>            <span class="s2">&quot;pen0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2025" name="__codelineno-0-2025"></a>            <span class="s2">&quot;pen2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2026" name="__codelineno-0-2026"></a>            <span class="s2">&quot;pen4&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2027" name="__codelineno-0-2027"></a>            <span class="s2">&quot;pen5&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2028" name="__codelineno-0-2028"></a>            <span class="s2">&quot;pen10&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2029" name="__codelineno-0-2029"></a>            <span class="s2">&quot;fac&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2030" name="__codelineno-0-2030"></a>            <span class="s2">&quot;ozf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2031" name="__codelineno-0-2031"></a>            <span class="s2">&quot;nzf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2032" name="__codelineno-0-2032"></a>            <span class="s2">&quot;dzf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2033" name="__codelineno-0-2033"></a>            <span class="s2">&quot;event_length&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2034" name="__codelineno-0-2034"></a>        <span class="p">]</span>
<a id="__codelineno-0-2035" name="__codelineno-0-2035"></a>
<a id="__codelineno-0-2036" name="__codelineno-0-2036"></a>        <span class="n">agg_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="s2">&quot;sum&quot;</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">agg_stats</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">pbp</span><span class="o">.</span><span class="n">columns</span><span class="p">}</span>
<a id="__codelineno-0-2037" name="__codelineno-0-2037"></a>
<a id="__codelineno-0-2038" name="__codelineno-0-2038"></a>        <span class="n">new_cols</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-2039" name="__codelineno-0-2039"></a>            <span class="s2">&quot;xga&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2040" name="__codelineno-0-2040"></a>            <span class="s2">&quot;xga_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2041" name="__codelineno-0-2041"></a>            <span class="s2">&quot;sa&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2042" name="__codelineno-0-2042"></a>            <span class="s2">&quot;sa_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2043" name="__codelineno-0-2043"></a>            <span class="s2">&quot;msa&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2044" name="__codelineno-0-2044"></a>            <span class="s2">&quot;bsf&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2045" name="__codelineno-0-2045"></a>            <span class="s2">&quot;ca&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2046" name="__codelineno-0-2046"></a>            <span class="s2">&quot;ca_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2047" name="__codelineno-0-2047"></a>            <span class="s2">&quot;fa&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2048" name="__codelineno-0-2048"></a>            <span class="s2">&quot;fa_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2049" name="__codelineno-0-2049"></a>            <span class="s2">&quot;ga&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2050" name="__codelineno-0-2050"></a>            <span class="s2">&quot;ga_adj&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2051" name="__codelineno-0-2051"></a>            <span class="s2">&quot;hdga&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2052" name="__codelineno-0-2052"></a>            <span class="s2">&quot;hdsa&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2053" name="__codelineno-0-2053"></a>            <span class="s2">&quot;hdfa&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2054" name="__codelineno-0-2054"></a>            <span class="s2">&quot;hdmsa&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2055" name="__codelineno-0-2055"></a>            <span class="s2">&quot;ht&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2056" name="__codelineno-0-2056"></a>            <span class="s2">&quot;pend0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2057" name="__codelineno-0-2057"></a>            <span class="s2">&quot;pend2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2058" name="__codelineno-0-2058"></a>            <span class="s2">&quot;pend4&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2059" name="__codelineno-0-2059"></a>            <span class="s2">&quot;pend5&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2060" name="__codelineno-0-2060"></a>            <span class="s2">&quot;pend10&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2061" name="__codelineno-0-2061"></a>            <span class="s2">&quot;fol&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2062" name="__codelineno-0-2062"></a>            <span class="s2">&quot;ozfl&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2063" name="__codelineno-0-2063"></a>            <span class="s2">&quot;nzfl&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2064" name="__codelineno-0-2064"></a>            <span class="s2">&quot;dzfl&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2065" name="__codelineno-0-2065"></a>            <span class="s2">&quot;toi&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2066" name="__codelineno-0-2066"></a>        <span class="p">]</span>
<a id="__codelineno-0-2067" name="__codelineno-0-2067"></a>
<a id="__codelineno-0-2068" name="__codelineno-0-2068"></a>        <span class="n">new_cols</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">agg_stats</span><span class="p">,</span> <span class="n">new_cols</span><span class="p">))</span>
<a id="__codelineno-0-2069" name="__codelineno-0-2069"></a>
<a id="__codelineno-0-2070" name="__codelineno-0-2070"></a>        <span class="n">new_cols</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
<a id="__codelineno-0-2071" name="__codelineno-0-2071"></a>            <span class="p">{</span>
<a id="__codelineno-0-2072" name="__codelineno-0-2072"></a>                <span class="s2">&quot;opp_team&quot;</span><span class="p">:</span> <span class="s2">&quot;team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2073" name="__codelineno-0-2073"></a>                <span class="s2">&quot;opp_score_state&quot;</span><span class="p">:</span> <span class="s2">&quot;score_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2074" name="__codelineno-0-2074"></a>                <span class="s2">&quot;opp_strength_state&quot;</span><span class="p">:</span> <span class="s2">&quot;strength_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2075" name="__codelineno-0-2075"></a>                <span class="s2">&quot;event_team&quot;</span><span class="p">:</span> <span class="s2">&quot;opp_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2076" name="__codelineno-0-2076"></a>            <span class="p">}</span>
<a id="__codelineno-0-2077" name="__codelineno-0-2077"></a>        <span class="p">)</span>
<a id="__codelineno-0-2078" name="__codelineno-0-2078"></a>
<a id="__codelineno-0-2079" name="__codelineno-0-2079"></a>        <span class="n">stats_against</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-2080" name="__codelineno-0-2080"></a>            <span class="n">pbp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">group_list</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-2081" name="__codelineno-0-2081"></a>            <span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_dict</span><span class="p">)</span>
<a id="__codelineno-0-2082" name="__codelineno-0-2082"></a>            <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">new_cols</span><span class="p">)</span>
<a id="__codelineno-0-2083" name="__codelineno-0-2083"></a>        <span class="p">)</span>
<a id="__codelineno-0-2084" name="__codelineno-0-2084"></a>
<a id="__codelineno-0-2085" name="__codelineno-0-2085"></a>        <span class="n">merge_list</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-2086" name="__codelineno-0-2086"></a>            <span class="s2">&quot;season&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2087" name="__codelineno-0-2087"></a>            <span class="s2">&quot;session&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2088" name="__codelineno-0-2088"></a>            <span class="s2">&quot;game_id&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2089" name="__codelineno-0-2089"></a>            <span class="s2">&quot;game_date&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2090" name="__codelineno-0-2090"></a>            <span class="s2">&quot;team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2091" name="__codelineno-0-2091"></a>            <span class="s2">&quot;opp_team&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2092" name="__codelineno-0-2092"></a>            <span class="s2">&quot;strength_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2093" name="__codelineno-0-2093"></a>            <span class="s2">&quot;score_state&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2094" name="__codelineno-0-2094"></a>            <span class="s2">&quot;game_period&quot;</span><span class="p">,</span>
<a id="__codelineno-0-2095" name="__codelineno-0-2095"></a>        <span class="p">]</span>
<a id="__codelineno-0-2096" name="__codelineno-0-2096"></a>
<a id="__codelineno-0-2097" name="__codelineno-0-2097"></a>        <span class="n">merge_list</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-2098" name="__codelineno-0-2098"></a>            <span class="n">x</span>
<a id="__codelineno-0-2099" name="__codelineno-0-2099"></a>            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">merge_list</span>
<a id="__codelineno-0-2100" name="__codelineno-0-2100"></a>            <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">stats_for</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">stats_against</span><span class="o">.</span><span class="n">columns</span>
<a id="__codelineno-0-2101" name="__codelineno-0-2101"></a>        <span class="p">]</span>
<a id="__codelineno-0-2102" name="__codelineno-0-2102"></a>
<a id="__codelineno-0-2103" name="__codelineno-0-2103"></a>        <span class="n">team_stats</span> <span class="o">=</span> <span class="n">stats_for</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">stats_against</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">merge_list</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;outer&quot;</span><span class="p">)</span>
<a id="__codelineno-0-2104" name="__codelineno-0-2104"></a>
<a id="__codelineno-0-2105" name="__codelineno-0-2105"></a>        <span class="n">team_stats</span><span class="p">[</span><span class="s2">&quot;toi&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">team_stats</span><span class="o">.</span><span class="n">toi_x</span> <span class="o">+</span> <span class="n">team_stats</span><span class="o">.</span><span class="n">toi_y</span><span class="p">)</span> <span class="o">/</span> <span class="mi">60</span>
<a id="__codelineno-0-2106" name="__codelineno-0-2106"></a>
<a id="__codelineno-0-2107" name="__codelineno-0-2107"></a>        <span class="n">team_stats</span> <span class="o">=</span> <span class="n">team_stats</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s2">&quot;toi_x&quot;</span><span class="p">,</span> <span class="s2">&quot;toi_y&quot;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-2108" name="__codelineno-0-2108"></a>
<a id="__codelineno-0-2109" name="__codelineno-0-2109"></a>        <span class="n">fos</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ozf&quot;</span><span class="p">,</span> <span class="s2">&quot;nzf&quot;</span><span class="p">,</span> <span class="s2">&quot;dzf&quot;</span><span class="p">]</span>
<a id="__codelineno-0-2110" name="__codelineno-0-2110"></a>
<a id="__codelineno-0-2111" name="__codelineno-0-2111"></a>        <span class="k">for</span> <span class="n">fo</span> <span class="ow">in</span> <span class="n">fos</span><span class="p">:</span>
<a id="__codelineno-0-2112" name="__codelineno-0-2112"></a>            <span class="n">team_stats</span><span class="p">[</span><span class="n">fo</span><span class="p">]</span> <span class="o">=</span> <span class="n">team_stats</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fo</span><span class="si">}</span><span class="s2">w&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">team_stats</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fo</span><span class="si">}</span><span class="s2">w&quot;</span><span class="p">]</span>
<a id="__codelineno-0-2113" name="__codelineno-0-2113"></a>
<a id="__codelineno-0-2114" name="__codelineno-0-2114"></a>        <span class="n">team_stats</span> <span class="o">=</span> <span class="n">team_stats</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s2">&quot;toi&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-2115" name="__codelineno-0-2115"></a>
<a id="__codelineno-0-2116" name="__codelineno-0-2116"></a>        <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">TeamStatSchema</span><span class="o">.</span><span class="n">dtypes</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">team_stats</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
<a id="__codelineno-0-2117" name="__codelineno-0-2117"></a>
<a id="__codelineno-0-2118" name="__codelineno-0-2118"></a>        <span class="n">team_stats</span> <span class="o">=</span> <span class="n">TeamStatSchema</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">team_stats</span><span class="p">[</span><span class="n">cols</span><span class="p">])</span>
<a id="__codelineno-0-2119" name="__codelineno-0-2119"></a>
<a id="__codelineno-0-2120" name="__codelineno-0-2120"></a>        <span class="n">pbar_message</span> <span class="o">=</span> <span class="s2">&quot;Finished prepping team data&quot;</span>
<a id="__codelineno-0-2121" name="__codelineno-0-2121"></a>
<a id="__codelineno-0-2122" name="__codelineno-0-2122"></a>        <span class="n">progress</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">team_task</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">pbar_message</span><span class="p">,</span> <span class="n">advance</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">refresh</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-2123" name="__codelineno-0-2123"></a>
<a id="__codelineno-0-2124" name="__codelineno-0-2124"></a>    <span class="k">return</span> <span class="n">team_stats</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>







  
  



  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../chicken_nhl/scrape/" class="md-footer__link md-footer__link--prev" aria-label="Previous: scrape">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                scrape
              </div>
            </div>
          </a>
        
        
          
          <a href="../../../xg_model/xg_model/" class="md-footer__link md-footer__link--next" aria-label="Next: xG Model">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                xG Model
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <p>&copy; 2024 <a href="https://www.chickenandstats.com" target="_blank" rel="noopener">Chicken and Stats<br>
<a href="#__consent">Change cookie settings</a></p>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs Insiders
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="mailto:chicken@chickenandstats.com" target="_blank" rel="noopener" title="Send me an email" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 112c-8.8 0-16 7.2-16 16v22.1l172.5 141.6c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16zM48 212.2V384c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0zM0 128c0-35.3 28.7-64 64-64h384c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/chickenandstats" target="_blank" rel="noopener" title="chickenstats Github repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
    
    
    
    
    <a href="https://twitter.com/chickenandstats" target="_blank" rel="noopener" title="@chickenandstats" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
    
    
    
    
    <a href="https://pypi.org/project/chickenstats/" target="_blank" rel="noopener" title="Python Package Index (PyPI)" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3"/></svg>
    </a>
  
    
    
    
    
    <a href="https://chickenstats.com/latest/#__consent" target="_blank" rel="noopener" title="Cookies settings" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3a9 9 0 0 0-9 9 9 9 0 0 0 9 9 9 9 0 0 0 9-9c0-.5-.04-1-.13-1.5C20.6 10 20 10 20 10h-2V9c0-1-1-1-1-1h-2V7c0-1-1-1-1-1h-1V4c0-1-1-1-1-1M9.5 6A1.5 1.5 0 0 1 11 7.5 1.5 1.5 0 0 1 9.5 9 1.5 1.5 0 0 1 8 7.5 1.5 1.5 0 0 1 9.5 6m-3 4A1.5 1.5 0 0 1 8 11.5 1.5 1.5 0 0 1 6.5 13 1.5 1.5 0 0 1 5 11.5 1.5 1.5 0 0 1 6.5 10m5 1a1.5 1.5 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5 1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5m5 2a1.5 1.5 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5 1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5M11 16a1.5 1.5 0 0 1 1.5 1.5A1.5 1.5 0 0 1 11 19a1.5 1.5 0 0 1-1.5-1.5A1.5 1.5 0 0 1 11 16"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  


  
    
  




<h4>chickenstats values your privacy</h4>
<p>chickenstats uses cookies to enhance your browsing experience and
to measure the effectiveness of the site (e.g., successful searches, helpfulness of examples).
By clicking "Accept all," you consent to the use of cookies
</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "header.autohide", "navigation.instant", "navigation.path", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.footer", "search.highlight", "search.suggest", "search.share", "toc.follow", "toc.integrate"], "search": "../../../assets/javascripts/workers/search.1e90e0fb.min.js", "tags": {"chicken-nhl": "chicken-nhl", "chickenstats": "chickenstats", "evolving-hockey": "evolving-hockey", "hockey": "hockey", "xG model": "xg-model"}, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.a59f24f2.min.js"></script>
      
        <script src="../../../assets/external/unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../../../javascripts/tablesort.js"></script>
      
    
  <script id="init-glightbox">document.querySelectorAll('.glightbox').forEach(function(element) {
    try {
        var img = element.querySelector('img');
        if (img && img.src) {
            element.setAttribute('href', img.src);
        } else {
            console.log('No img element with src attribute found');
        }
    } catch (error) {
        console.log('Error:', error);
    }
});
const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>